Starting Application using Java 17 with PID 23468 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists mbti_keyword 
       drop constraint if exists FK20as81cwnem47g0rau7dgvlhv

    alter table if exists message 
       drop constraint if exists FKfjvvb779vlbr90hpers8sx2lw

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKr7ba5thyautqvj318xyda0oi0

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKevkvo9tc8ilvfr9kvksaiq57p

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKcv2kbfi4jyt6mpow5107cijb6

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKn2952viym3qnsuelmwwff81xj

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKb8klw60ogg69suq94v82aesmv

    alter table if exists pet_saju 
       drop constraint if exists FK5m212pmtdgce0fme2c0if8uxy

    alter table if exists pet_saju 
       drop constraint if exists FK474uhpeam7tije8l83brqv32c

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists mbti_keyword cascade

    drop table if exists mbtistyle_card cascade

    drop table if exists message cascade

    drop table if exists mock_entity cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_pet_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists signal_card cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table mbti_keyword (
        keyword TEXT,
        share_id varchar(255) not null
    )

    create table mbtistyle_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        type varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table mbtistyle_card is
        'mbti 카드'

    comment on column mbtistyle_card.created_date is
        '생성 일시'

    comment on column mbtistyle_card.last_modified_date is
        '수정 일시'

    comment on column mbtistyle_card.description is
        'description'

    comment on column mbtistyle_card.type is
        'summary'

    comment on column mbtistyle_card.id is
        'ID'

    create table message (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        from varchar(100),
        id varchar(255) not null,
        message TEXT,
        signal_id varchar(255),
        primary key (id)
    )

    comment on table message is
        '이모지 카드'

    comment on column message.created_date is
        '생성 일시'

    comment on column message.last_modified_date is
        '수정 일시'

    comment on column message.from is
        'from'

    comment on column message.id is
        'ID'

    comment on column message.message is
        'message'

    create table mock_entity (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        share_id varchar(255) not null,
        primary key (share_id)
    )

    comment on table mock_entity is
        '테스트엔터티'

    comment on column mock_entity.created_date is
        '생성 일시'

    comment on column mock_entity.last_modified_date is
        '수정 일시'

    comment on column mock_entity.share_id is
        'UUID (링크에 사용)'

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_pet_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        signal_id varchar(255) unique,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_pet_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_pet_compatibility.created_date is
        '생성 일시'

    comment on column pet_pet_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_pet_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_pet_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        mbti_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        method varchar(10),
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        referer varchar(100),
        user_agent varchar(300),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.method is
        'HTTP 메소드'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.referer is
        'referer'

    comment on column request_log.user_agent is
        'User-Agent'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table signal_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table signal_card is
        'signal 카드'

    comment on column signal_card.created_date is
        '생성 일시'

    comment on column signal_card.last_modified_date is
        '수정 일시'

    comment on column signal_card.description is
        'description'

    comment on column signal_card.id is
        'ID'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists mbti_keyword 
       add constraint FK20as81cwnem47g0rau7dgvlhv 
       foreign key (share_id) 
       references mbtistyle_card

    alter table if exists message 
       add constraint FKfjvvb779vlbr90hpers8sx2lw 
       foreign key (signal_id) 
       references signal_card

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_pet_compatibility 
       add constraint FKr7ba5thyautqvj318xyda0oi0 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_pet_compatibility 
       add constraint FKevkvo9tc8ilvfr9kvksaiq57p 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_pet_compatibility 
       add constraint FKcv2kbfi4jyt6mpow5107cijb6 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_pet_compatibility 
       add constraint FKn2952viym3qnsuelmwwff81xj 
       foreign key (signal_id) 
       references signal_card

    alter table if exists pet_pet_compatibility 
       add constraint FKb8klw60ogg69suq94v82aesmv 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists pet_saju 
       add constraint FK5m212pmtdgce0fme2c0if8uxy 
       foreign key (mbti_id) 
       references mbtistyle_card

    alter table if exists pet_saju 
       add constraint FK474uhpeam7tije8l83brqv32c 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 6.577 seconds (process running for 7.49)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 228
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Chromium";v="136", "Google Chrome";v="136", "Not.A/Brand";v="99"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746824535$o21$g1$t1746826054$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(method=POST, referer=http://localhost:8004/swagger-ui/index.html, endpoint=/pet-pet/compatibility, ipAddress=0:0:0:0:0:0:0:1, userAgent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetPetCompatibilityRequest(petName1=양봉이, petBirthDate1=2021-06-07, petSpecies1=고양이, petGender1=남, petName2=양송이, petBirthDate2=2022-02-10, petSpecies2=고양이, petGender2=여)
getAllStemBranch - birthDate: 2021-06-07
getAllStemBranch - birthDate: 2022-02-10
userPrompt : {"반려동물2":"반려동물2: 양송이, 2022-02-10, 음력, 임인, 임묘, 기해, 여 ","반려동물1":"반려동물1: 양봉이, 2021-06-07, 음력, 신축, 계오, 신묘, 남 "}
LLM 호출 소요 시간: 15095ms (15.10초)
content : {
  "input": {
    "반려동물1": "양봉이, 2021-06-07, 음력, 신축, 계오, 신묘, 남",
    "반려동물2": "양송이, 2022-02-10, 음력, 임인, 임묘, 기해, 여"
  },
  "fortuneMessage": "양봉이는 부드럽고 온화한 따뜻한 물결 같은 기운을 타고 있어 안정된 감각으로 움직인다냥.<br>양송이는 활기찬 서늘한 바람이 은근히 퍼지듯 고요한 중에도 긴장감을 제공하는 기운을 품었다냥.<br>두 아이는 서로 다른 온도의 공간에서 각자의 본능을 존중하며 적당한 거리를 유지하는 조화로운 가족이다냥.",
  "compatibility": {
    "tags": ["거리 조절", "서로 관찰", "느긋함 유지", "가깝다 멀다", "서로 존중"],
    "description": "양봉이는 느긋함을 선호해 주로 여유롭게 움직이고, 양송이는 활달한 본능으로 때때로 거리감을 요구한다냥.<br>서로의 행동을 눈치 보며 조심스럽게 가까워지고, 떨어져 휴식하는 리듬이 잘 맞는 가족이다냥.<br>감각적 차이 덕분에 각자의 공간을 존중하면서 아늑한 함께 시간 보내기 좋아한다냥."
  },
  "dailyLife": [
    {
      "emoji": "🐾",
      "name": "서로 감시 중",
      "description": "양봉이는 부드럽고 꾸준한 움직임으로 양송이를 관찰하며, 양송이는 신중히 관찰하며 반응한다냥."
    },
    {
      "emoji": "🐇",
      "name": "숨바꼭질 놀이",
      "description": "양송이가 빠른 움직임으로 숨고, 양봉이는 느긋하지만 끈기 있게 찾으며 유쾌한 시간이 흐른다냥."
    },
    {
      "emoji": "🛋️",
      "name": "공간 분할 휴식",
      "description": "서늘한 구석과 따뜻한 모퉁이에서 서로 존중하며 자리 잡아 편안한 쉼을 즐긴다냥."
    }
  ],
  "signal": {
    "messages": [
      {
        "from": "양봉이",
        "message": "양송이가 곁에 있을 때는 은근히 기운이 살아나는 느낌이다냥."
      },
      {
        "from": "양송이",
        "message": "양봉이가 느긋하게 있을 때 마음이 안정되고 편안하다냥."
      }
    ],
    "description": "양봉이는 부드럽고 포근한 기운으로 양송이의 활발함에 편안한 배경이 되어주고, 양송이는 민첩한 감각으로 양봉이의 느긋함에 활기를 주는 현실적인 서로의 균형감을 지닌 사이이다냥."
  },
  "toys": [
    {
      "emoji": "🐱",
      "name": "깃털 낚싯대",
      "description": "양봉이의 온화한 감각에 맞는 부드러운 움직임으로 본능을 자극한다냥."
    },
    {
      "emoji": "🐾",
      "name": "작은 공 세트",
      "description": "양송이의 활달한 본능에 딱 맞는 빠르고 가벼운 움직임 장난감이다냥."
    },
    {
      "emoji": "🧸",
      "name": "숨숨집",
      "description": "서로 각자의 공간을 존중하며 쉴 수 있는 편안한 은신처다냥."
    }
  ]
}
PetOwnerCompatibilityResponse.toEntity() called : PetPetCompatibilityResponse(requestLog=RequestLogDto(method=POST, referer=http://localhost:8004/swagger-ui/index.html, endpoint=/pet-pet/compatibility, ipAddress=0:0:0:0:0:0:0:1, userAgent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36, deviceType=WEB, deviceId=UNKNOWN, requestParams={"petName1":"양봉이","petBirthDate1":"2021-06-07","petSpecies1":"고양이","petGender1":"남","petName2":"양송이","petBirthDate2":"2022-02-10","petSpecies2":"고양이","petGender2":"여"}), fortuneMessage=양봉이는 부드럽고 온화한 따뜻한 물결 같은 기운을 타고 있어 안정된 감각으로 움직인다냥.<br>양송이는 활기찬 서늘한 바람이 은근히 퍼지듯 고요한 중에도 긴장감을 제공하는 기운을 품었다냥.<br>두 아이는 서로 다른 온도의 공간에서 각자의 본능을 존중하며 적당한 거리를 유지하는 조화로운 가족이다냥., compatibility=TagsDescriptionDto(tags=[거리 조절, 서로 관찰, 느긋함 유지, 가깝다 멀다, 서로 존중], description=양봉이는 느긋함을 선호해 주로 여유롭게 움직이고, 양송이는 활달한 본능으로 때때로 거리감을 요구한다냥.<br>서로의 행동을 눈치 보며 조심스럽게 가까워지고, 떨어져 휴식하는 리듬이 잘 맞는 가족이다냥.<br>감각적 차이 덕분에 각자의 공간을 존중하면서 아늑한 함께 시간 보내기 좋아한다냥.), dailyLife=[EmojiCardDto(emoji=🐾, name=서로 감시 중, description=양봉이는 부드럽고 꾸준한 움직임으로 양송이를 관찰하며, 양송이는 신중히 관찰하며 반응한다냥.), EmojiCardDto(emoji=🐇, name=숨바꼭질 놀이, description=양송이가 빠른 움직임으로 숨고, 양봉이는 느긋하지만 끈기 있게 찾으며 유쾌한 시간이 흐른다냥.), EmojiCardDto(emoji=🛋️, name=공간 분할 휴식, description=서늘한 구석과 따뜻한 모퉁이에서 서로 존중하며 자리 잡아 편안한 쉼을 즐긴다냥.)], signal=SignalCardDto(messages=[MessageDto(from=양봉이, message=양송이가 곁에 있을 때는 은근히 기운이 살아나는 느낌이다냥.), MessageDto(from=양송이, message=양봉이가 느긋하게 있을 때 마음이 안정되고 편안하다냥.)], description=양봉이는 부드럽고 포근한 기운으로 양송이의 활발함에 편안한 배경이 되어주고, 양송이는 민첩한 감각으로 양봉이의 느긋함에 활기를 주는 현실적인 서로의 균형감을 지닌 사이이다냥.), toys=[EmojiCardDto(emoji=🐱, name=깃털 낚싯대, description=양봉이의 온화한 감각에 맞는 부드러운 움직임으로 본능을 자극한다냥.), EmojiCardDto(emoji=🐾, name=작은 공 세트, description=양송이의 활달한 본능에 딱 맞는 빠르고 가벼운 움직임 장난감이다냥.), EmojiCardDto(emoji=🧸, name=숨숨집, description=서로 각자의 공간을 존중하며 쉴 수 있는 편안한 은신처다냥.)], shareId=null)

    insert 
    into
        tags_description_card
        (created_date, description, last_modified_date, id) 
    values
        (?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        request_log
        (created_date, device_id, device_type, endpoint, ip_address, last_modified_date, method, referer, request_params, user_agent, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        signal_card
        (created_date, description, last_modified_date, id) 
    values
        (?, ?, ?, ?)

    insert 
    into
        message
        (created_date,
    from
        , last_modified_date, message, id) 
    values
        (?, ?, ?, ?, ?)
ERROR: syntax error at or near "from"
  Position: 35
handleRuntimeException
org.springframework.dao.InvalidDataAccessResourceUsageException: could not execute statement [ERROR: syntax error at or near "from"
  Position: 35] [insert into message (created_date,from,last_modified_date,message,id) values (?,?,?,?,?)]; SQL [insert into message (created_date,from,last_modified_date,message,id) values (?,?,?,?,?)]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:277)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:565)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:794)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:757)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:669)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:419)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at jdk.proxy4/jdk.proxy4.$Proxy185.save(Unknown Source)
	at com.codism.service.pet.PetPetCompatibilityService.savePetPetCompatibility(PetPetCompatibilityService.java:109)
	at com.codism.service.pet.PetPetCompatibilityService.generateCompatibility(PetPetCompatibilityService.java:100)
	at com.codism.controller.pet.PetPetCompatibilityController.generateCompatibility(PetPetCompatibilityController.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.codism.config.ContentCachingFilter.doFilterInternal(ContentCachingFilter.java:27)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.hibernate.exception.SQLGrammarException: could not execute statement [ERROR: syntax error at or near "from"
  Position: 35] [insert into message (created_date,from,last_modified_date,message,id) values (?,?,?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:108)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:40)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:52)
	at org.hibernate.persister.entity.mutation.InsertCoordinator.doStaticInserts(InsertCoordinator.java:175)
	at org.hibernate.persister.entity.mutation.InsertCoordinator.coordinateInsert(InsertCoordinator.java:113)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2873)
	at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:104)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:632)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:499)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:363)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1403)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:484)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2319)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1976)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:561)
	... 71 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "from"
  Position: 35
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 92 common frames omitted
Starting Application using Java 17 with PID 19436 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists mbti_keyword 
       drop constraint if exists FK20as81cwnem47g0rau7dgvlhv

    alter table if exists message 
       drop constraint if exists FKfjvvb779vlbr90hpers8sx2lw

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKr7ba5thyautqvj318xyda0oi0

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKevkvo9tc8ilvfr9kvksaiq57p

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKcv2kbfi4jyt6mpow5107cijb6

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKn2952viym3qnsuelmwwff81xj

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKb8klw60ogg69suq94v82aesmv

    alter table if exists pet_saju 
       drop constraint if exists FK5m212pmtdgce0fme2c0if8uxy

    alter table if exists pet_saju 
       drop constraint if exists FK474uhpeam7tije8l83brqv32c

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists mbti_keyword cascade

    drop table if exists mbtistyle_card cascade

    drop table if exists message cascade

    drop table if exists mock_entity cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_pet_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists signal_card cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table mbti_keyword (
        keyword TEXT,
        share_id varchar(255) not null
    )

    create table mbtistyle_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        type varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table mbtistyle_card is
        'mbti 카드'

    comment on column mbtistyle_card.created_date is
        '생성 일시'

    comment on column mbtistyle_card.last_modified_date is
        '수정 일시'

    comment on column mbtistyle_card.description is
        'description'

    comment on column mbtistyle_card.type is
        'summary'

    comment on column mbtistyle_card.id is
        'ID'

    create table message (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        from varchar(100),
        id varchar(255) not null,
        message TEXT,
        signal_id varchar(255),
        primary key (id)
    )

    comment on table message is
        '이모지 카드'

    comment on column message.created_date is
        '생성 일시'

    comment on column message.last_modified_date is
        '수정 일시'

    comment on column message.from is
        'from'

    comment on column message.id is
        'ID'

    comment on column message.message is
        'message'

    create table mock_entity (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        share_id varchar(255) not null,
        primary key (share_id)
    )

    comment on table mock_entity is
        '테스트엔터티'

    comment on column mock_entity.created_date is
        '생성 일시'

    comment on column mock_entity.last_modified_date is
        '수정 일시'

    comment on column mock_entity.share_id is
        'UUID (링크에 사용)'

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_pet_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        signal_id varchar(255) unique,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_pet_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_pet_compatibility.created_date is
        '생성 일시'

    comment on column pet_pet_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_pet_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_pet_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        mbti_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        method varchar(10),
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        referer varchar(100),
        user_agent varchar(300),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.method is
        'HTTP 메소드'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.referer is
        'referer'

    comment on column request_log.user_agent is
        'User-Agent'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table signal_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table signal_card is
        'signal 카드'

    comment on column signal_card.created_date is
        '생성 일시'

    comment on column signal_card.last_modified_date is
        '수정 일시'

    comment on column signal_card.description is
        'description'

    comment on column signal_card.id is
        'ID'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists mbti_keyword 
       add constraint FK20as81cwnem47g0rau7dgvlhv 
       foreign key (share_id) 
       references mbtistyle_card

    alter table if exists message 
       add constraint FKfjvvb779vlbr90hpers8sx2lw 
       foreign key (signal_id) 
       references signal_card

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_pet_compatibility 
       add constraint FKr7ba5thyautqvj318xyda0oi0 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_pet_compatibility 
       add constraint FKevkvo9tc8ilvfr9kvksaiq57p 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_pet_compatibility 
       add constraint FKcv2kbfi4jyt6mpow5107cijb6 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_pet_compatibility 
       add constraint FKn2952viym3qnsuelmwwff81xj 
       foreign key (signal_id) 
       references signal_card

    alter table if exists pet_pet_compatibility 
       add constraint FKb8klw60ogg69suq94v82aesmv 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists pet_saju 
       add constraint FK5m212pmtdgce0fme2c0if8uxy 
       foreign key (mbti_id) 
       references mbtistyle_card

    alter table if exists pet_saju 
       add constraint FK474uhpeam7tije8l83brqv32c 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 5.154 seconds (process running for 5.752)
Starting Application using Java 17 with PID 20724 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists mbti_keyword 
       drop constraint if exists FK20as81cwnem47g0rau7dgvlhv

    alter table if exists message 
       drop constraint if exists FKfjvvb779vlbr90hpers8sx2lw

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKr7ba5thyautqvj318xyda0oi0

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKevkvo9tc8ilvfr9kvksaiq57p

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKcv2kbfi4jyt6mpow5107cijb6

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKn2952viym3qnsuelmwwff81xj

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKb8klw60ogg69suq94v82aesmv

    alter table if exists pet_saju 
       drop constraint if exists FK5m212pmtdgce0fme2c0if8uxy

    alter table if exists pet_saju 
       drop constraint if exists FK474uhpeam7tije8l83brqv32c

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists mbti_keyword cascade

    drop table if exists mbtistyle_card cascade

    drop table if exists message cascade

    drop table if exists mock_entity cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_pet_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists signal_card cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table mbti_keyword (
        keyword TEXT,
        share_id varchar(255) not null
    )

    create table mbtistyle_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        type varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table mbtistyle_card is
        'mbti 카드'

    comment on column mbtistyle_card.created_date is
        '생성 일시'

    comment on column mbtistyle_card.last_modified_date is
        '수정 일시'

    comment on column mbtistyle_card.description is
        'description'

    comment on column mbtistyle_card.type is
        'summary'

    comment on column mbtistyle_card.id is
        'ID'

    create table message (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        from varchar(100),
        id varchar(255) not null,
        message TEXT,
        signal_id varchar(255),
        primary key (id)
    )

    comment on table message is
        '이모지 카드'

    comment on column message.created_date is
        '생성 일시'

    comment on column message.last_modified_date is
        '수정 일시'

    comment on column message.from is
        'from'

    comment on column message.id is
        'ID'

    comment on column message.message is
        'message'

    create table mock_entity (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        share_id varchar(255) not null,
        primary key (share_id)
    )

    comment on table mock_entity is
        '테스트엔터티'

    comment on column mock_entity.created_date is
        '생성 일시'

    comment on column mock_entity.last_modified_date is
        '수정 일시'

    comment on column mock_entity.share_id is
        'UUID (링크에 사용)'

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_pet_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        signal_id varchar(255) unique,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_pet_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_pet_compatibility.created_date is
        '생성 일시'

    comment on column pet_pet_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_pet_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_pet_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        mbti_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        method varchar(10),
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        referer varchar(100),
        user_agent varchar(300),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.method is
        'HTTP 메소드'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.referer is
        'referer'

    comment on column request_log.user_agent is
        'User-Agent'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table signal_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table signal_card is
        'signal 카드'

    comment on column signal_card.created_date is
        '생성 일시'

    comment on column signal_card.last_modified_date is
        '수정 일시'

    comment on column signal_card.description is
        'description'

    comment on column signal_card.id is
        'ID'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists mbti_keyword 
       add constraint FK20as81cwnem47g0rau7dgvlhv 
       foreign key (share_id) 
       references mbtistyle_card

    alter table if exists message 
       add constraint FKfjvvb779vlbr90hpers8sx2lw 
       foreign key (signal_id) 
       references signal_card

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_pet_compatibility 
       add constraint FKr7ba5thyautqvj318xyda0oi0 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_pet_compatibility 
       add constraint FKevkvo9tc8ilvfr9kvksaiq57p 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_pet_compatibility 
       add constraint FKcv2kbfi4jyt6mpow5107cijb6 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_pet_compatibility 
       add constraint FKn2952viym3qnsuelmwwff81xj 
       foreign key (signal_id) 
       references signal_card

    alter table if exists pet_pet_compatibility 
       add constraint FKb8klw60ogg69suq94v82aesmv 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists pet_saju 
       add constraint FK5m212pmtdgce0fme2c0if8uxy 
       foreign key (mbti_id) 
       references mbtistyle_card

    alter table if exists pet_saju 
       add constraint FK474uhpeam7tije8l83brqv32c 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 5.06 seconds (process running for 5.631)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 228
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Chromium";v="136", "Google Chrome";v="136", "Not.A/Brand";v="99"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746824535$o21$g1$t1746826054$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(method=POST, referer=http://localhost:8004/swagger-ui/index.html, endpoint=/pet-pet/compatibility, ipAddress=0:0:0:0:0:0:0:1, userAgent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetPetCompatibilityRequest(petName1=양봉이, petBirthDate1=2021-06-07, petSpecies1=고양이, petGender1=남, petName2=양송이, petBirthDate2=2022-02-10, petSpecies2=고양이, petGender2=여)
getAllStemBranch - birthDate: 2021-06-07
getAllStemBranch - birthDate: 2022-02-10
userPrompt : {"반려동물2":"양송이, 2022-02-10, 음력, 임인, 임묘, 기해, 여 ","반려동물1":"양봉이, 2021-06-07, 음력, 신축, 계오, 신묘, 남 "}
LLM 호출 소요 시간: 14698ms (14.70초)
content : {
  "input": {
    "반려동물1": "양봉이, 2021-06-07, 음력, 신축, 계오, 신묘, 남",
    "반려동물2": "양송이, 2022-02-10, 음력, 임인, 임묘, 기해, 여"
  },
  "fortuneMessage": "양봉이는 서늘한 바람 속에 민첩함을 품고 있어 주변 자극에 빠르게 반응하는 기운이다냥.<br>양송이는 따뜻한 햇살 같은 부드러운 에너지를 지녀 안정감과 포근함을 전달하는 기운이다냥.<br>서로 다른 감각의 흐름이 가족으로서 균형을 이루며 서로의 공간 감수성을 존중할 수 있는 좋은 기운이다냥.",
  "compatibility": {
    "tags": ["서로 공간존중", "간식 경쟁", "함께 탐색", "조용한 협력", "빠른 반응"],
    "description": "양봉이는 민첩하게 놀이에 몰입하며, 양송이는 조용히 관찰하다가 함께 참여하길 좋아한다냥.<br>두 냥이는 서로의 활동 리듬을 존중하며 가까워질 때는 간격을 살짝 두는 체온 조절을 한다냥.<br>기본적으로는 평화로운 공존과 간식 자리에서 서로 살짝 경쟁하는 습관이 자연스럽게 어울린다냥."
  },
  "dailyLife": [
    {
      "emoji": "🐾",
      "name": "빠른 발놀림",
      "description": "양봉이는 예민한 감각으로 놀잇감을 재빨리 감지해 급격한 움직임을 선보인다냥."
    },
    {
      "emoji": "🌿",
      "name": "따뜻한 포근함",
      "description": "양송이는 주변 온기를 느끼며 느긋하게 휴식하다가 필요할 때 살짝 끼어드는 스타일이다냥."
    },
    {
      "emoji": "🍃",
      "name": "쉼과 탐색의 균형",
      "description": "두 냥이는 때로는 거리를 두고 각자 쉼을 즐기다가도 같은 공간에서 관심사를 공유한다냥."
    }
  ],
  "signal": [
    {
      "messages": [
        {
          "from": "양봉이",
          "message": "양송이, 네가 조용히 내 움직임을 따라와 주는 게 묘하게 믿음직스럽다냥."
        },
        {
          "from": "양송이",
          "message": "양봉이, 네가 놀잇감을 빠르게 쫓을 때 난 조용히 곁을 지켜주는 게 좋아진다냥."
        }
      ],
      "description": "양봉이는 자신의 민첩함이 양송이에게 신뢰감을 주길 바라며,<br>양송이는 자신만의 온기와 침착함으로 양봉이를 안정시키려는 마음이다냥."
    }
  ],
  "toys": [
    {
      "emoji": "🧶",
      "name": "특수 울실 공",
      "description": "양봉이는 빠른 손놀림과 즉각 반응이 필요한 공으로 에너지를 발산한다냥."
    },
    {
      "emoji": "🌸",
      "name": "부드러운 캣닢 토이",
      "description": "양송이는 따뜻한 감각에 맞춰 소프트한 촉감의 토이를 좋아한다냥."
    },
    {
      "emoji": "🎋",
      "name": "대나무 미니 터널",
      "description": "두 냥이가 함께 쉼과 탐색을 즐길 수 있는 공간감 있는 토이이다냥."
    }
  ]
}
handleGlobalException
com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `com.codism.domain.saju.model.dto.response.pet.SignalCardDto` from Array value (token `JsonToken.START_ARRAY`)
 at [Source: (String)"{
  "input": {
    "반려동물1": "양봉이, 2021-06-07, 음력, 신축, 계오, 신묘, 남",
    "반려동물2": "양송이, 2022-02-10, 음력, 임인, 임묘, 기해, 여"
  },
  "fortuneMessage": "양봉이는 서늘한 바람 속에 민첩함을 품고 있어 주변 자극에 빠르게 반응하는 기운이다냥.<br>양송이는 따뜻한 햇살 같은 부드러운 에너지를 지녀 안정감과 포근함을 전달하는 기운이다냥.<br>서로 다른 감각의 흐름이 가족으로서 균형을 이루며 서로의 공간 감수성을 존중할 수 있는 좋은 기운이다냥.",
  "compatibility": {
    "tags": ["서로 공간존중", "간식 경쟁", "함께 탐색", "조용한 협력", "빠른 반응"],
    "description": "양봉이는 민첩하게 놀이에 몰입하며, 양송이는 조용히 관찰하다가 함께 참여하길 좋아한다냥.<br>두 냥이는 서로의 활동 리듬을 존중하며 가까워질 때는 간격을 살짝"[truncated 1248 chars]; line: 28, column: 13] (through reference chain: com.codism.domain.saju.model.dto.response.pet.PetPetCompatibilityResponse["signal"])
	at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)
	at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1752)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1526)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1473)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeFromArray(BeanDeserializer.java:656)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:211)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:187)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:129)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:314)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4825)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3772)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3740)
	at com.codism.service.pet.PetPetCompatibilityService.generateCompatibility(PetPetCompatibilityService.java:92)
	at com.codism.controller.pet.PetPetCompatibilityController.generateCompatibility(PetPetCompatibilityController.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.codism.config.ContentCachingFilter.doFilterInternal(ContentCachingFilter.java:27)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
Starting Application using Java 17 with PID 23200 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists mbti_keyword 
       drop constraint if exists FK20as81cwnem47g0rau7dgvlhv

    alter table if exists message 
       drop constraint if exists FKfjvvb779vlbr90hpers8sx2lw

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKr7ba5thyautqvj318xyda0oi0

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKevkvo9tc8ilvfr9kvksaiq57p

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKcv2kbfi4jyt6mpow5107cijb6

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKn2952viym3qnsuelmwwff81xj

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKb8klw60ogg69suq94v82aesmv

    alter table if exists pet_saju 
       drop constraint if exists FK5m212pmtdgce0fme2c0if8uxy

    alter table if exists pet_saju 
       drop constraint if exists FK474uhpeam7tije8l83brqv32c

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists mbti_keyword cascade

    drop table if exists mbtistyle_card cascade

    drop table if exists message cascade

    drop table if exists mock_entity cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_pet_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists signal_card cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table mbti_keyword (
        keyword TEXT,
        share_id varchar(255) not null
    )

    create table mbtistyle_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        type varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table mbtistyle_card is
        'mbti 카드'

    comment on column mbtistyle_card.created_date is
        '생성 일시'

    comment on column mbtistyle_card.last_modified_date is
        '수정 일시'

    comment on column mbtistyle_card.description is
        'description'

    comment on column mbtistyle_card.type is
        'summary'

    comment on column mbtistyle_card.id is
        'ID'

    create table message (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        from varchar(100),
        id varchar(255) not null,
        message TEXT,
        signal_id varchar(255),
        primary key (id)
    )

    comment on table message is
        '이모지 카드'

    comment on column message.created_date is
        '생성 일시'

    comment on column message.last_modified_date is
        '수정 일시'

    comment on column message.from is
        'from'

    comment on column message.id is
        'ID'

    comment on column message.message is
        'message'

    create table mock_entity (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        share_id varchar(255) not null,
        primary key (share_id)
    )

    comment on table mock_entity is
        '테스트엔터티'

    comment on column mock_entity.created_date is
        '생성 일시'

    comment on column mock_entity.last_modified_date is
        '수정 일시'

    comment on column mock_entity.share_id is
        'UUID (링크에 사용)'

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_pet_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        signal_id varchar(255) unique,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_pet_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_pet_compatibility.created_date is
        '생성 일시'

    comment on column pet_pet_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_pet_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_pet_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        mbti_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        method varchar(10),
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        referer varchar(100),
        user_agent varchar(300),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.method is
        'HTTP 메소드'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.referer is
        'referer'

    comment on column request_log.user_agent is
        'User-Agent'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table signal_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table signal_card is
        'signal 카드'

    comment on column signal_card.created_date is
        '생성 일시'

    comment on column signal_card.last_modified_date is
        '수정 일시'

    comment on column signal_card.description is
        'description'

    comment on column signal_card.id is
        'ID'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists mbti_keyword 
       add constraint FK20as81cwnem47g0rau7dgvlhv 
       foreign key (share_id) 
       references mbtistyle_card

    alter table if exists message 
       add constraint FKfjvvb779vlbr90hpers8sx2lw 
       foreign key (signal_id) 
       references signal_card

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_pet_compatibility 
       add constraint FKr7ba5thyautqvj318xyda0oi0 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_pet_compatibility 
       add constraint FKevkvo9tc8ilvfr9kvksaiq57p 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_pet_compatibility 
       add constraint FKcv2kbfi4jyt6mpow5107cijb6 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_pet_compatibility 
       add constraint FKn2952viym3qnsuelmwwff81xj 
       foreign key (signal_id) 
       references signal_card

    alter table if exists pet_pet_compatibility 
       add constraint FKb8klw60ogg69suq94v82aesmv 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists pet_saju 
       add constraint FK5m212pmtdgce0fme2c0if8uxy 
       foreign key (mbti_id) 
       references mbtistyle_card

    alter table if exists pet_saju 
       add constraint FK474uhpeam7tije8l83brqv32c 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 5.439 seconds (process running for 6.151)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 228
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Chromium";v="136", "Google Chrome";v="136", "Not.A/Brand";v="99"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746824535$o21$g1$t1746826054$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(method=POST, referer=http://localhost:8004/swagger-ui/index.html, endpoint=/pet-pet/compatibility, ipAddress=0:0:0:0:0:0:0:1, userAgent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetPetCompatibilityRequest(petName1=양봉이, petBirthDate1=2021-06-07, petSpecies1=고양이, petGender1=남, petName2=양송이, petBirthDate2=2022-02-10, petSpecies2=고양이, petGender2=여)
getAllStemBranch - birthDate: 2021-06-07
getAllStemBranch - birthDate: 2022-02-10
userPrompt : {"반려동물2":"양송이, 2022-02-10, 음력, 임인, 임묘, 기해, 여 ","반려동물1":"양봉이, 2021-06-07, 음력, 신축, 계오, 신묘, 남 "}
LLM 호출 소요 시간: 14002ms (14.00초)
content : {
  "input": {
    "반려동물1": "양봉이, 2021-06-07, 음력, 신축, 계오, 신묘, 남",
    "반려동물2": "양송이, 2022-02-10, 음력, 임인, 임묘, 기해, 여"
  },
  "fortuneMessage": "양봉이는 고요한 새벽 바람 같은 감각을 갖고 있어 주변 환경에 민감하다냥.<br>양송이는 따뜻한 햇살 속에서 꽃잎이 살랑이는 느낌처럼 활발하고 여린 기운이다냥.<br>두 친구는 서로의 감각을 존중하며 집 안의 리듬을 조화롭게 맞춰 나가는 사이이다냥.",
  "compatibility": {
    "tags": ["조용한 감시자", "안전 거리", "느긋한 경쟁", "말없는 소통", "공간 배려"],
    "description": "양봉이는 신중하고 감각적 예민함으로 양송이의 활동적인 움직임을 조용히 지켜본다냥.<br>양송이는 자유롭고 호기심 많은 본능으로 주변을 탐색하며 양봉이와 서서히 거리를 두며 균형을 맞춘다냥.<br>두 반려동물은 서로의 생활 리듬과 공간 사용을 자연스럽게 존중하면서 가족 같은 편안함을 유지한다냥."
  },
  "dailyLife": [
    {
      "emoji": "🐾",
      "name": "조용한 그림자",
      "description": "양봉이는 주로 조용히 주변을 감시하며, 양송이 움직임에 민감하게 반응하는 모습이 인상적이다냥."
    },
    {
      "emoji": "🌿",
      "name": "활발한 탐험가",
      "description": "양송이는 집안 구석구석을 호기심 가득하게 탐험하며, 놀이에 몰두하는 모습이 사랑스럽다냥."
    },
    {
      "emoji": "🛋️",
      "name": "평화로운 쉼터",
      "description": "서로의 공간을 간섭하지 않고, 조용한 구석에서 편안히 쉬는 습관이 잘 맞는 조합이다냥."
    }
  ],
  "signal": {
    "messages": [
      {
        "from": "양봉이",
        "message": "양송이가 조용히 있을 때 그 옆에 살짝 다가가는 게 편하다냥."
      },
      {
        "from": "양송이",
        "message": "양봉이가 내 움직임을 지켜보면 조금 더 안전하다고 느껴진다냥."
      }
    ],
    "description": "양봉이는 섬세한 감각으로 양송이의 활발함을 살짝 거리 두며 관찰하길 좋아한다냥.<br>양송이는 양봉이의 안정된 존재감을 느끼며 자유로운 본능을 조금 더 편하게 표현한다냥.<br>서로의 생활 리듬 속에서 자연스레 맞춰가는 끈끈한 형제자매 사이이다냥."
  },
  "toys": [
    {
      "emoji": "🧶",
      "name": "양봉이의 부드러운 실뭉치",
      "description": "조용한 감각을 자극하는 은은한 움직임에 딱 맞는 아이템이다냥."
    },
    {
      "emoji": "🐭",
      "name": "양송이의 빠른 쥐 인형",
      "description": "호기심 많은 본능을 활발하게 표현할 수 있는 최고의 장난감이다냥."
    },
    {
      "emoji": "🪀",
      "name": "공동 탐험용 작은 요요",
      "description": "함께 놀며도 각자 리듬에 맞게 즐길 수 있어 가족 분위기를 살린다냥."
    }
  ]
}
PetOwnerCompatibilityResponse.toEntity() called : PetPetCompatibilityResponse(requestLog=RequestLogDto(method=POST, referer=http://localhost:8004/swagger-ui/index.html, endpoint=/pet-pet/compatibility, ipAddress=0:0:0:0:0:0:0:1, userAgent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36, deviceType=WEB, deviceId=UNKNOWN, requestParams={"petName1":"양봉이","petBirthDate1":"2021-06-07","petSpecies1":"고양이","petGender1":"남","petName2":"양송이","petBirthDate2":"2022-02-10","petSpecies2":"고양이","petGender2":"여"}), fortuneMessage=양봉이는 고요한 새벽 바람 같은 감각을 갖고 있어 주변 환경에 민감하다냥.<br>양송이는 따뜻한 햇살 속에서 꽃잎이 살랑이는 느낌처럼 활발하고 여린 기운이다냥.<br>두 친구는 서로의 감각을 존중하며 집 안의 리듬을 조화롭게 맞춰 나가는 사이이다냥., compatibility=TagsDescriptionDto(tags=[조용한 감시자, 안전 거리, 느긋한 경쟁, 말없는 소통, 공간 배려], description=양봉이는 신중하고 감각적 예민함으로 양송이의 활동적인 움직임을 조용히 지켜본다냥.<br>양송이는 자유롭고 호기심 많은 본능으로 주변을 탐색하며 양봉이와 서서히 거리를 두며 균형을 맞춘다냥.<br>두 반려동물은 서로의 생활 리듬과 공간 사용을 자연스럽게 존중하면서 가족 같은 편안함을 유지한다냥.), dailyLife=[EmojiCardDto(emoji=🐾, name=조용한 그림자, description=양봉이는 주로 조용히 주변을 감시하며, 양송이 움직임에 민감하게 반응하는 모습이 인상적이다냥.), EmojiCardDto(emoji=🌿, name=활발한 탐험가, description=양송이는 집안 구석구석을 호기심 가득하게 탐험하며, 놀이에 몰두하는 모습이 사랑스럽다냥.), EmojiCardDto(emoji=🛋️, name=평화로운 쉼터, description=서로의 공간을 간섭하지 않고, 조용한 구석에서 편안히 쉬는 습관이 잘 맞는 조합이다냥.)], signal=SignalCardDto(messages=[MessageDto(from=양봉이, message=양송이가 조용히 있을 때 그 옆에 살짝 다가가는 게 편하다냥.), MessageDto(from=양송이, message=양봉이가 내 움직임을 지켜보면 조금 더 안전하다고 느껴진다냥.)], description=양봉이는 섬세한 감각으로 양송이의 활발함을 살짝 거리 두며 관찰하길 좋아한다냥.<br>양송이는 양봉이의 안정된 존재감을 느끼며 자유로운 본능을 조금 더 편하게 표현한다냥.<br>서로의 생활 리듬 속에서 자연스레 맞춰가는 끈끈한 형제자매 사이이다냥.), toys=[EmojiCardDto(emoji=🧶, name=양봉이의 부드러운 실뭉치, description=조용한 감각을 자극하는 은은한 움직임에 딱 맞는 아이템이다냥.), EmojiCardDto(emoji=🐭, name=양송이의 빠른 쥐 인형, description=호기심 많은 본능을 활발하게 표현할 수 있는 최고의 장난감이다냥.), EmojiCardDto(emoji=🪀, name=공동 탐험용 작은 요요, description=함께 놀며도 각자 리듬에 맞게 즐길 수 있어 가족 분위기를 살린다냥.)], shareId=null)

    insert 
    into
        tags_description_card
        (created_date, description, last_modified_date, id) 
    values
        (?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        request_log
        (created_date, device_id, device_type, endpoint, ip_address, last_modified_date, method, referer, request_params, user_agent, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        signal_card
        (created_date, description, last_modified_date, id) 
    values
        (?, ?, ?, ?)

    insert 
    into
        message
        (created_date,
    from
        , last_modified_date, message, id) 
    values
        (?, ?, ?, ?, ?)
ERROR: syntax error at or near "from"
  Position: 35
handleRuntimeException
org.springframework.dao.InvalidDataAccessResourceUsageException: could not execute statement [ERROR: syntax error at or near "from"
  Position: 35] [insert into message (created_date,from,last_modified_date,message,id) values (?,?,?,?,?)]; SQL [insert into message (created_date,from,last_modified_date,message,id) values (?,?,?,?,?)]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:277)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:565)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:794)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:757)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:669)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:419)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:220)
	at jdk.proxy4/jdk.proxy4.$Proxy185.save(Unknown Source)
	at com.codism.service.pet.PetPetCompatibilityService.savePetPetCompatibility(PetPetCompatibilityService.java:107)
	at com.codism.service.pet.PetPetCompatibilityService.generateCompatibility(PetPetCompatibilityService.java:98)
	at com.codism.controller.pet.PetPetCompatibilityController.generateCompatibility(PetPetCompatibilityController.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.codism.config.ContentCachingFilter.doFilterInternal(ContentCachingFilter.java:27)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: org.hibernate.exception.SQLGrammarException: could not execute statement [ERROR: syntax error at or near "from"
  Position: 35] [insert into message (created_date,from,last_modified_date,message,id) values (?,?,?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.performNonBatchedMutation(AbstractMutationExecutor.java:108)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:40)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:52)
	at org.hibernate.persister.entity.mutation.InsertCoordinator.doStaticInserts(InsertCoordinator.java:175)
	at org.hibernate.persister.entity.mutation.InsertCoordinator.coordinateInsert(InsertCoordinator.java:113)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2873)
	at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:104)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:632)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:499)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:363)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1403)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:484)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2319)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1976)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:561)
	... 71 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near "from"
  Position: 35
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 92 common frames omitted
Starting Application using Java 17 with PID 17712 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists mbti_keyword 
       drop constraint if exists FK20as81cwnem47g0rau7dgvlhv

    alter table if exists message 
       drop constraint if exists FKfjvvb779vlbr90hpers8sx2lw

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKr7ba5thyautqvj318xyda0oi0

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKevkvo9tc8ilvfr9kvksaiq57p

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKcv2kbfi4jyt6mpow5107cijb6

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKn2952viym3qnsuelmwwff81xj

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKb8klw60ogg69suq94v82aesmv

    alter table if exists pet_saju 
       drop constraint if exists FK5m212pmtdgce0fme2c0if8uxy

    alter table if exists pet_saju 
       drop constraint if exists FK474uhpeam7tije8l83brqv32c

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists mbti_keyword cascade

    drop table if exists mbtistyle_card cascade

    drop table if exists message cascade

    drop table if exists mock_entity cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_pet_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists signal_card cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table mbti_keyword (
        keyword TEXT,
        share_id varchar(255) not null
    )

    create table mbtistyle_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        type varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table mbtistyle_card is
        'mbti 카드'

    comment on column mbtistyle_card.created_date is
        '생성 일시'

    comment on column mbtistyle_card.last_modified_date is
        '수정 일시'

    comment on column mbtistyle_card.description is
        'description'

    comment on column mbtistyle_card.type is
        'summary'

    comment on column mbtistyle_card.id is
        'ID'

    create table message (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        from_pet varchar(100),
        id varchar(255) not null,
        message TEXT,
        signal_id varchar(255),
        primary key (id)
    )

    comment on table message is
        '이모지 카드'

    comment on column message.created_date is
        '생성 일시'

    comment on column message.last_modified_date is
        '수정 일시'

    comment on column message.from_pet is
        'fromPet'

    comment on column message.id is
        'ID'

    comment on column message.message is
        'message'

    create table mock_entity (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        share_id varchar(255) not null,
        primary key (share_id)
    )

    comment on table mock_entity is
        '테스트엔터티'

    comment on column mock_entity.created_date is
        '생성 일시'

    comment on column mock_entity.last_modified_date is
        '수정 일시'

    comment on column mock_entity.share_id is
        'UUID (링크에 사용)'

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_pet_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        signal_id varchar(255) unique,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_pet_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_pet_compatibility.created_date is
        '생성 일시'

    comment on column pet_pet_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_pet_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_pet_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        mbti_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        method varchar(10),
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        referer varchar(100),
        user_agent varchar(300),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.method is
        'HTTP 메소드'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.referer is
        'referer'

    comment on column request_log.user_agent is
        'User-Agent'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table signal_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table signal_card is
        'signal 카드'

    comment on column signal_card.created_date is
        '생성 일시'

    comment on column signal_card.last_modified_date is
        '수정 일시'

    comment on column signal_card.description is
        'description'

    comment on column signal_card.id is
        'ID'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists mbti_keyword 
       add constraint FK20as81cwnem47g0rau7dgvlhv 
       foreign key (share_id) 
       references mbtistyle_card

    alter table if exists message 
       add constraint FKfjvvb779vlbr90hpers8sx2lw 
       foreign key (signal_id) 
       references signal_card

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_pet_compatibility 
       add constraint FKr7ba5thyautqvj318xyda0oi0 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_pet_compatibility 
       add constraint FKevkvo9tc8ilvfr9kvksaiq57p 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_pet_compatibility 
       add constraint FKcv2kbfi4jyt6mpow5107cijb6 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_pet_compatibility 
       add constraint FKn2952viym3qnsuelmwwff81xj 
       foreign key (signal_id) 
       references signal_card

    alter table if exists pet_pet_compatibility 
       add constraint FKb8klw60ogg69suq94v82aesmv 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists pet_saju 
       add constraint FK5m212pmtdgce0fme2c0if8uxy 
       foreign key (mbti_id) 
       references mbtistyle_card

    alter table if exists pet_saju 
       add constraint FK474uhpeam7tije8l83brqv32c 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 5.144 seconds (process running for 5.712)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 228
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Chromium";v="136", "Google Chrome";v="136", "Not.A/Brand";v="99"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746824535$o21$g1$t1746826054$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(method=POST, referer=http://localhost:8004/swagger-ui/index.html, endpoint=/pet-pet/compatibility, ipAddress=0:0:0:0:0:0:0:1, userAgent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetPetCompatibilityRequest(petName1=양봉이, petBirthDate1=2021-06-07, petSpecies1=고양이, petGender1=남, petName2=양송이, petBirthDate2=2022-02-10, petSpecies2=고양이, petGender2=여)
getAllStemBranch - birthDate: 2021-06-07
getAllStemBranch - birthDate: 2022-02-10
userPrompt : {"반려동물2":"양송이, 2022-02-10, 음력, 임인, 임묘, 기해, 여 ","반려동물1":"양봉이, 2021-06-07, 음력, 신축, 계오, 신묘, 남 "}
LLM 호출 소요 시간: 15300ms (15.30초)
content : {
  "input": {
    "반려동물1": "양봉이, 2021-06-07, 음력, 신축, 계오, 신묘, 남",
    "반려동물2": "양송이, 2022-02-10, 음력, 임인, 임묘, 기해, 여"
  },
  "fortuneMessage": "양봉이는 차갑고 상쾌한 바람 같은 기운을 지녔고,<br>양송이는 따뜻한 햇살이 감도는 느낌이다냥.<br>서로의 감각이 닮지 않아 오히려 건강한 거리감을 유지하며 조화를 이룬다냥.",
  "compatibility": {
    "tags": ["거리 둠", "서로 관찰", "간식 경쟁", "적당한 거리", "질투 적음"],
    "description": "양봉이는 공간을 조금 더 선호하며 독립적인 시간을 즐기는 타입이다냥.<br>양송이는 공간을 두고도 잔잔히 관찰하며 적당한 거리를 유지한다냥.<br>두 반려동물은 서로의 생활 리듬을 방해하지 않으면서 간식 앞에선 약간의 경쟁심을 보여준다냥."
  },
  "dailyLife": [
    {
      "emoji": "🐾",
      "name": "교차 산책",
      "description": "양봉이는 신중하게 움직이고 양송이는 신나게 뛰놀며 서로 지나치듯 교차한다냥."
    },
    {
      "emoji": "🔆",
      "name": "창가 대치",
      "description": "두 고양이 모두 햇살이 드는 창가를 좋아하지만 자신만의 작은 공간을 유지하며 자리를 차지한다냥."
    },
    {
      "emoji": "🍖",
      "name": "간식 눈치 보기",
      "description": "양봉이와 양송이는 간식 타임에 서로를 경계하면서도 공유하려는 미묘한 긴장감이 있다냥."
    }
  ],
  "signal": {
    "messages": [
      {
        "fromPet": "양봉이",
        "message": "양송이가 내 영역을 존중해줘서 고맙다냥."
      },
      {
        "fromPet": "양송이",
        "message": "양봉이가 살짝 멀어져도 관심은 놓지 않는다냥."
      }
    ],
    "description": "양봉이는 독립적인 성향에 맞게 자신의 공간을 확보하려 하고,<br>양송이는 그 거리감을 지키면서도 관심과 호기심을 잃지 않는 센스 있는 태도를 보인다냥."
  },
  "toys": [
    {
      "emoji": "🪶",
      "name": "깃털 낚시대",
      "description": "양봉이는 날렵한 움직임을 자극하는 깃털 낚시대를 좋아한다냥."
    },
    {
      "emoji": "🐁",
      "name": "쥐돌이 장난감",
      "description": "양송이는 사냥 본능을 끌어내는 미니 쥐돌이 장난감에 반응한다냥."
    },
    {
      "emoji": "🎾",
      "name": "소프트 볼",
      "description": "두 고양이 모두 부드럽고 굴러다니는 공을 가지고 놀며 적당한 거리를 즐긴다냥."
    }
  ]
}
PetOwnerCompatibilityResponse.toEntity() called : PetPetCompatibilityResponse(requestLog=RequestLogDto(method=POST, referer=http://localhost:8004/swagger-ui/index.html, endpoint=/pet-pet/compatibility, ipAddress=0:0:0:0:0:0:0:1, userAgent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36, deviceType=WEB, deviceId=UNKNOWN, requestParams={"petName1":"양봉이","petBirthDate1":"2021-06-07","petSpecies1":"고양이","petGender1":"남","petName2":"양송이","petBirthDate2":"2022-02-10","petSpecies2":"고양이","petGender2":"여"}), fortuneMessage=양봉이는 차갑고 상쾌한 바람 같은 기운을 지녔고,<br>양송이는 따뜻한 햇살이 감도는 느낌이다냥.<br>서로의 감각이 닮지 않아 오히려 건강한 거리감을 유지하며 조화를 이룬다냥., compatibility=TagsDescriptionDto(tags=[거리 둠, 서로 관찰, 간식 경쟁, 적당한 거리, 질투 적음], description=양봉이는 공간을 조금 더 선호하며 독립적인 시간을 즐기는 타입이다냥.<br>양송이는 공간을 두고도 잔잔히 관찰하며 적당한 거리를 유지한다냥.<br>두 반려동물은 서로의 생활 리듬을 방해하지 않으면서 간식 앞에선 약간의 경쟁심을 보여준다냥.), dailyLife=[EmojiCardDto(emoji=🐾, name=교차 산책, description=양봉이는 신중하게 움직이고 양송이는 신나게 뛰놀며 서로 지나치듯 교차한다냥.), EmojiCardDto(emoji=🔆, name=창가 대치, description=두 고양이 모두 햇살이 드는 창가를 좋아하지만 자신만의 작은 공간을 유지하며 자리를 차지한다냥.), EmojiCardDto(emoji=🍖, name=간식 눈치 보기, description=양봉이와 양송이는 간식 타임에 서로를 경계하면서도 공유하려는 미묘한 긴장감이 있다냥.)], signal=SignalCardDto(messages=[MessageDto(fromPet=양봉이, message=양송이가 내 영역을 존중해줘서 고맙다냥.), MessageDto(fromPet=양송이, message=양봉이가 살짝 멀어져도 관심은 놓지 않는다냥.)], description=양봉이는 독립적인 성향에 맞게 자신의 공간을 확보하려 하고,<br>양송이는 그 거리감을 지키면서도 관심과 호기심을 잃지 않는 센스 있는 태도를 보인다냥.), toys=[EmojiCardDto(emoji=🪶, name=깃털 낚시대, description=양봉이는 날렵한 움직임을 자극하는 깃털 낚시대를 좋아한다냥.), EmojiCardDto(emoji=🐁, name=쥐돌이 장난감, description=양송이는 사냥 본능을 끌어내는 미니 쥐돌이 장난감에 반응한다냥.), EmojiCardDto(emoji=🎾, name=소프트 볼, description=두 고양이 모두 부드럽고 굴러다니는 공을 가지고 놀며 적당한 거리를 즐긴다냥.)], shareId=null)

    insert 
    into
        tags_description_card
        (created_date, description, last_modified_date, id) 
    values
        (?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        request_log
        (created_date, device_id, device_type, endpoint, ip_address, last_modified_date, method, referer, request_params, user_agent, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        signal_card
        (created_date, description, last_modified_date, id) 
    values
        (?, ?, ?, ?)

    insert 
    into
        message
        (created_date, from_pet, last_modified_date, message, id) 
    values
        (?, ?, ?, ?, ?)

    insert 
    into
        message
        (created_date, from_pet, last_modified_date, message, id) 
    values
        (?, ?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        pet_pet_compatibility
        (compatibility_id, created_date, daily_life_id, fortune_message, last_modified_date, request_id, signal_id, toy_recommendations_id, share_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        message 
    set
        signal_id=? 
    where
        id=?

    update
        message 
    set
        signal_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?
PetPetCompatibilityResponse(requestLog=RequestLogDto(method=POST, referer=http://localhost:8004/swagger-ui/index.html, endpoint=/pet-pet/compatibility, ipAddress=0:0:0:0:0:0:0:1, userAgent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36, deviceType=WEB, deviceId=UNKNOWN, requestParams={"petName1":"양봉이","petBirthDate1":"2021-06-07","petSpecies1":"고양이","petGender1":"남","petName2":"양송이","petBirthDate2":"2022-02-10","petSpecies2":"고양이","petGender2":"여"}), fortuneMessage=양봉이는 차갑고 상쾌한 바람 같은 기운을 지녔고,<br>양송이는 따뜻한 햇살이 감도는 느낌이다냥.<br>서로의 감각이 닮지 않아 오히려 건강한 거리감을 유지하며 조화를 이룬다냥., compatibility=TagsDescriptionDto(tags=[거리 둠, 서로 관찰, 간식 경쟁, 적당한 거리, 질투 적음], description=양봉이는 공간을 조금 더 선호하며 독립적인 시간을 즐기는 타입이다냥.<br>양송이는 공간을 두고도 잔잔히 관찰하며 적당한 거리를 유지한다냥.<br>두 반려동물은 서로의 생활 리듬을 방해하지 않으면서 간식 앞에선 약간의 경쟁심을 보여준다냥.), dailyLife=[EmojiCardDto(emoji=🐾, name=교차 산책, description=양봉이는 신중하게 움직이고 양송이는 신나게 뛰놀며 서로 지나치듯 교차한다냥.), EmojiCardDto(emoji=🔆, name=창가 대치, description=두 고양이 모두 햇살이 드는 창가를 좋아하지만 자신만의 작은 공간을 유지하며 자리를 차지한다냥.), EmojiCardDto(emoji=🍖, name=간식 눈치 보기, description=양봉이와 양송이는 간식 타임에 서로를 경계하면서도 공유하려는 미묘한 긴장감이 있다냥.)], signal=SignalCardDto(messages=[MessageDto(fromPet=양봉이, message=양송이가 내 영역을 존중해줘서 고맙다냥.), MessageDto(fromPet=양송이, message=양봉이가 살짝 멀어져도 관심은 놓지 않는다냥.)], description=양봉이는 독립적인 성향에 맞게 자신의 공간을 확보하려 하고,<br>양송이는 그 거리감을 지키면서도 관심과 호기심을 잃지 않는 센스 있는 태도를 보인다냥.), toys=[EmojiCardDto(emoji=🪶, name=깃털 낚시대, description=양봉이는 날렵한 움직임을 자극하는 깃털 낚시대를 좋아한다냥.), EmojiCardDto(emoji=🐁, name=쥐돌이 장난감, description=양송이는 사냥 본능을 끌어내는 미니 쥐돌이 장난감에 반응한다냥.), EmojiCardDto(emoji=🎾, name=소프트 볼, description=두 고양이 모두 부드럽고 굴러다니는 공을 가지고 놀며 적당한 거리를 즐긴다냥.)], shareId=c02101f2-5f0c-4318-9ef3-26a48034176f)
==================== END ======================
===============================================
Starting Application using Java 17 with PID 5736 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists mbti_keyword 
       drop constraint if exists FK20as81cwnem47g0rau7dgvlhv

    alter table if exists message 
       drop constraint if exists FKfjvvb779vlbr90hpers8sx2lw

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKr7ba5thyautqvj318xyda0oi0

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKevkvo9tc8ilvfr9kvksaiq57p

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKcv2kbfi4jyt6mpow5107cijb6

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKn2952viym3qnsuelmwwff81xj

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKb8klw60ogg69suq94v82aesmv

    alter table if exists pet_saju 
       drop constraint if exists FK5m212pmtdgce0fme2c0if8uxy

    alter table if exists pet_saju 
       drop constraint if exists FK474uhpeam7tije8l83brqv32c

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists mbti_keyword cascade

    drop table if exists mbtistyle_card cascade

    drop table if exists message cascade

    drop table if exists mock_entity cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_pet_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists signal_card cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table mbti_keyword (
        keyword TEXT,
        share_id varchar(255) not null
    )

    create table mbtistyle_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        type varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table mbtistyle_card is
        'mbti 카드'

    comment on column mbtistyle_card.created_date is
        '생성 일시'

    comment on column mbtistyle_card.last_modified_date is
        '수정 일시'

    comment on column mbtistyle_card.description is
        'description'

    comment on column mbtistyle_card.type is
        'summary'

    comment on column mbtistyle_card.id is
        'ID'

    create table message (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        sender varchar(100),
        id varchar(255) not null,
        message TEXT,
        signal_id varchar(255),
        primary key (id)
    )

    comment on table message is
        '이모지 카드'

    comment on column message.created_date is
        '생성 일시'

    comment on column message.last_modified_date is
        '수정 일시'

    comment on column message.sender is
        'sender'

    comment on column message.id is
        'ID'

    comment on column message.message is
        'message'

    create table mock_entity (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        share_id varchar(255) not null,
        primary key (share_id)
    )

    comment on table mock_entity is
        '테스트엔터티'

    comment on column mock_entity.created_date is
        '생성 일시'

    comment on column mock_entity.last_modified_date is
        '수정 일시'

    comment on column mock_entity.share_id is
        'UUID (링크에 사용)'

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_pet_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        signal_id varchar(255) unique,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_pet_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_pet_compatibility.created_date is
        '생성 일시'

    comment on column pet_pet_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_pet_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_pet_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        mbti_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        method varchar(10),
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        referer varchar(100),
        user_agent varchar(300),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.method is
        'HTTP 메소드'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.referer is
        'referer'

    comment on column request_log.user_agent is
        'User-Agent'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table signal_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table signal_card is
        'signal 카드'

    comment on column signal_card.created_date is
        '생성 일시'

    comment on column signal_card.last_modified_date is
        '수정 일시'

    comment on column signal_card.description is
        'description'

    comment on column signal_card.id is
        'ID'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists mbti_keyword 
       add constraint FK20as81cwnem47g0rau7dgvlhv 
       foreign key (share_id) 
       references mbtistyle_card

    alter table if exists message 
       add constraint FKfjvvb779vlbr90hpers8sx2lw 
       foreign key (signal_id) 
       references signal_card

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_pet_compatibility 
       add constraint FKr7ba5thyautqvj318xyda0oi0 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_pet_compatibility 
       add constraint FKevkvo9tc8ilvfr9kvksaiq57p 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_pet_compatibility 
       add constraint FKcv2kbfi4jyt6mpow5107cijb6 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_pet_compatibility 
       add constraint FKn2952viym3qnsuelmwwff81xj 
       foreign key (signal_id) 
       references signal_card

    alter table if exists pet_pet_compatibility 
       add constraint FKb8klw60ogg69suq94v82aesmv 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists pet_saju 
       add constraint FK5m212pmtdgce0fme2c0if8uxy 
       foreign key (mbti_id) 
       references mbtistyle_card

    alter table if exists pet_saju 
       add constraint FK474uhpeam7tije8l83brqv32c 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.614 seconds (process running for 5.108)
