===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : sec-ch-ua-mobile ===> value : ?0
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
getAllStemBranch - birthDate: 2017-01-11
==================== END ======================
===============================================
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : sec-ch-ua-mobile ===> value : ?0
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
getAllStemBranch - birthDate: 2016-01-15
==================== END ======================
===============================================
Starting Application using Java 17 with PID 30484 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists pet_saju_characteristics 
       drop constraint if exists FK8fbmtsxa5up3h98qbeklf88mc

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists pet_saju_characteristics cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table pet_saju_characteristics (
        characteristic TEXT,
        share_id varchar(255) not null
    )

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists pet_saju_characteristics 
       add constraint FK8fbmtsxa5up3h98qbeklf88mc 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 5.217 seconds (process running for 5.995)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : sec-ch-ua-mobile ===> value : ?0
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 파라미터: {"birthDate":"2016-01-15","isSolarCalendar":"false"}
쿼리 파라미터: birthDate=2016-01-15&isSolarCalendar=false
요청 로그 객체 생성: null
엔드포인트: /lunar-calendar/stem-branch
IP 주소: 0:0:0:0:0:0:0:1
디바이스 타입: WEB
디바이스 ID: UNKNOWN
getAllStemBranch - birthDate: 2016-01-15
==================== END ======================
===============================================
Starting Application using Java 17 with PID 28716 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists pet_saju_characteristics 
       drop constraint if exists FK8fbmtsxa5up3h98qbeklf88mc

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists pet_saju_characteristics cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table pet_saju_characteristics (
        characteristic TEXT,
        share_id varchar(255) not null
    )

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists pet_saju_characteristics 
       add constraint FK8fbmtsxa5up3h98qbeklf88mc 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.662 seconds (process running for 5.254)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : sec-ch-ua-mobile ===> value : ?0
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 파라미터: {"birthDate":"2016-01-15","isSolarCalendar":"false"}
쿼리 파라미터: birthDate=2016-01-15&isSolarCalendar=false
요청 로그 객체 생성: id : null, endpoint : /lunar-calendar/stem-branch, ipAddress : 0:0:0:0:0:0:0:1, deviceType : WEB, deviceId : UNKNOWN, requestParams : {"birthDate":"2016-01-15","isSolarCalendar":"false"}
엔드포인트: /lunar-calendar/stem-branch
IP 주소: 0:0:0:0:0:0:0:1
디바이스 타입: WEB
디바이스 ID: UNKNOWN
getAllStemBranch - birthDate: 2016-01-15
==================== END ======================
===============================================
Starting Application using Java 17 with PID 14436 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists pet_saju_characteristics 
       drop constraint if exists FK8fbmtsxa5up3h98qbeklf88mc

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists pet_saju_characteristics cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table pet_saju_characteristics (
        characteristic TEXT,
        share_id varchar(255) not null
    )

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists pet_saju_characteristics 
       add constraint FK8fbmtsxa5up3h98qbeklf88mc 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.869 seconds (process running for 5.506)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 197
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 파라미터: {}
요청 로그 객체 생성: id : null, endpoint : /pet-owner/compatibility, ipAddress : 0:0:0:0:0:0:0:1, deviceType : WEB, deviceId : UNKNOWN, requestParams : {}
Generating Saju for PetOwnerCompatibilityRequest(ownerName=홍길동, ownerBirthDate=1989-06-05, ownerGender=남, petName=양송이, petBirthDate=2022-02-10, petSpecies=고양이, petGender=여)
getAllStemBranch - birthDate: 1989-06-05
getAllStemBranch - birthDate: 2022-02-10
userPrompt : 주인: 홍길동, 1989-06-05, 음력, 기사, 기오, 임인, 남 
 반려동물: 양송이, 2022-02-10, 음력, 임인, 임묘, 경자, 여, 고양이 
LLM 호출 소요 시간: 19180ms (19.18초)
content : {
  "fortuneMessage": "냥냥, 양송이와 길동이는 따뜻한 햇살과 살랑이는 바람 같은 기운이 서로 어우러지는 조화로운 궁합이다냥.<br>양송이의 예민한 감각이 길동이의 안정된 기운에 편안함을 느껴 편안한 일상을 만들어간다냥.<br>서로의 존재감이 적당한 거리를 유지하며 포근한 교감을 전해주는 따스한 콤비다냥.",
  "compatibility": {
    "tags": ["편안한 거리감", "감정 교류", "루틴 안정", "놀이 균형", "감각 조화"],
    "description": "둘은 자연스러운 거리에서 서로의 감정을 읽으며 지내는 사이이다냥.<br>놀이할 때는 양송이가 먼저 움직이고, 길동이는 그걸 살포시 지켜보며 반응한다냥.<br>서로 리듬이 잘 맞아 일상에서 스트레스 없이 조용하고 안정적인 관계를 유지한다냥."
  },
  "dailyLife": [
    {
      "emoji": "🐾",
      "name": "부드러운 스킨십 순간",
      "description": "양송이가 길동이 무릎 위에 살포시 앉아 온몸으로 따뜻함을 전하는 귀여운 본능 행동이다냥."
    },
    {
      "emoji": "🪀",
      "name": "조용한 놀이 교감",
      "description": "길동이의 손가락을 노리며 살짝 다가와 정교하게 놀아 달라는 신호를 보내는 활발한 반응이다냥."
    },
    {
      "emoji": "🛋️",
      "name": "포근한 쉼터 공유",
      "description": "같은 공간에서 서로의 온기를 느끼며 각자 편안한 자세로 휴식하는 느긋한 루틴이다냥."
    }
  ],
  "todayVibe": {
    "summary": "포근한 교감의 하루",
    "description": "오늘은 양송이가 길동이의 부드러운 손길에 더 민감하게 반응한다냥.<br>부드러운 천 장난감이나 리본으로 살짝 놀아주면 양송이의 본능이 발동해 활발해질 기운이다냥.<br>짧고 자주 눈 맞춤하며 몸의 긴장을 풀어주는 교감 시간을 잊지 말길 바란다냥.<br>서로의 온기가 따스하게 통하는 아름다운 하루가 될 거다냥."
  },
  "littleTips": [
    {
      "emoji": "💧",
      "name": "수분 챙기기",
      "description": "양송이가 더운 기운에 빠지지 않도록 깨끗한 물을 자주 준비해주라냥."
    },
    {
      "emoji": "🧸",
      "name": "장난감 교체",
      "description": "새 장난감으로 호기심을 자극해 활발한 놀이 시간을 만들어주라냥."
    },
    {
      "emoji": "🧴",
      "name": "피부 관리",
      "description": "부드러운 빗질로 양송이 털 상태를 신경 써주면 기분이 좋아진다냥."
    },
    {
      "emoji": "🌒",
      "name": "조명 조절",
      "description": "은은한 빛으로 공간 분위기를 부드럽게 만들면 안정감을 준다냥."
    }
  ]
}
PetOwnerCompatibilityResponse.toEntity() called : PetOwnerCompatibilityResponse(requestParameter=null, fortuneMessage=냥냥, 양송이와 길동이는 따뜻한 햇살과 살랑이는 바람 같은 기운이 서로 어우러지는 조화로운 궁합이다냥.<br>양송이의 예민한 감각이 길동이의 안정된 기운에 편안함을 느껴 편안한 일상을 만들어간다냥.<br>서로의 존재감이 적당한 거리를 유지하며 포근한 교감을 전해주는 따스한 콤비다냥., compatibility=TagsDescriptionDto(tags=[편안한 거리감, 감정 교류, 루틴 안정, 놀이 균형, 감각 조화], description=둘은 자연스러운 거리에서 서로의 감정을 읽으며 지내는 사이이다냥.<br>놀이할 때는 양송이가 먼저 움직이고, 길동이는 그걸 살포시 지켜보며 반응한다냥.<br>서로 리듬이 잘 맞아 일상에서 스트레스 없이 조용하고 안정적인 관계를 유지한다냥.), dailyLife=[EmojiCardDto(emoji=🐾, name=부드러운 스킨십 순간, description=양송이가 길동이 무릎 위에 살포시 앉아 온몸으로 따뜻함을 전하는 귀여운 본능 행동이다냥.), EmojiCardDto(emoji=🪀, name=조용한 놀이 교감, description=길동이의 손가락을 노리며 살짝 다가와 정교하게 놀아 달라는 신호를 보내는 활발한 반응이다냥.), EmojiCardDto(emoji=🛋️, name=포근한 쉼터 공유, description=같은 공간에서 서로의 온기를 느끼며 각자 편안한 자세로 휴식하는 느긋한 루틴이다냥.)], todayVibe=SummaryDescriptionDto(summary=포근한 교감의 하루, description=오늘은 양송이가 길동이의 부드러운 손길에 더 민감하게 반응한다냥.<br>부드러운 천 장난감이나 리본으로 살짝 놀아주면 양송이의 본능이 발동해 활발해질 기운이다냥.<br>짧고 자주 눈 맞춤하며 몸의 긴장을 풀어주는 교감 시간을 잊지 말길 바란다냥.<br>서로의 온기가 따스하게 통하는 아름다운 하루가 될 거다냥.), littleTips=[EmojiCardDto(emoji=💧, name=수분 챙기기, description=양송이가 더운 기운에 빠지지 않도록 깨끗한 물을 자주 준비해주라냥.), EmojiCardDto(emoji=🧸, name=장난감 교체, description=새 장난감으로 호기심을 자극해 활발한 놀이 시간을 만들어주라냥.), EmojiCardDto(emoji=🧴, name=피부 관리, description=부드러운 빗질로 양송이 털 상태를 신경 써주면 기분이 좋아진다냥.), EmojiCardDto(emoji=🌒, name=조명 조절, description=은은한 빛으로 공간 분위기를 부드럽게 만들면 안정감을 준다냥.)], shareId=null)

    insert 
    into
        tags_description_card
        (created_date, description, last_modified_date, id) 
    values
        (?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        request_log
        (created_date, device_id, device_type, endpoint, ip_address, last_modified_date, request_params, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        summary_description_card
        (created_date, description, last_modified_date, summary, id) 
    values
        (?, ?, ?, ?, ?)

    insert 
    into
        pet_owner_compatibility
        (compatibility_id, created_date, daily_life_id, fortune_message, last_modified_date, little_tips_id, owner_name, pet_name, request_id, today_vibe_id, share_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?
PetOwnerCompatibilityResponse(requestParameter=null, fortuneMessage=냥냥, 양송이와 길동이는 따뜻한 햇살과 살랑이는 바람 같은 기운이 서로 어우러지는 조화로운 궁합이다냥.<br>양송이의 예민한 감각이 길동이의 안정된 기운에 편안함을 느껴 편안한 일상을 만들어간다냥.<br>서로의 존재감이 적당한 거리를 유지하며 포근한 교감을 전해주는 따스한 콤비다냥., compatibility=TagsDescriptionDto(tags=[편안한 거리감, 감정 교류, 루틴 안정, 놀이 균형, 감각 조화], description=둘은 자연스러운 거리에서 서로의 감정을 읽으며 지내는 사이이다냥.<br>놀이할 때는 양송이가 먼저 움직이고, 길동이는 그걸 살포시 지켜보며 반응한다냥.<br>서로 리듬이 잘 맞아 일상에서 스트레스 없이 조용하고 안정적인 관계를 유지한다냥.), dailyLife=[EmojiCardDto(emoji=🐾, name=부드러운 스킨십 순간, description=양송이가 길동이 무릎 위에 살포시 앉아 온몸으로 따뜻함을 전하는 귀여운 본능 행동이다냥.), EmojiCardDto(emoji=🪀, name=조용한 놀이 교감, description=길동이의 손가락을 노리며 살짝 다가와 정교하게 놀아 달라는 신호를 보내는 활발한 반응이다냥.), EmojiCardDto(emoji=🛋️, name=포근한 쉼터 공유, description=같은 공간에서 서로의 온기를 느끼며 각자 편안한 자세로 휴식하는 느긋한 루틴이다냥.)], todayVibe=SummaryDescriptionDto(summary=포근한 교감의 하루, description=오늘은 양송이가 길동이의 부드러운 손길에 더 민감하게 반응한다냥.<br>부드러운 천 장난감이나 리본으로 살짝 놀아주면 양송이의 본능이 발동해 활발해질 기운이다냥.<br>짧고 자주 눈 맞춤하며 몸의 긴장을 풀어주는 교감 시간을 잊지 말길 바란다냥.<br>서로의 온기가 따스하게 통하는 아름다운 하루가 될 거다냥.), littleTips=[EmojiCardDto(emoji=💧, name=수분 챙기기, description=양송이가 더운 기운에 빠지지 않도록 깨끗한 물을 자주 준비해주라냥.), EmojiCardDto(emoji=🧸, name=장난감 교체, description=새 장난감으로 호기심을 자극해 활발한 놀이 시간을 만들어주라냥.), EmojiCardDto(emoji=🧴, name=피부 관리, description=부드러운 빗질로 양송이 털 상태를 신경 써주면 기분이 좋아진다냥.), EmojiCardDto(emoji=🌒, name=조명 조절, description=은은한 빛으로 공간 분위기를 부드럽게 만들면 안정감을 준다냥.)], shareId=fed8e0ec-0332-49ec-b182-10ae9a1d9595)
==================== END ======================
===============================================
Starting Application using Java 17 with PID 65392 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists pet_saju_characteristics 
       drop constraint if exists FK8fbmtsxa5up3h98qbeklf88mc

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists pet_saju_characteristics cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table pet_saju_characteristics (
        characteristic TEXT,
        share_id varchar(255) not null
    )

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists pet_saju_characteristics 
       add constraint FK8fbmtsxa5up3h98qbeklf88mc 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.894 seconds (process running for 5.49)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 197
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 파라미터: {}
요청 로그 객체 생성: id : null, endpoint : /pet-owner/compatibility, ipAddress : 0:0:0:0:0:0:0:1, deviceType : WEB, deviceId : UNKNOWN, requestParams : {}
Generating Saju for PetOwnerCompatibilityRequest(ownerName=홍길동, ownerBirthDate=1989-06-05, ownerGender=남, petName=양송이, petBirthDate=2022-02-10, petSpecies=고양이, petGender=여)
getAllStemBranch - birthDate: 1989-06-05
getAllStemBranch - birthDate: 2022-02-10
userPrompt : 주인: 홍길동, 1989-06-05, 음력, 기사, 기오, 임인, 남 
 반려동물: 양송이, 2022-02-10, 음력, 임인, 임묘, 경자, 여, 고양이 
LLM 호출 소요 시간: 10686ms (10.69초)
content : {
  "fortuneMessage": "냥냥~ 오늘 양송이는 홍길동의 따뜻한 기운에 살짝 놀라는 기운을 느끼는 것 같다냥.<br>서늘한 바람 같은 감각이 스며들면 살며시 다가와 눈빛으로 교감을 시도한다냥.<br>이 둘의 하루는 부드럽고도 생동감 있는 울림으로 가득할 것이다냥.",
  "compatibility": {
    "tags": ["부드러운교감", "적당한거리감", "활발한놀이", "감정공유", "루틴조화"],
    "description": "홍길동과 양송이는 서로의 감각에 살짝 긴장하면서도 부드럽게 맞춰가는 케미를 보인다냥.<br>양송이는 놀이 시간에 기민하게 반응하고, 거리감을 적절히 유지하며 감정을 표현한다냥.<br>루틴이 서로의 본능을 자극하며 활발한 상호작용과 안정된 쉼을 동시에 만들어 준다냥."
  },
  "dailyLife": [
    {
      "emoji": "🐾",
      "name": "살금살금 관심샘",
      "description": "양송이는 홍길동이 방에 들어올 때마다 살금살금 다가가 코끝으로 기운을 맡으며 호기심을 보인다냥."
    },
    {
      "emoji": "🧶",
      "name": "즉흥 발톱 놀이",
      "description": "장난감 공이나 실뭉치를 잡을 때 순간적으로 빠르게 움직이며 홍길동과 놀이 본능을 공유한다냥."
    },
    {
      "emoji": "🛋️",
      "name": "햇살 맞이 쉼터",
      "description": "따사로운 햇살이 드는 공간에서 양송이는 느긋하게 휴식하며 홍길동의 곁을 지킨다냥."
    }
  ],
  "todayVibe": {
    "summary": "느긋한 관찰과 활발한 호기심의 날",
    "description": "오늘은 양송이가 홍길동의 미묘한 기운 변화를 살펴보며 관찰하는 날이다냥.<br>재빠른 손놀림이나 가벼운 장난감을 이용해 놀이를 시작하면 반응이 폭발일 것이다냥.<br>짧은 놀이 후에는 무릎 옆에서 느긋하게 쉬며 따뜻한 눈빛으로 교감을 나눌 수 있다냥."
  },
  "littleTips": [
    {
      "emoji": "👃",
      "name": "기운 맡기",
      "description": "양송이가 먼저 다가올 때 코를 쓰다듬어 주면 교감이 깊어진다냥."
    },
    {
      "emoji": "🎾",
      "name": "짧은 놀이",
      "description": "팔랑이는 장난감을 자주 움직여 순간적인 반응을 이끌어내자냥."
    },
    {
      "emoji": "💤",
      "name": "쉼 공간",
      "description": "고요한 햇살 아래 아늑한 공간을 만들어주면 안정감을 준다냥."
    },
    {
      "emoji": "👀",
      "name": "눈맞춤",
      "description": "부드러운 눈맞춤으로 신뢰를 쌓는 시간이 필요하다냥."
    }
  ]
}
PetOwnerCompatibilityResponse.toEntity() called : PetOwnerCompatibilityResponse(requestParameter=null, fortuneMessage=냥냥~ 오늘 양송이는 홍길동의 따뜻한 기운에 살짝 놀라는 기운을 느끼는 것 같다냥.<br>서늘한 바람 같은 감각이 스며들면 살며시 다가와 눈빛으로 교감을 시도한다냥.<br>이 둘의 하루는 부드럽고도 생동감 있는 울림으로 가득할 것이다냥., compatibility=TagsDescriptionDto(tags=[부드러운교감, 적당한거리감, 활발한놀이, 감정공유, 루틴조화], description=홍길동과 양송이는 서로의 감각에 살짝 긴장하면서도 부드럽게 맞춰가는 케미를 보인다냥.<br>양송이는 놀이 시간에 기민하게 반응하고, 거리감을 적절히 유지하며 감정을 표현한다냥.<br>루틴이 서로의 본능을 자극하며 활발한 상호작용과 안정된 쉼을 동시에 만들어 준다냥.), dailyLife=[EmojiCardDto(emoji=🐾, name=살금살금 관심샘, description=양송이는 홍길동이 방에 들어올 때마다 살금살금 다가가 코끝으로 기운을 맡으며 호기심을 보인다냥.), EmojiCardDto(emoji=🧶, name=즉흥 발톱 놀이, description=장난감 공이나 실뭉치를 잡을 때 순간적으로 빠르게 움직이며 홍길동과 놀이 본능을 공유한다냥.), EmojiCardDto(emoji=🛋️, name=햇살 맞이 쉼터, description=따사로운 햇살이 드는 공간에서 양송이는 느긋하게 휴식하며 홍길동의 곁을 지킨다냥.)], todayVibe=SummaryDescriptionDto(summary=느긋한 관찰과 활발한 호기심의 날, description=오늘은 양송이가 홍길동의 미묘한 기운 변화를 살펴보며 관찰하는 날이다냥.<br>재빠른 손놀림이나 가벼운 장난감을 이용해 놀이를 시작하면 반응이 폭발일 것이다냥.<br>짧은 놀이 후에는 무릎 옆에서 느긋하게 쉬며 따뜻한 눈빛으로 교감을 나눌 수 있다냥.), littleTips=[EmojiCardDto(emoji=👃, name=기운 맡기, description=양송이가 먼저 다가올 때 코를 쓰다듬어 주면 교감이 깊어진다냥.), EmojiCardDto(emoji=🎾, name=짧은 놀이, description=팔랑이는 장난감을 자주 움직여 순간적인 반응을 이끌어내자냥.), EmojiCardDto(emoji=💤, name=쉼 공간, description=고요한 햇살 아래 아늑한 공간을 만들어주면 안정감을 준다냥.), EmojiCardDto(emoji=👀, name=눈맞춤, description=부드러운 눈맞춤으로 신뢰를 쌓는 시간이 필요하다냥.)], shareId=null)
requestLogSave : id : null, endpoint : /pet-owner/compatibility, ipAddress : 0:0:0:0:0:0:0:1, deviceType : WEB, deviceId : UNKNOWN, requestParams : {}

    insert 
    into
        tags_description_card
        (created_date, description, last_modified_date, id) 
    values
        (?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        request_log
        (created_date, device_id, device_type, endpoint, ip_address, last_modified_date, request_params, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        summary_description_card
        (created_date, description, last_modified_date, summary, id) 
    values
        (?, ?, ?, ?, ?)

    insert 
    into
        pet_owner_compatibility
        (compatibility_id, created_date, daily_life_id, fortune_message, last_modified_date, little_tips_id, owner_name, pet_name, request_id, today_vibe_id, share_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?
PetOwnerCompatibilityResponse(requestParameter=null, fortuneMessage=냥냥~ 오늘 양송이는 홍길동의 따뜻한 기운에 살짝 놀라는 기운을 느끼는 것 같다냥.<br>서늘한 바람 같은 감각이 스며들면 살며시 다가와 눈빛으로 교감을 시도한다냥.<br>이 둘의 하루는 부드럽고도 생동감 있는 울림으로 가득할 것이다냥., compatibility=TagsDescriptionDto(tags=[부드러운교감, 적당한거리감, 활발한놀이, 감정공유, 루틴조화], description=홍길동과 양송이는 서로의 감각에 살짝 긴장하면서도 부드럽게 맞춰가는 케미를 보인다냥.<br>양송이는 놀이 시간에 기민하게 반응하고, 거리감을 적절히 유지하며 감정을 표현한다냥.<br>루틴이 서로의 본능을 자극하며 활발한 상호작용과 안정된 쉼을 동시에 만들어 준다냥.), dailyLife=[EmojiCardDto(emoji=🐾, name=살금살금 관심샘, description=양송이는 홍길동이 방에 들어올 때마다 살금살금 다가가 코끝으로 기운을 맡으며 호기심을 보인다냥.), EmojiCardDto(emoji=🧶, name=즉흥 발톱 놀이, description=장난감 공이나 실뭉치를 잡을 때 순간적으로 빠르게 움직이며 홍길동과 놀이 본능을 공유한다냥.), EmojiCardDto(emoji=🛋️, name=햇살 맞이 쉼터, description=따사로운 햇살이 드는 공간에서 양송이는 느긋하게 휴식하며 홍길동의 곁을 지킨다냥.)], todayVibe=SummaryDescriptionDto(summary=느긋한 관찰과 활발한 호기심의 날, description=오늘은 양송이가 홍길동의 미묘한 기운 변화를 살펴보며 관찰하는 날이다냥.<br>재빠른 손놀림이나 가벼운 장난감을 이용해 놀이를 시작하면 반응이 폭발일 것이다냥.<br>짧은 놀이 후에는 무릎 옆에서 느긋하게 쉬며 따뜻한 눈빛으로 교감을 나눌 수 있다냥.), littleTips=[EmojiCardDto(emoji=👃, name=기운 맡기, description=양송이가 먼저 다가올 때 코를 쓰다듬어 주면 교감이 깊어진다냥.), EmojiCardDto(emoji=🎾, name=짧은 놀이, description=팔랑이는 장난감을 자주 움직여 순간적인 반응을 이끌어내자냥.), EmojiCardDto(emoji=💤, name=쉼 공간, description=고요한 햇살 아래 아늑한 공간을 만들어주면 안정감을 준다냥.), EmojiCardDto(emoji=👀, name=눈맞춤, description=부드러운 눈맞춤으로 신뢰를 쌓는 시간이 필요하다냥.)], shareId=6b12eab0-f3dc-455c-8c2f-1592134e3d5b)
==================== END ======================
===============================================
Starting Application using Java 17 with PID 62084 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists pet_saju_characteristics 
       drop constraint if exists FK8fbmtsxa5up3h98qbeklf88mc

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists pet_saju_characteristics cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table pet_saju_characteristics (
        characteristic TEXT,
        share_id varchar(255) not null
    )

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists pet_saju_characteristics 
       add constraint FK8fbmtsxa5up3h98qbeklf88mc 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.75 seconds (process running for 5.346)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 197
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 파라미터: {}
요청 로그 객체 생성: id : null, endpoint : /pet-owner/compatibility, ipAddress : 0:0:0:0:0:0:0:1, deviceType : WEB, deviceId : UNKNOWN, requestParams : {}
Generating Saju for PetOwnerCompatibilityRequest(ownerName=홍길동, ownerBirthDate=1989-06-05, ownerGender=남, petName=양송이, petBirthDate=2022-02-10, petSpecies=고양이, petGender=여)
getAllStemBranch - birthDate: 1989-06-05
getAllStemBranch - birthDate: 2022-02-10
userPrompt : 주인: 홍길동, 1989-06-05, 음력, 기사, 기오, 임인, 남 
 반려동물: 양송이, 2022-02-10, 음력, 임인, 임묘, 경자, 여, 고양이 
LLM 호출 소요 시간: 15774ms (15.77초)
content : {
  "fortuneMessage": "양송이는 홍길동의 기운에 부드럽게 반응하는 신비로운 고양이이다냥.<br>따뜻한 물결과 서늘한 바람이 어우러진 기운 속에서 본능이 깨어나는 모습이다냥.<br>서로의 에너지가 균형을 이루며 조용하지만 깊은 교감을 이루는구나냥.",
  "compatibility": {
    "tags": ["부드러운 반응", "안정된 거리", "조용한 교감", "규칙적 루틴", "서로 존중"],
    "description": "양송이는 홍길동의 기운 속에서 편안함을 느끼며 자연스러운 관심을 보이는냥.<br>놀이할 때는 공격적이지 않고 잔잔하게 반응하며 조금은 거리를 두는 편이다냥.<br>일상 속에 안정된 루틴이 만들어지고 서로의 존재를 섬세하게 존중하는 케미이다냥."
  },
  "dailyLife": [
    {
      "emoji": "🐾",
      "name": "은은한 주시",
      "description": "양송이는 조용히 홍길동을 바라보며 따뜻한 기운을 느끼는 냥이이다냥."
    },
    {
      "emoji": "🧶",
      "name": "부드러운 밤놀이",
      "description": "잔잔한 움직임으로 공을 따라가는 양송이의 모습은 호기심 가득한 냥이다냥."
    },
    {
      "emoji": "🛋️",
      "name": "포근한 쉼터",
      "description": "홍길동 옆에서 편안히 몸을 푹 늘이며 쉼을 즐기는 양송이의 천진한 태도이다냥."
    }
  ],
  "todayVibe": {
    "summary": "서늘한 바람 타고 흥미로운 관심이 피어나는 날",
    "description": "오늘은 양송이가 홍길동의 잔잔한 에너지에 마음을 열며 호기심을 발동시키는 날이다냥.<br>부드러운 실로 만든 공이나 작은 움직임에 발 빠르게 반응하며 장난기 넘치게 논다냥.<br>서로를 귀엽게 주시하며 안정적으로 거리를 유지할 때 더욱 깊은 교감이 무르익는 날이다냥."
  },
  "littleTips": [
    {
      "emoji": "🐱",
      "name": "조용한 다가감",
      "description": "갑작스런 접촉보다 천천히 다가가주면 양송이가 더 편안해한다냥."
    },
    {
      "emoji": "🎾",
      "name": "부드러운 놀이",
      "description": "약간의 거리를 두고 천천히 움직이는 장난감이 효과 만점이다냥."
    },
    {
      "emoji": "🛏️",
      "name": "포근한 쉼",
      "description": "푹신한 이불이나 담요 위에서 함께 쉬면 양송이가 행복해한다냥."
    },
    {
      "emoji": "⏰",
      "name": "규칙적인 루틴",
      "description": "일정한 시간에 놀이와 휴식을 맞추면 교감이 한층 깊어진다냥."
    }
  ]
}
PetOwnerCompatibilityResponse.toEntity() called : PetOwnerCompatibilityResponse(requestParameter=null, fortuneMessage=양송이는 홍길동의 기운에 부드럽게 반응하는 신비로운 고양이이다냥.<br>따뜻한 물결과 서늘한 바람이 어우러진 기운 속에서 본능이 깨어나는 모습이다냥.<br>서로의 에너지가 균형을 이루며 조용하지만 깊은 교감을 이루는구나냥., compatibility=TagsDescriptionDto(tags=[부드러운 반응, 안정된 거리, 조용한 교감, 규칙적 루틴, 서로 존중], description=양송이는 홍길동의 기운 속에서 편안함을 느끼며 자연스러운 관심을 보이는냥.<br>놀이할 때는 공격적이지 않고 잔잔하게 반응하며 조금은 거리를 두는 편이다냥.<br>일상 속에 안정된 루틴이 만들어지고 서로의 존재를 섬세하게 존중하는 케미이다냥.), dailyLife=[EmojiCardDto(emoji=🐾, name=은은한 주시, description=양송이는 조용히 홍길동을 바라보며 따뜻한 기운을 느끼는 냥이이다냥.), EmojiCardDto(emoji=🧶, name=부드러운 밤놀이, description=잔잔한 움직임으로 공을 따라가는 양송이의 모습은 호기심 가득한 냥이다냥.), EmojiCardDto(emoji=🛋️, name=포근한 쉼터, description=홍길동 옆에서 편안히 몸을 푹 늘이며 쉼을 즐기는 양송이의 천진한 태도이다냥.)], todayVibe=SummaryDescriptionDto(summary=서늘한 바람 타고 흥미로운 관심이 피어나는 날, description=오늘은 양송이가 홍길동의 잔잔한 에너지에 마음을 열며 호기심을 발동시키는 날이다냥.<br>부드러운 실로 만든 공이나 작은 움직임에 발 빠르게 반응하며 장난기 넘치게 논다냥.<br>서로를 귀엽게 주시하며 안정적으로 거리를 유지할 때 더욱 깊은 교감이 무르익는 날이다냥.), littleTips=[EmojiCardDto(emoji=🐱, name=조용한 다가감, description=갑작스런 접촉보다 천천히 다가가주면 양송이가 더 편안해한다냥.), EmojiCardDto(emoji=🎾, name=부드러운 놀이, description=약간의 거리를 두고 천천히 움직이는 장난감이 효과 만점이다냥.), EmojiCardDto(emoji=🛏️, name=포근한 쉼, description=푹신한 이불이나 담요 위에서 함께 쉬면 양송이가 행복해한다냥.), EmojiCardDto(emoji=⏰, name=규칙적인 루틴, description=일정한 시간에 놀이와 휴식을 맞추면 교감이 한층 깊어진다냥.)], shareId=null)
requestLogSave : id : null, endpoint : /pet-owner/compatibility, ipAddress : 0:0:0:0:0:0:0:1, deviceType : WEB, deviceId : UNKNOWN, requestParams : {}

    insert 
    into
        tags_description_card
        (created_date, description, last_modified_date, id) 
    values
        (?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        request_log
        (created_date, device_id, device_type, endpoint, ip_address, last_modified_date, request_params, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        summary_description_card
        (created_date, description, last_modified_date, summary, id) 
    values
        (?, ?, ?, ?, ?)

    insert 
    into
        pet_owner_compatibility
        (compatibility_id, created_date, daily_life_id, fortune_message, last_modified_date, little_tips_id, owner_name, pet_name, request_id, today_vibe_id, share_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?
PetOwnerCompatibilityResponse(requestParameter=null, fortuneMessage=양송이는 홍길동의 기운에 부드럽게 반응하는 신비로운 고양이이다냥.<br>따뜻한 물결과 서늘한 바람이 어우러진 기운 속에서 본능이 깨어나는 모습이다냥.<br>서로의 에너지가 균형을 이루며 조용하지만 깊은 교감을 이루는구나냥., compatibility=TagsDescriptionDto(tags=[부드러운 반응, 안정된 거리, 조용한 교감, 규칙적 루틴, 서로 존중], description=양송이는 홍길동의 기운 속에서 편안함을 느끼며 자연스러운 관심을 보이는냥.<br>놀이할 때는 공격적이지 않고 잔잔하게 반응하며 조금은 거리를 두는 편이다냥.<br>일상 속에 안정된 루틴이 만들어지고 서로의 존재를 섬세하게 존중하는 케미이다냥.), dailyLife=[EmojiCardDto(emoji=🐾, name=은은한 주시, description=양송이는 조용히 홍길동을 바라보며 따뜻한 기운을 느끼는 냥이이다냥.), EmojiCardDto(emoji=🧶, name=부드러운 밤놀이, description=잔잔한 움직임으로 공을 따라가는 양송이의 모습은 호기심 가득한 냥이다냥.), EmojiCardDto(emoji=🛋️, name=포근한 쉼터, description=홍길동 옆에서 편안히 몸을 푹 늘이며 쉼을 즐기는 양송이의 천진한 태도이다냥.)], todayVibe=SummaryDescriptionDto(summary=서늘한 바람 타고 흥미로운 관심이 피어나는 날, description=오늘은 양송이가 홍길동의 잔잔한 에너지에 마음을 열며 호기심을 발동시키는 날이다냥.<br>부드러운 실로 만든 공이나 작은 움직임에 발 빠르게 반응하며 장난기 넘치게 논다냥.<br>서로를 귀엽게 주시하며 안정적으로 거리를 유지할 때 더욱 깊은 교감이 무르익는 날이다냥.), littleTips=[EmojiCardDto(emoji=🐱, name=조용한 다가감, description=갑작스런 접촉보다 천천히 다가가주면 양송이가 더 편안해한다냥.), EmojiCardDto(emoji=🎾, name=부드러운 놀이, description=약간의 거리를 두고 천천히 움직이는 장난감이 효과 만점이다냥.), EmojiCardDto(emoji=🛏️, name=포근한 쉼, description=푹신한 이불이나 담요 위에서 함께 쉬면 양송이가 행복해한다냥.), EmojiCardDto(emoji=⏰, name=규칙적인 루틴, description=일정한 시간에 놀이와 휴식을 맞추면 교감이 한층 깊어진다냥.)], shareId=78127b18-7559-4f88-aac8-581b38a1f6ac)
==================== END ======================
===============================================
Starting Application using Java 17 with PID 29324 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists pet_saju_characteristics 
       drop constraint if exists FK8fbmtsxa5up3h98qbeklf88mc

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists pet_saju_characteristics cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table pet_saju_characteristics (
        characteristic TEXT,
        share_id varchar(255) not null
    )

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists pet_saju_characteristics 
       add constraint FK8fbmtsxa5up3h98qbeklf88mc 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.512 seconds (process running for 5.064)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 197
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 파라미터: {"body":{"ownerName":"홍길동","ownerBirthDate":"1989-06-05","ownerGender":"남","petName":"양송이","petBirthDate":"2022-02-10","petSpecies":"고양이","petGender":"여"}}
요청 본문: {
  "ownerName": "홍길동",
  "ownerBirthDate": "1989-06-05",
  "ownerGender": "남",
  "petName": "양송이",
  "petBirthDate": "2022-02-10",
  "petSpecies": "고양이",
  "petGender": "여"
}
요청 로그 객체 생성: id : null, endpoint : /pet-owner/compatibility, ipAddress : 0:0:0:0:0:0:0:1, deviceType : WEB, deviceId : UNKNOWN, requestParams : {"body":{"ownerName":"홍길동","ownerBirthDate":"1989-06-05","ownerGender":"남","petName":"양송이","petBirthDate":"2022-02-10","petSpecies":"고양이","petGender":"여"}}
handleHttpMessageNotReadableException
org.springframework.http.converter.HttpMessageNotReadableException: Required request body is missing: public org.springframework.http.ResponseEntity<com.codism.domain.saju.model.dto.response.pet.PetOwnerCompatibilityResponse> com.codism.controller.pet.PetOwnerCompatibilityController.generateCompatibility(jakarta.servlet.http.HttpServletRequest,com.codism.domain.saju.model.dto.request.pet.PetOwnerCompatibilityRequest) throws java.lang.Exception
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:162)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:134)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:228)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.codism.config.ContentCachingFilter.doFilterInternal(ContentCachingFilter.java:20)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
Starting Application using Java 17 with PID 67060 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"


***************************
APPLICATION FAILED TO START
***************************

Description:

The bean 'contentCachingFilter', defined in class path resource [com/petfortune/core/config/web/WebMvcConfig.class], could not be registered. A bean with that name has already been defined in file [D:\workspace\pet-fortune-api\build\classes\java\main\com\petfortune\core\config\web\ContentCachingFilter.class] and overriding is disabled.

Action:

Consider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding=true

Starting Application using Java 17 with PID 52480 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists pet_saju_characteristics 
       drop constraint if exists FK8fbmtsxa5up3h98qbeklf88mc

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists pet_saju_characteristics cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table pet_saju_characteristics (
        characteristic TEXT,
        share_id varchar(255) not null
    )

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists pet_saju_characteristics 
       add constraint FK8fbmtsxa5up3h98qbeklf88mc 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.788 seconds (process running for 5.327)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 197
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 파라미터: {"body":{"ownerName":"홍길동","ownerBirthDate":"1989-06-05","ownerGender":"남","petName":"양송이","petBirthDate":"2022-02-10","petSpecies":"고양이","petGender":"여"}}
요청 본문: {
  "ownerName": "홍길동",
  "ownerBirthDate": "1989-06-05",
  "ownerGender": "남",
  "petName": "양송이",
  "petBirthDate": "2022-02-10",
  "petSpecies": "고양이",
  "petGender": "여"
}
요청 로그 객체 생성: id : null, endpoint : /pet-owner/compatibility, ipAddress : 0:0:0:0:0:0:0:1, deviceType : WEB, deviceId : UNKNOWN, requestParams : {"body":{"ownerName":"홍길동","ownerBirthDate":"1989-06-05","ownerGender":"남","petName":"양송이","petBirthDate":"2022-02-10","petSpecies":"고양이","petGender":"여"}}
handleHttpMessageNotReadableException
org.springframework.http.converter.HttpMessageNotReadableException: Required request body is missing: public org.springframework.http.ResponseEntity<com.codism.domain.saju.model.dto.response.pet.PetOwnerCompatibilityResponse> com.codism.controller.pet.PetOwnerCompatibilityController.generateCompatibility(jakarta.servlet.http.HttpServletRequest,com.codism.domain.saju.model.dto.request.pet.PetOwnerCompatibilityRequest) throws java.lang.Exception
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:162)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:134)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:228)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.codism.config.ContentCachingFilter.doFilterInternal(ContentCachingFilter.java:28)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
Starting Application using Java 17 with PID 47176 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists pet_saju_characteristics 
       drop constraint if exists FK8fbmtsxa5up3h98qbeklf88mc

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists pet_saju_characteristics cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table pet_saju_characteristics (
        characteristic TEXT,
        share_id varchar(255) not null
    )

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists pet_saju_characteristics 
       add constraint FK8fbmtsxa5up3h98qbeklf88mc 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.493 seconds (process running for 5.078)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 197
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 파라미터: {}
요청 본문: {  "ownerName": "홍길동",  "ownerBirthDate": "1989-06-05",  "ownerGender": "남",  "petName": "양송이",  "petBirthDate": "2022-02-10",  "petSpecies": "고양이",  "petGender": "여"}
요청 로그 객체 생성: id : null, endpoint : /pet-owner/compatibility, ipAddress : 0:0:0:0:0:0:0:1, deviceType : WEB, deviceId : UNKNOWN, requestParams : {}
handleRuntimeException
java.lang.IllegalStateException: getReader() has already been called for this request
	at org.apache.catalina.connector.Request.getInputStream(Request.java:1026)
	at org.apache.catalina.connector.RequestFacade.getInputStream(RequestFacade.java:298)
	at org.springframework.http.server.ServletServerHttpRequest.getBody(ServletServerHttpRequest.java:216)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver$EmptyBodyCheckingHttpInputMessage.<init>(AbstractMessageConverterMethodArgumentResolver.java:327)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:174)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:159)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:134)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:228)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
Starting Application using Java 17 with PID 32896 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists pet_saju_characteristics 
       drop constraint if exists FK8fbmtsxa5up3h98qbeklf88mc

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists pet_saju_characteristics cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table pet_saju_characteristics (
        characteristic TEXT,
        share_id varchar(255) not null
    )

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists pet_saju_characteristics 
       add constraint FK8fbmtsxa5up3h98qbeklf88mc 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.737 seconds (process running for 5.35)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 197
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 파라미터: {}
요청 본문: {  "ownerName": "홍길동",  "ownerBirthDate": "1989-06-05",  "ownerGender": "남",  "petName": "양송이",  "petBirthDate": "2022-02-10",  "petSpecies": "고양이",  "petGender": "여"}
요청 로그 객체 생성: id : null, endpoint : /pet-owner/compatibility, ipAddress : 0:0:0:0:0:0:0:1, deviceType : WEB, deviceId : UNKNOWN, requestParams : {}
handleHttpMessageNotReadableException
org.springframework.http.converter.HttpMessageNotReadableException: Required request body is missing: public org.springframework.http.ResponseEntity<com.codism.domain.saju.model.dto.response.pet.PetOwnerCompatibilityResponse> com.codism.controller.pet.PetOwnerCompatibilityController.generateCompatibility(jakarta.servlet.http.HttpServletRequest,com.codism.domain.saju.model.dto.request.pet.PetOwnerCompatibilityRequest) throws java.lang.Exception
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:162)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:134)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:228)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.codism.config.ContentCachingFilter.doFilterInternal(ContentCachingFilter.java:29)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
Starting Application using Java 17 with PID 49656 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists pet_saju_characteristics 
       drop constraint if exists FK8fbmtsxa5up3h98qbeklf88mc

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists pet_saju_characteristics cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table pet_saju_characteristics (
        characteristic TEXT,
        share_id varchar(255) not null
    )

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists pet_saju_characteristics 
       add constraint FK8fbmtsxa5up3h98qbeklf88mc 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.542 seconds (process running for 5.065)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 197
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: id : null, endpoint : /pet-owner/compatibility, ipAddress : 0:0:0:0:0:0:0:1, deviceType : WEB, deviceId : UNKNOWN, requestParams : {}
Generating Saju for PetOwnerCompatibilityRequest(ownerName=홍길동, ownerBirthDate=1989-06-05, ownerGender=남, petName=양송이, petBirthDate=2022-02-10, petSpecies=고양이, petGender=여)
getAllStemBranch - birthDate: 1989-06-05
getAllStemBranch - birthDate: 2022-02-10
userPrompt : 주인: 홍길동, 1989-06-05, 음력, 기사, 기오, 임인, 남 
 반려동물: 양송이, 2022-02-10, 음력, 임인, 임묘, 경자, 여, 고양이 
LLM 호출 소요 시간: 12986ms (12.99초)
content : {
  "fortuneMessage": "양송이의 호기심 많은 감각이 홍길동의 따뜻한 물결 기운과 맞닿아 있다냥.<br>둘 사이의 본능적 교감은 놀이 중 작은 손길에도 민감하게 반응하는 모습에서 빛난다냥.<br>오늘은 특히 서로의 리듬을 이해하며 평온함을 나누는 날이다냥.",
  "compatibility": {
    "tags": ["놀이 활발", "감정 교류", "적당 거리", "루틴 안정", "신뢰 형성"],
    "description": "양송이는 홍길동의 유연한 기운에 편안함을 느껴 놀이할 때 적극적으로 반응한다냥.<br>감정 표현이 솔직하고 거리 유지가 잘 되어 서로 스트레스 없이 일상을 즐긴다냥.<br>규칙적인 만남과 휴식 루틴이 안정적인 신뢰를 확립하는 데 도움을 준다냥."
  },
  "dailyLife": [
    {
      "emoji": "🐾",
      "name": "장난감 스위치",
      "description": "양송이는 부드러운 터치와 움직임에 예민해 손가락으로 천천히 움직이는 작은 장난감에 즉각 반응한다냥."
    },
    {
      "emoji": "🧶",
      "name": "실타래 전투",
      "description": "서늘한 바람 같은 움직임으로 양송이는 실타래 놀이를 좋아해 활발히 달려들면서 즐거운 시간을 만든다냥."
    },
    {
      "emoji": "🛋️",
      "name": "따뜻한 쉼터",
      "description": "홍길동의 따뜻한 품과 은은한 냄새가 양송이의 휴식 공간을 더욱 안정적으로 만들어준다냥."
    }
  ],
  "todayVibe": {
    "summary": "서로를 알아가는 조용한 탐색기",
    "description": "오늘은 양송이가 홍길동의 부드러운 손길에 더욱 반응할 냥~ 특별한 장난감을 준비해 주면 놀이 시간이 길어질 것이다냥.<br>평소보다 조금은 천천히 접근하며 서로의 감정을 살피는 게 관건이다냥.<br>교감은 조용한 눈맞춤과 부드러운 쓰다듬에서 깊어진다냥."
  },
  "littleTips": [
    {
      "emoji": "🤲",
      "name": "부드러운 접촉",
      "description": "서서히 다가가 살며시 만져주면 양송이가 안정감을 느낀다냥."
    },
    {
      "emoji": "⏳",
      "name": "느긋한 기다림",
      "description": "양송이가 선뜻 다가올 때까지 천천히 기다려주는 게 좋다냥."
    },
    {
      "emoji": "🧸",
      "name": "새로운 장난감",
      "description": "신선한 장난감이 호기심을 자극해 놀이 효과가 쑥쑥 올라간다냥."
    },
    {
      "emoji": "🌙",
      "name": "조용한 밤시간",
      "description": "밤에 조용히 함께 있으면 교감이 깊어지는 시간이다냥."
    }
  ]
}
PetOwnerCompatibilityResponse.toEntity() called : PetOwnerCompatibilityResponse(requestParameter=null, fortuneMessage=양송이의 호기심 많은 감각이 홍길동의 따뜻한 물결 기운과 맞닿아 있다냥.<br>둘 사이의 본능적 교감은 놀이 중 작은 손길에도 민감하게 반응하는 모습에서 빛난다냥.<br>오늘은 특히 서로의 리듬을 이해하며 평온함을 나누는 날이다냥., compatibility=TagsDescriptionDto(tags=[놀이 활발, 감정 교류, 적당 거리, 루틴 안정, 신뢰 형성], description=양송이는 홍길동의 유연한 기운에 편안함을 느껴 놀이할 때 적극적으로 반응한다냥.<br>감정 표현이 솔직하고 거리 유지가 잘 되어 서로 스트레스 없이 일상을 즐긴다냥.<br>규칙적인 만남과 휴식 루틴이 안정적인 신뢰를 확립하는 데 도움을 준다냥.), dailyLife=[EmojiCardDto(emoji=🐾, name=장난감 스위치, description=양송이는 부드러운 터치와 움직임에 예민해 손가락으로 천천히 움직이는 작은 장난감에 즉각 반응한다냥.), EmojiCardDto(emoji=🧶, name=실타래 전투, description=서늘한 바람 같은 움직임으로 양송이는 실타래 놀이를 좋아해 활발히 달려들면서 즐거운 시간을 만든다냥.), EmojiCardDto(emoji=🛋️, name=따뜻한 쉼터, description=홍길동의 따뜻한 품과 은은한 냄새가 양송이의 휴식 공간을 더욱 안정적으로 만들어준다냥.)], todayVibe=SummaryDescriptionDto(summary=서로를 알아가는 조용한 탐색기, description=오늘은 양송이가 홍길동의 부드러운 손길에 더욱 반응할 냥~ 특별한 장난감을 준비해 주면 놀이 시간이 길어질 것이다냥.<br>평소보다 조금은 천천히 접근하며 서로의 감정을 살피는 게 관건이다냥.<br>교감은 조용한 눈맞춤과 부드러운 쓰다듬에서 깊어진다냥.), littleTips=[EmojiCardDto(emoji=🤲, name=부드러운 접촉, description=서서히 다가가 살며시 만져주면 양송이가 안정감을 느낀다냥.), EmojiCardDto(emoji=⏳, name=느긋한 기다림, description=양송이가 선뜻 다가올 때까지 천천히 기다려주는 게 좋다냥.), EmojiCardDto(emoji=🧸, name=새로운 장난감, description=신선한 장난감이 호기심을 자극해 놀이 효과가 쑥쑥 올라간다냥.), EmojiCardDto(emoji=🌙, name=조용한 밤시간, description=밤에 조용히 함께 있으면 교감이 깊어지는 시간이다냥.)], shareId=null)
requestLogSave : id : null, endpoint : /pet-owner/compatibility, ipAddress : 0:0:0:0:0:0:0:1, deviceType : WEB, deviceId : UNKNOWN, requestParams : {}

    insert 
    into
        tags_description_card
        (created_date, description, last_modified_date, id) 
    values
        (?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        request_log
        (created_date, device_id, device_type, endpoint, ip_address, last_modified_date, request_params, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        summary_description_card
        (created_date, description, last_modified_date, summary, id) 
    values
        (?, ?, ?, ?, ?)

    insert 
    into
        pet_owner_compatibility
        (compatibility_id, created_date, daily_life_id, fortune_message, last_modified_date, little_tips_id, owner_name, pet_name, request_id, today_vibe_id, share_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?
PetOwnerCompatibilityResponse(requestParameter=null, fortuneMessage=양송이의 호기심 많은 감각이 홍길동의 따뜻한 물결 기운과 맞닿아 있다냥.<br>둘 사이의 본능적 교감은 놀이 중 작은 손길에도 민감하게 반응하는 모습에서 빛난다냥.<br>오늘은 특히 서로의 리듬을 이해하며 평온함을 나누는 날이다냥., compatibility=TagsDescriptionDto(tags=[놀이 활발, 감정 교류, 적당 거리, 루틴 안정, 신뢰 형성], description=양송이는 홍길동의 유연한 기운에 편안함을 느껴 놀이할 때 적극적으로 반응한다냥.<br>감정 표현이 솔직하고 거리 유지가 잘 되어 서로 스트레스 없이 일상을 즐긴다냥.<br>규칙적인 만남과 휴식 루틴이 안정적인 신뢰를 확립하는 데 도움을 준다냥.), dailyLife=[EmojiCardDto(emoji=🐾, name=장난감 스위치, description=양송이는 부드러운 터치와 움직임에 예민해 손가락으로 천천히 움직이는 작은 장난감에 즉각 반응한다냥.), EmojiCardDto(emoji=🧶, name=실타래 전투, description=서늘한 바람 같은 움직임으로 양송이는 실타래 놀이를 좋아해 활발히 달려들면서 즐거운 시간을 만든다냥.), EmojiCardDto(emoji=🛋️, name=따뜻한 쉼터, description=홍길동의 따뜻한 품과 은은한 냄새가 양송이의 휴식 공간을 더욱 안정적으로 만들어준다냥.)], todayVibe=SummaryDescriptionDto(summary=서로를 알아가는 조용한 탐색기, description=오늘은 양송이가 홍길동의 부드러운 손길에 더욱 반응할 냥~ 특별한 장난감을 준비해 주면 놀이 시간이 길어질 것이다냥.<br>평소보다 조금은 천천히 접근하며 서로의 감정을 살피는 게 관건이다냥.<br>교감은 조용한 눈맞춤과 부드러운 쓰다듬에서 깊어진다냥.), littleTips=[EmojiCardDto(emoji=🤲, name=부드러운 접촉, description=서서히 다가가 살며시 만져주면 양송이가 안정감을 느낀다냥.), EmojiCardDto(emoji=⏳, name=느긋한 기다림, description=양송이가 선뜻 다가올 때까지 천천히 기다려주는 게 좋다냥.), EmojiCardDto(emoji=🧸, name=새로운 장난감, description=신선한 장난감이 호기심을 자극해 놀이 효과가 쑥쑥 올라간다냥.), EmojiCardDto(emoji=🌙, name=조용한 밤시간, description=밤에 조용히 함께 있으면 교감이 깊어지는 시간이다냥.)], shareId=0805454d-925c-4f59-9b85-50619cc0ab60)
==================== END ======================
===============================================
Starting Application using Java 17 with PID 59188 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists pet_saju_characteristics 
       drop constraint if exists FK8fbmtsxa5up3h98qbeklf88mc

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists pet_saju_characteristics cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table pet_saju_characteristics (
        characteristic TEXT,
        share_id varchar(255) not null
    )

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists pet_saju_characteristics 
       add constraint FK8fbmtsxa5up3h98qbeklf88mc 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.578 seconds (process running for 5.108)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 197
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: id : null, endpoint : /pet-owner/compatibility, ipAddress : 0:0:0:0:0:0:0:1, deviceType : WEB, deviceId : UNKNOWN, requestParams : {}
Generating Saju for PetOwnerCompatibilityRequest(ownerName=홍길동, ownerBirthDate=1989-06-05, ownerGender=남, petName=양송이, petBirthDate=2022-02-10, petSpecies=고양이, petGender=여)
getAllStemBranch - birthDate: 1989-06-05
getAllStemBranch - birthDate: 2022-02-10
userPrompt : 주인: 홍길동, 1989-06-05, 음력, 기사, 기오, 임인, 남 
 반려동물: 양송이, 2022-02-10, 음력, 임인, 임묘, 경자, 여, 고양이 
LLM 호출 소요 시간: 18127ms (18.13초)
content : {
  "fortuneMessage": "양송이의 민첩하고 호기심 많은 감각이 홍길동의 따뜻한 물결 기운에 활짝 열리는구나냥.<br>서늘한 바람 같은 순간에는 조금 경계하면서도 이내 조화로운 리듬을 찾아낸다냥.<br>서로의 에너지가 자연스레 연결되어 편안한 교감이 이루어지는 아주 좋은 기운이다냥.",

  "compatibility": {
    "tags": ["상호신뢰", "놀이친화", "안정감", "루틴조화", "감각공명"],
    "description": "양송이는 홍길동의 부드럽고 따뜻한 손길에 특별히 반응하는 놀이 친구이다냥.<br>함께하는 시간이 길어질수록 서로의 감정 흐름을 섬세하게 읽으며 편안한 거리를 유지한다냥.<br>일상의 루틴 속에서 양송이의 천진난만한 호기심과 홍길동의 안정된 리듬이 아주 자연스럽게 맞물린다냥."
  },

  "dailyLife": [
    {
      "emoji": "🎾",
      "name": "활발한 사냥놀이",
      "description": "양송이는 살금살금 움직이며 숨겨진 장난감을 찾아내는 본능이 살아있는 귀여운 사냥꾼이다냥."
    },
    {
      "emoji": "🐾",
      "name": "함께 걷는 산책길",
      "description": "밖에서의 산책 시간에 양송이는 주인의 발걸음을 살피며 새로움에 조심스레 다가가는 매너 고양이다냥."
    },
    {
      "emoji": "💤",
      "name": "따뜻한 쉼터",
      "description": "편안한 햇살 아래 한가롭게 쉼을 즐기며 서로의 온기를 느끼는 소중한 공간을 잘 찾아낸다냥."
    }
  ],

  "todayVibe": {
    "summary": "호기심 충만한 하루",
    "description": "오늘은 양송이가 평소보다 더 예민하게 주인의 감정을 느끼는 날이다냥.<br>살짝 흔들리는 장난감이나 반짝이는 작은 물체에 집중하면서 놀이를 제안하면 큰 호응이 온다냥.<br>놀이 후에는 조용한 곳에서 소곤소곤 말 걸어주면 마음이 한층 더 가까워지는 기운이다냥."
  },

  "littleTips": [
    {
      "emoji": "🧴",
      "name": "촉감관리",
      "description": "부드러운 브러시로 양송이의 털을 살살 쓰다듬어주면 신뢰가 쌓인다냥."
    },
    {
      "emoji": "🐟",
      "name": "간식타임",
      "description": "작은 간식으로 놀이 후 보상을 하면 더 활동적으로 변한다냥."
    },
    {
      "emoji": "💡",
      "name": "새 장난감",
      "description": "새로운 장난감을 살짝 소개하며 관심을 끌어보라냥."
    },
    {
      "emoji": "⏰",
      "name": "규칙적 루틴",
      "description": "일정한 시간에 놀이와 휴식을 배치하면 양송이의 안정감이 높아진다냥."
    }
  ]
}
PetOwnerCompatibilityResponse.toEntity() called : PetOwnerCompatibilityResponse(requestParameter=null, fortuneMessage=양송이의 민첩하고 호기심 많은 감각이 홍길동의 따뜻한 물결 기운에 활짝 열리는구나냥.<br>서늘한 바람 같은 순간에는 조금 경계하면서도 이내 조화로운 리듬을 찾아낸다냥.<br>서로의 에너지가 자연스레 연결되어 편안한 교감이 이루어지는 아주 좋은 기운이다냥., compatibility=TagsDescriptionDto(tags=[상호신뢰, 놀이친화, 안정감, 루틴조화, 감각공명], description=양송이는 홍길동의 부드럽고 따뜻한 손길에 특별히 반응하는 놀이 친구이다냥.<br>함께하는 시간이 길어질수록 서로의 감정 흐름을 섬세하게 읽으며 편안한 거리를 유지한다냥.<br>일상의 루틴 속에서 양송이의 천진난만한 호기심과 홍길동의 안정된 리듬이 아주 자연스럽게 맞물린다냥.), dailyLife=[EmojiCardDto(emoji=🎾, name=활발한 사냥놀이, description=양송이는 살금살금 움직이며 숨겨진 장난감을 찾아내는 본능이 살아있는 귀여운 사냥꾼이다냥.), EmojiCardDto(emoji=🐾, name=함께 걷는 산책길, description=밖에서의 산책 시간에 양송이는 주인의 발걸음을 살피며 새로움에 조심스레 다가가는 매너 고양이다냥.), EmojiCardDto(emoji=💤, name=따뜻한 쉼터, description=편안한 햇살 아래 한가롭게 쉼을 즐기며 서로의 온기를 느끼는 소중한 공간을 잘 찾아낸다냥.)], todayVibe=SummaryDescriptionDto(summary=호기심 충만한 하루, description=오늘은 양송이가 평소보다 더 예민하게 주인의 감정을 느끼는 날이다냥.<br>살짝 흔들리는 장난감이나 반짝이는 작은 물체에 집중하면서 놀이를 제안하면 큰 호응이 온다냥.<br>놀이 후에는 조용한 곳에서 소곤소곤 말 걸어주면 마음이 한층 더 가까워지는 기운이다냥.), littleTips=[EmojiCardDto(emoji=🧴, name=촉감관리, description=부드러운 브러시로 양송이의 털을 살살 쓰다듬어주면 신뢰가 쌓인다냥.), EmojiCardDto(emoji=🐟, name=간식타임, description=작은 간식으로 놀이 후 보상을 하면 더 활동적으로 변한다냥.), EmojiCardDto(emoji=💡, name=새 장난감, description=새로운 장난감을 살짝 소개하며 관심을 끌어보라냥.), EmojiCardDto(emoji=⏰, name=규칙적 루틴, description=일정한 시간에 놀이와 휴식을 배치하면 양송이의 안정감이 높아진다냥.)], shareId=null)
requestLogSave : id : null, endpoint : /pet-owner/compatibility, ipAddress : 0:0:0:0:0:0:0:1, deviceType : WEB, deviceId : UNKNOWN, requestParams : {}

    insert 
    into
        tags_description_card
        (created_date, description, last_modified_date, id) 
    values
        (?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        request_log
        (created_date, device_id, device_type, endpoint, ip_address, last_modified_date, request_params, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        summary_description_card
        (created_date, description, last_modified_date, summary, id) 
    values
        (?, ?, ?, ?, ?)

    insert 
    into
        pet_owner_compatibility
        (compatibility_id, created_date, daily_life_id, fortune_message, last_modified_date, little_tips_id, owner_name, pet_name, request_id, today_vibe_id, share_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?
PetOwnerCompatibilityResponse(requestParameter=null, fortuneMessage=양송이의 민첩하고 호기심 많은 감각이 홍길동의 따뜻한 물결 기운에 활짝 열리는구나냥.<br>서늘한 바람 같은 순간에는 조금 경계하면서도 이내 조화로운 리듬을 찾아낸다냥.<br>서로의 에너지가 자연스레 연결되어 편안한 교감이 이루어지는 아주 좋은 기운이다냥., compatibility=TagsDescriptionDto(tags=[상호신뢰, 놀이친화, 안정감, 루틴조화, 감각공명], description=양송이는 홍길동의 부드럽고 따뜻한 손길에 특별히 반응하는 놀이 친구이다냥.<br>함께하는 시간이 길어질수록 서로의 감정 흐름을 섬세하게 읽으며 편안한 거리를 유지한다냥.<br>일상의 루틴 속에서 양송이의 천진난만한 호기심과 홍길동의 안정된 리듬이 아주 자연스럽게 맞물린다냥.), dailyLife=[EmojiCardDto(emoji=🎾, name=활발한 사냥놀이, description=양송이는 살금살금 움직이며 숨겨진 장난감을 찾아내는 본능이 살아있는 귀여운 사냥꾼이다냥.), EmojiCardDto(emoji=🐾, name=함께 걷는 산책길, description=밖에서의 산책 시간에 양송이는 주인의 발걸음을 살피며 새로움에 조심스레 다가가는 매너 고양이다냥.), EmojiCardDto(emoji=💤, name=따뜻한 쉼터, description=편안한 햇살 아래 한가롭게 쉼을 즐기며 서로의 온기를 느끼는 소중한 공간을 잘 찾아낸다냥.)], todayVibe=SummaryDescriptionDto(summary=호기심 충만한 하루, description=오늘은 양송이가 평소보다 더 예민하게 주인의 감정을 느끼는 날이다냥.<br>살짝 흔들리는 장난감이나 반짝이는 작은 물체에 집중하면서 놀이를 제안하면 큰 호응이 온다냥.<br>놀이 후에는 조용한 곳에서 소곤소곤 말 걸어주면 마음이 한층 더 가까워지는 기운이다냥.), littleTips=[EmojiCardDto(emoji=🧴, name=촉감관리, description=부드러운 브러시로 양송이의 털을 살살 쓰다듬어주면 신뢰가 쌓인다냥.), EmojiCardDto(emoji=🐟, name=간식타임, description=작은 간식으로 놀이 후 보상을 하면 더 활동적으로 변한다냥.), EmojiCardDto(emoji=💡, name=새 장난감, description=새로운 장난감을 살짝 소개하며 관심을 끌어보라냥.), EmojiCardDto(emoji=⏰, name=규칙적 루틴, description=일정한 시간에 놀이와 휴식을 배치하면 양송이의 안정감이 높아진다냥.)], shareId=90c10111-408f-4566-85c9-9c146ac0636b)
==================== END ======================
===============================================
Starting Application using Java 17 with PID 41916 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists pet_saju_characteristics 
       drop constraint if exists FK8fbmtsxa5up3h98qbeklf88mc

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists pet_saju_characteristics cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table pet_saju_characteristics (
        characteristic TEXT,
        share_id varchar(255) not null
    )

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists pet_saju_characteristics 
       add constraint FK8fbmtsxa5up3h98qbeklf88mc 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.737 seconds (process running for 5.368)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 197
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: id : null, endpoint : /pet-owner/compatibility, ipAddress : 0:0:0:0:0:0:0:1, deviceType : WEB, deviceId : UNKNOWN, requestParams : {}
Generating Saju for PetOwnerCompatibilityRequest(ownerName=홍길동, ownerBirthDate=1989-06-05, ownerGender=남, petName=양송이, petBirthDate=2022-02-10, petSpecies=고양이, petGender=여)
getAllStemBranch - birthDate: 1989-06-05
getAllStemBranch - birthDate: 2022-02-10
userPrompt : 주인: 홍길동, 1989-06-05, 음력, 기사, 기오, 임인, 남 
 반려동물: 양송이, 2022-02-10, 음력, 임인, 임묘, 경자, 여, 고양이 
LLM 호출 소요 시간: 14902ms (14.90초)
content : {
  "fortuneMessage": "홍길동과 양송이는 따뜻한 햇살과 상큼한 바람 같은 조화를 이룬다냥.<br>양송이의 민감한 감각이 홍길동의 부드러운 기운에 포근히 기대는 모습이 인상적이다냥.<br>서로의 리듬에 천천히 맞춰가며 안정감을 키워나갈 수 있는 궁합이다냥.",
  "compatibility": {
    "tags": ["부드러운교감", "서로맞춤", "안정된거리", "호기심충만", "루틴공유"],
    "description": "양송이는 홍길동의 온화한 기운을 느끼고 편안하게 다가오면서도 적당한 놀이를 기대하는 성향이다냥.<br>가까워질 때는 부드럽고 차분하지만, 공간을 존중하며 일정한 거리를 유지하는 균형감이 돋보인다냥.<br>일상의 루틴 속에서 놀이 시간과 휴식 시간이 자연스레 어우러져 서로 의지하는 모습을 보인다냥."
  },
  "dailyLife": [
    {
      "emoji": "🐾",
      "name": "부드러운 손길 놀이",
      "description": "양송이는 홍길동이 손으로 살짝 건드리면 따뜻한 물결처럼 반응하며, 살랑이는 꼬리로 감정을 표현한다냥."
    },
    {
      "emoji": "🧶",
      "name": "발끝 쫓기 시간",
      "description": "홍길동의 발 움직임에 호기심이 생겨 살짝 쫓아가며, 때로는 멈춰서 기다리는 재치가 묻어난다냥."
    },
    {
      "emoji": "🛋️",
      "name": "포근한 쉼터 공유",
      "description": "휴식할 때는 각자 편한 자리에서 조금 떨어져 있으면서도 가끔 서로를 바라보며 안정감을 주고받는다냥."
    }
  ],
  "todayVibe": {
    "summary": "호기심과 온화함이 춤추는 하루",
    "description": "오늘 양송이는 홍길동의 부드러운 움직임에 한층 민감하게 반응할 거다냥.<br>가벼운 손길과 소리 나는 장난감으로 자연스럽게 놀이를 유도하면 좋아하니, 느긋하면서도 재치 있게 시간을 보내보라냥.<br>서로 눈빛을 마주치며 교감 포인트를 찾는 재미가 가득할 거다냥."
  },
  "littleTips": [
    {
      "emoji": "🖐️",
      "name": "살짝 터치",
      "description": "깊이보다는 부드러운 터치가 양송이 마음을 사로잡는다냥."
    },
    {
      "emoji": "🏃",
      "name": "적당한 거리",
      "description": "기분 좋을 때만 살짝 다가가서 거리를 존중해주라냥."
    },
    {
      "emoji": "🕰️",
      "name": "규칙적 놀이",
      "description": "매일 같은 시간에 짧게 놀아주면 신뢰가 쌓인다냥."
    },
    {
      "emoji": "🛌",
      "name": "안전한 휴식",
      "description": "양송이 쉼터는 편하고 안전하게 만들어주라냥."
    }
  ]
}
PetOwnerCompatibilityResponse.toEntity() called : PetOwnerCompatibilityResponse(requestParameter=null, fortuneMessage=홍길동과 양송이는 따뜻한 햇살과 상큼한 바람 같은 조화를 이룬다냥.<br>양송이의 민감한 감각이 홍길동의 부드러운 기운에 포근히 기대는 모습이 인상적이다냥.<br>서로의 리듬에 천천히 맞춰가며 안정감을 키워나갈 수 있는 궁합이다냥., compatibility=TagsDescriptionDto(tags=[부드러운교감, 서로맞춤, 안정된거리, 호기심충만, 루틴공유], description=양송이는 홍길동의 온화한 기운을 느끼고 편안하게 다가오면서도 적당한 놀이를 기대하는 성향이다냥.<br>가까워질 때는 부드럽고 차분하지만, 공간을 존중하며 일정한 거리를 유지하는 균형감이 돋보인다냥.<br>일상의 루틴 속에서 놀이 시간과 휴식 시간이 자연스레 어우러져 서로 의지하는 모습을 보인다냥.), dailyLife=[EmojiCardDto(emoji=🐾, name=부드러운 손길 놀이, description=양송이는 홍길동이 손으로 살짝 건드리면 따뜻한 물결처럼 반응하며, 살랑이는 꼬리로 감정을 표현한다냥.), EmojiCardDto(emoji=🧶, name=발끝 쫓기 시간, description=홍길동의 발 움직임에 호기심이 생겨 살짝 쫓아가며, 때로는 멈춰서 기다리는 재치가 묻어난다냥.), EmojiCardDto(emoji=🛋️, name=포근한 쉼터 공유, description=휴식할 때는 각자 편한 자리에서 조금 떨어져 있으면서도 가끔 서로를 바라보며 안정감을 주고받는다냥.)], todayVibe=SummaryDescriptionDto(summary=호기심과 온화함이 춤추는 하루, description=오늘 양송이는 홍길동의 부드러운 움직임에 한층 민감하게 반응할 거다냥.<br>가벼운 손길과 소리 나는 장난감으로 자연스럽게 놀이를 유도하면 좋아하니, 느긋하면서도 재치 있게 시간을 보내보라냥.<br>서로 눈빛을 마주치며 교감 포인트를 찾는 재미가 가득할 거다냥.), littleTips=[EmojiCardDto(emoji=🖐️, name=살짝 터치, description=깊이보다는 부드러운 터치가 양송이 마음을 사로잡는다냥.), EmojiCardDto(emoji=🏃, name=적당한 거리, description=기분 좋을 때만 살짝 다가가서 거리를 존중해주라냥.), EmojiCardDto(emoji=🕰️, name=규칙적 놀이, description=매일 같은 시간에 짧게 놀아주면 신뢰가 쌓인다냥.), EmojiCardDto(emoji=🛌, name=안전한 휴식, description=양송이 쉼터는 편하고 안전하게 만들어주라냥.)], shareId=null)
requestLogSave : id : null, endpoint : /pet-owner/compatibility, ipAddress : 0:0:0:0:0:0:0:1, deviceType : WEB, deviceId : UNKNOWN, requestParams : {}

    insert 
    into
        tags_description_card
        (created_date, description, last_modified_date, id) 
    values
        (?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        request_log
        (created_date, device_id, device_type, endpoint, ip_address, last_modified_date, request_params, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        summary_description_card
        (created_date, description, last_modified_date, summary, id) 
    values
        (?, ?, ?, ?, ?)

    insert 
    into
        pet_owner_compatibility
        (compatibility_id, created_date, daily_life_id, fortune_message, last_modified_date, little_tips_id, owner_name, pet_name, request_id, today_vibe_id, share_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?
PetOwnerCompatibilityResponse(requestParameter=null, fortuneMessage=홍길동과 양송이는 따뜻한 햇살과 상큼한 바람 같은 조화를 이룬다냥.<br>양송이의 민감한 감각이 홍길동의 부드러운 기운에 포근히 기대는 모습이 인상적이다냥.<br>서로의 리듬에 천천히 맞춰가며 안정감을 키워나갈 수 있는 궁합이다냥., compatibility=TagsDescriptionDto(tags=[부드러운교감, 서로맞춤, 안정된거리, 호기심충만, 루틴공유], description=양송이는 홍길동의 온화한 기운을 느끼고 편안하게 다가오면서도 적당한 놀이를 기대하는 성향이다냥.<br>가까워질 때는 부드럽고 차분하지만, 공간을 존중하며 일정한 거리를 유지하는 균형감이 돋보인다냥.<br>일상의 루틴 속에서 놀이 시간과 휴식 시간이 자연스레 어우러져 서로 의지하는 모습을 보인다냥.), dailyLife=[EmojiCardDto(emoji=🐾, name=부드러운 손길 놀이, description=양송이는 홍길동이 손으로 살짝 건드리면 따뜻한 물결처럼 반응하며, 살랑이는 꼬리로 감정을 표현한다냥.), EmojiCardDto(emoji=🧶, name=발끝 쫓기 시간, description=홍길동의 발 움직임에 호기심이 생겨 살짝 쫓아가며, 때로는 멈춰서 기다리는 재치가 묻어난다냥.), EmojiCardDto(emoji=🛋️, name=포근한 쉼터 공유, description=휴식할 때는 각자 편한 자리에서 조금 떨어져 있으면서도 가끔 서로를 바라보며 안정감을 주고받는다냥.)], todayVibe=SummaryDescriptionDto(summary=호기심과 온화함이 춤추는 하루, description=오늘 양송이는 홍길동의 부드러운 움직임에 한층 민감하게 반응할 거다냥.<br>가벼운 손길과 소리 나는 장난감으로 자연스럽게 놀이를 유도하면 좋아하니, 느긋하면서도 재치 있게 시간을 보내보라냥.<br>서로 눈빛을 마주치며 교감 포인트를 찾는 재미가 가득할 거다냥.), littleTips=[EmojiCardDto(emoji=🖐️, name=살짝 터치, description=깊이보다는 부드러운 터치가 양송이 마음을 사로잡는다냥.), EmojiCardDto(emoji=🏃, name=적당한 거리, description=기분 좋을 때만 살짝 다가가서 거리를 존중해주라냥.), EmojiCardDto(emoji=🕰️, name=규칙적 놀이, description=매일 같은 시간에 짧게 놀아주면 신뢰가 쌓인다냥.), EmojiCardDto(emoji=🛌, name=안전한 휴식, description=양송이 쉼터는 편하고 안전하게 만들어주라냥.)], shareId=3e8d4ac2-73c3-45d3-94cd-e1a3b83e2926)
==================== END ======================
===============================================
Starting Application using Java 17 with PID 2572 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists pet_saju_characteristics 
       drop constraint if exists FK8fbmtsxa5up3h98qbeklf88mc

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists pet_saju_characteristics cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table pet_saju_characteristics (
        characteristic TEXT,
        share_id varchar(255) not null
    )

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists pet_saju_characteristics 
       add constraint FK8fbmtsxa5up3h98qbeklf88mc 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.626 seconds (process running for 5.224)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 197
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: id : null, endpoint : /pet-owner/compatibility, ipAddress : 0:0:0:0:0:0:0:1, deviceType : WEB, deviceId : UNKNOWN, requestParams : {}
Generating Saju for PetOwnerCompatibilityRequest(ownerName=홍길동, ownerBirthDate=1989-06-05, ownerGender=남, petName=양송이, petBirthDate=2022-02-10, petSpecies=고양이, petGender=여)
getAllStemBranch - birthDate: 1989-06-05
getAllStemBranch - birthDate: 2022-02-10
userPrompt : 주인: 홍길동, 1989-06-05, 음력, 기사, 기오, 임인, 남 
 반려동물: 양송이, 2022-02-10, 음력, 임인, 임묘, 경자, 여, 고양이 
LLM 호출 소요 시간: 14911ms (14.91초)
content : {
  "fortuneMessage": "양송이는 홍길동의 존재에서 느껴지는 따뜻한 물결에 호기심을 가득 품은 모습을 보인다냥.<br>부드러운 기운과 함께 어울려 지낼 때, 양송이의 감각이 점점 활짝 피어날 것이다냥.<br>두 존재는 서늘한 바람과 따뜻한 태양 같은 조화로운 기운으로 일상을 풍요롭게 만들 것이다냥.",
  "compatibility": {
    "tags": ["적당한거리", "쾌활한놀이", "조용한교감", "일상루틴", "친근감"],
    "description": "양송이는 홍길동의 안정적인 분위기에 자연스럽게 다가가 천천히 친숙해진다냥.<br>놀이할 때는 에너지가 적절히 발산돼 즐겁지만, 가끔은 조용히 곁을 지키며 교감을 나눈다냥.<br>하루 일과 속에서 일정한 루틴이 둘의 친근한 유대감을 키우는 데 중요한 역할을 한다냥."
  },
  "dailyLife": [
    {
      "emoji": "🐾",
      "name": "살금살금 탐색 타임",
      "description": "양송이가 주변을 살며시 어슬렁거리며 홍길동의 손길을 기다리는 모습이 사랑스러운 냥."
    },
    {
      "emoji": "🧶",
      "name": "숨바꼭질 놀이",
      "description": "홍길동이 실내 장난감을 살짝 숨기면 양송이가 냥냥 따라다니며 찾는 활력 넘치는 순간이다냥."
    },
    {
      "emoji": "🛋️",
      "name": "포근한 휴식 공간",
      "description": "하루 끝에 함께 소파 구석에서 몸을 눕히며 느긋하게 쉼을 즐기는 여유로운 시간이다냥."
    }
  ],
  "todayVibe": {
    "summary": "부드러운 다가감의 하루",
    "description": "양송이는 오늘 홍길동의 따뜻함에 아름답게 반응하여, 부드러운 접촉과 천천히 다가가는 놀이를 좋아할 것이다냥.<br>작은 손길이나 불빛 장난감으로 친근함을 표현하면 서로 신뢰가 깊어지는 하루가 될 냥.<br>잠시 조용히 함께 있는 시간을 통해 서로의 감각이 잘 맞는다는 것을 확인하길 바라냥."
  },
  "littleTips": [
    {
      "emoji": "🖐️",
      "name": "천천히 다가가기",
      "description": "갑작스러운 움직임보다 살짝 느리게 접근하면 양송이가 더 편안해한다냥."
    },
    {
      "emoji": "🎾",
      "name": "간단 놀이",
      "description": "작은 공이나 끈 장난감으로 양송이의 본능을 자극해주자냥."
    },
    {
      "emoji": "🔥",
      "name": "따뜻한 손길",
      "description": "손을 따뜻하게 해서 부드럽게 쓰다듬어주면 더 깊은 친밀감이 쌓인다냥."
    },
    {
      "emoji": "🛏️",
      "name": "안전한 휴식",
      "description": "양송이가 쉬기 좋은 조용하고 아늑한 공간을 마련해주면 좋다냥."
    }
  ]
}
PetOwnerCompatibilityResponse.toEntity() called : PetOwnerCompatibilityResponse(requestParameter=null, fortuneMessage=양송이는 홍길동의 존재에서 느껴지는 따뜻한 물결에 호기심을 가득 품은 모습을 보인다냥.<br>부드러운 기운과 함께 어울려 지낼 때, 양송이의 감각이 점점 활짝 피어날 것이다냥.<br>두 존재는 서늘한 바람과 따뜻한 태양 같은 조화로운 기운으로 일상을 풍요롭게 만들 것이다냥., compatibility=TagsDescriptionDto(tags=[적당한거리, 쾌활한놀이, 조용한교감, 일상루틴, 친근감], description=양송이는 홍길동의 안정적인 분위기에 자연스럽게 다가가 천천히 친숙해진다냥.<br>놀이할 때는 에너지가 적절히 발산돼 즐겁지만, 가끔은 조용히 곁을 지키며 교감을 나눈다냥.<br>하루 일과 속에서 일정한 루틴이 둘의 친근한 유대감을 키우는 데 중요한 역할을 한다냥.), dailyLife=[EmojiCardDto(emoji=🐾, name=살금살금 탐색 타임, description=양송이가 주변을 살며시 어슬렁거리며 홍길동의 손길을 기다리는 모습이 사랑스러운 냥.), EmojiCardDto(emoji=🧶, name=숨바꼭질 놀이, description=홍길동이 실내 장난감을 살짝 숨기면 양송이가 냥냥 따라다니며 찾는 활력 넘치는 순간이다냥.), EmojiCardDto(emoji=🛋️, name=포근한 휴식 공간, description=하루 끝에 함께 소파 구석에서 몸을 눕히며 느긋하게 쉼을 즐기는 여유로운 시간이다냥.)], todayVibe=SummaryDescriptionDto(summary=부드러운 다가감의 하루, description=양송이는 오늘 홍길동의 따뜻함에 아름답게 반응하여, 부드러운 접촉과 천천히 다가가는 놀이를 좋아할 것이다냥.<br>작은 손길이나 불빛 장난감으로 친근함을 표현하면 서로 신뢰가 깊어지는 하루가 될 냥.<br>잠시 조용히 함께 있는 시간을 통해 서로의 감각이 잘 맞는다는 것을 확인하길 바라냥.), littleTips=[EmojiCardDto(emoji=🖐️, name=천천히 다가가기, description=갑작스러운 움직임보다 살짝 느리게 접근하면 양송이가 더 편안해한다냥.), EmojiCardDto(emoji=🎾, name=간단 놀이, description=작은 공이나 끈 장난감으로 양송이의 본능을 자극해주자냥.), EmojiCardDto(emoji=🔥, name=따뜻한 손길, description=손을 따뜻하게 해서 부드럽게 쓰다듬어주면 더 깊은 친밀감이 쌓인다냥.), EmojiCardDto(emoji=🛏️, name=안전한 휴식, description=양송이가 쉬기 좋은 조용하고 아늑한 공간을 마련해주면 좋다냥.)], shareId=null)
requestLogSave : {"ownerName":"홍길동","ownerBirthDate":"1989-06-05","ownerGender":"남","petName":"양송이","petBirthDate":"2022-02-10","petSpecies":"고양이","petGender":"여"}

    insert 
    into
        tags_description_card
        (created_date, description, last_modified_date, id) 
    values
        (?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        request_log
        (created_date, device_id, device_type, endpoint, ip_address, last_modified_date, request_params, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        summary_description_card
        (created_date, description, last_modified_date, summary, id) 
    values
        (?, ?, ?, ?, ?)

    insert 
    into
        pet_owner_compatibility
        (compatibility_id, created_date, daily_life_id, fortune_message, last_modified_date, little_tips_id, owner_name, pet_name, request_id, today_vibe_id, share_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?
PetOwnerCompatibilityResponse(requestParameter=null, fortuneMessage=양송이는 홍길동의 존재에서 느껴지는 따뜻한 물결에 호기심을 가득 품은 모습을 보인다냥.<br>부드러운 기운과 함께 어울려 지낼 때, 양송이의 감각이 점점 활짝 피어날 것이다냥.<br>두 존재는 서늘한 바람과 따뜻한 태양 같은 조화로운 기운으로 일상을 풍요롭게 만들 것이다냥., compatibility=TagsDescriptionDto(tags=[적당한거리, 쾌활한놀이, 조용한교감, 일상루틴, 친근감], description=양송이는 홍길동의 안정적인 분위기에 자연스럽게 다가가 천천히 친숙해진다냥.<br>놀이할 때는 에너지가 적절히 발산돼 즐겁지만, 가끔은 조용히 곁을 지키며 교감을 나눈다냥.<br>하루 일과 속에서 일정한 루틴이 둘의 친근한 유대감을 키우는 데 중요한 역할을 한다냥.), dailyLife=[EmojiCardDto(emoji=🐾, name=살금살금 탐색 타임, description=양송이가 주변을 살며시 어슬렁거리며 홍길동의 손길을 기다리는 모습이 사랑스러운 냥.), EmojiCardDto(emoji=🧶, name=숨바꼭질 놀이, description=홍길동이 실내 장난감을 살짝 숨기면 양송이가 냥냥 따라다니며 찾는 활력 넘치는 순간이다냥.), EmojiCardDto(emoji=🛋️, name=포근한 휴식 공간, description=하루 끝에 함께 소파 구석에서 몸을 눕히며 느긋하게 쉼을 즐기는 여유로운 시간이다냥.)], todayVibe=SummaryDescriptionDto(summary=부드러운 다가감의 하루, description=양송이는 오늘 홍길동의 따뜻함에 아름답게 반응하여, 부드러운 접촉과 천천히 다가가는 놀이를 좋아할 것이다냥.<br>작은 손길이나 불빛 장난감으로 친근함을 표현하면 서로 신뢰가 깊어지는 하루가 될 냥.<br>잠시 조용히 함께 있는 시간을 통해 서로의 감각이 잘 맞는다는 것을 확인하길 바라냥.), littleTips=[EmojiCardDto(emoji=🖐️, name=천천히 다가가기, description=갑작스러운 움직임보다 살짝 느리게 접근하면 양송이가 더 편안해한다냥.), EmojiCardDto(emoji=🎾, name=간단 놀이, description=작은 공이나 끈 장난감으로 양송이의 본능을 자극해주자냥.), EmojiCardDto(emoji=🔥, name=따뜻한 손길, description=손을 따뜻하게 해서 부드럽게 쓰다듬어주면 더 깊은 친밀감이 쌓인다냥.), EmojiCardDto(emoji=🛏️, name=안전한 휴식, description=양송이가 쉬기 좋은 조용하고 아늑한 공간을 마련해주면 좋다냥.)], shareId=548ebeb8-adc4-421b-9e03-bc3b6192c13b)
==================== END ======================
===============================================
Starting Application using Java 17 with PID 77876 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists pet_saju_characteristics 
       drop constraint if exists FK8fbmtsxa5up3h98qbeklf88mc

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists pet_saju_characteristics cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table pet_saju_characteristics (
        characteristic TEXT,
        share_id varchar(255) not null
    )

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists pet_saju_characteristics 
       add constraint FK8fbmtsxa5up3h98qbeklf88mc 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.747 seconds (process running for 5.383)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 197
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(endpoint=/pet-owner/compatibility, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetOwnerCompatibilityRequest(ownerName=홍길동, ownerBirthDate=1989-06-05, ownerGender=남, petName=양송이, petBirthDate=2022-02-10, petSpecies=고양이, petGender=여)
getAllStemBranch - birthDate: 1989-06-05
getAllStemBranch - birthDate: 2022-02-10
userPrompt : 주인: 홍길동, 1989-06-05, 음력, 기사, 기오, 임인, 남 
 반려동물: 양송이, 2022-02-10, 음력, 임인, 임묘, 경자, 여, 고양이 
LLM 호출 소요 시간: 10769ms (10.77초)
content : {
  "fortuneMessage": "양송이는 홍길동의 기운에 부드러운 따뜻함을 느끼는 중이다냥.<br>서늘한 바람처럼 간간히 신선한 기운이 양송이의 감각을 자극한다냥.<br>이 둘은 조화로운 에너지를 주고받으며 서로를 자연스럽게 이해하는 사이이다냥.",
  "compatibility": {
    "tags": ["부드러움", "신선함", "감각적", "안정감", "교감"],
    "description": "양송이는 홍길동의 차분한 에너지에 편안함을 느끼며 적극적으로 다가온다냥.<br>함께하는 놀이 시간에는 적당한 거리에서 서로의 반응을 살피는 감각적인 교감이 돋보인다냥.<br>일상에서는 안정된 루틴 속에 부드러운 교류가 이어지며 서로의 마음을 채우는 관계이다냥."
  },
  "dailyLife": [
    {
      "emoji": "🧶",
      "name": "부드러운 손길 놀이",
      "description": "양송이는 부드러운 손길에 반응하며 가볍게 발톱을 세워 놀이 본능을 자극한다냥."
    },
    {
      "emoji": "🐾",
      "name": "신중한 탐색 달리기",
      "description": "둘이 함께 움직일 때 양송이는 주변을 탐색하며 조심스럽게 뛰어놀아 생생한 반응을 보여준다냥."
    },
    {
      "emoji": "🛋️",
      "name": "따뜻한 쉼터 찾기",
      "description": "양송이는 포근한 공간에서 몸을 말고 홍길동의 가까운 자리에서 안정을 찾는 습관이 있다냥."
    }
  ],
  "todayVibe": {
    "summary": "맑고 편안한 감각의 하루",
    "description": "오늘은 양송이가 홍길동의 부드러운 손길에 특히 예민하게 반응하는 날이다냥.<br>간단한 장난감이나 부드러운 털뭉치를 함께 흔들며 놀이하면 서로의 기분이 좋아지는 흐름이다냥.<br>소리 없는 애정 표현이나 살짝 기대는 행동에 교감의 깊이가 더해지는 감성 충만한 하루가 될 거다냥."
  },
  "littleTips": [
    {
      "emoji": "👐",
      "name": "부드럽게 다가가기",
      "description": "갑작스러운 터치는 피하고 부드러운 손길로 천천히 접근해야 한다냥."
    },
    {
      "emoji": "🎾",
      "name": "적당한 놀이 거리",
      "description": "양송이가 천천히 탐색하는 거리를 유지하며 놀아주면 좋아한다냥."
    },
    {
      "emoji": "🌿",
      "name": "자연 감각 살리기",
      "description": "창가나 식물 근처에서 쉬게 하면 마음이 차분해진다냥."
    },
    {
      "emoji": "🕰️",
      "name": "규칙적인 휴식",
      "description": "정해진 시간에 쉼을 주어 안정된 루틴을 지켜주는 게 중요하다냥."
    }
  ]
}
PetOwnerCompatibilityResponse.toEntity() called : PetOwnerCompatibilityResponse(requestLog=RequestLogDto(endpoint=/pet-owner/compatibility, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={"ownerName":"홍길동","ownerBirthDate":"1989-06-05","ownerGender":"남","petName":"양송이","petBirthDate":"2022-02-10","petSpecies":"고양이","petGender":"여"}), fortuneMessage=양송이는 홍길동의 기운에 부드러운 따뜻함을 느끼는 중이다냥.<br>서늘한 바람처럼 간간히 신선한 기운이 양송이의 감각을 자극한다냥.<br>이 둘은 조화로운 에너지를 주고받으며 서로를 자연스럽게 이해하는 사이이다냥., compatibility=TagsDescriptionDto(tags=[부드러움, 신선함, 감각적, 안정감, 교감], description=양송이는 홍길동의 차분한 에너지에 편안함을 느끼며 적극적으로 다가온다냥.<br>함께하는 놀이 시간에는 적당한 거리에서 서로의 반응을 살피는 감각적인 교감이 돋보인다냥.<br>일상에서는 안정된 루틴 속에 부드러운 교류가 이어지며 서로의 마음을 채우는 관계이다냥.), dailyLife=[EmojiCardDto(emoji=🧶, name=부드러운 손길 놀이, description=양송이는 부드러운 손길에 반응하며 가볍게 발톱을 세워 놀이 본능을 자극한다냥.), EmojiCardDto(emoji=🐾, name=신중한 탐색 달리기, description=둘이 함께 움직일 때 양송이는 주변을 탐색하며 조심스럽게 뛰어놀아 생생한 반응을 보여준다냥.), EmojiCardDto(emoji=🛋️, name=따뜻한 쉼터 찾기, description=양송이는 포근한 공간에서 몸을 말고 홍길동의 가까운 자리에서 안정을 찾는 습관이 있다냥.)], todayVibe=SummaryDescriptionDto(summary=맑고 편안한 감각의 하루, description=오늘은 양송이가 홍길동의 부드러운 손길에 특히 예민하게 반응하는 날이다냥.<br>간단한 장난감이나 부드러운 털뭉치를 함께 흔들며 놀이하면 서로의 기분이 좋아지는 흐름이다냥.<br>소리 없는 애정 표현이나 살짝 기대는 행동에 교감의 깊이가 더해지는 감성 충만한 하루가 될 거다냥.), littleTips=[EmojiCardDto(emoji=👐, name=부드럽게 다가가기, description=갑작스러운 터치는 피하고 부드러운 손길로 천천히 접근해야 한다냥.), EmojiCardDto(emoji=🎾, name=적당한 놀이 거리, description=양송이가 천천히 탐색하는 거리를 유지하며 놀아주면 좋아한다냥.), EmojiCardDto(emoji=🌿, name=자연 감각 살리기, description=창가나 식물 근처에서 쉬게 하면 마음이 차분해진다냥.), EmojiCardDto(emoji=🕰️, name=규칙적인 휴식, description=정해진 시간에 쉼을 주어 안정된 루틴을 지켜주는 게 중요하다냥.)], shareId=null)

    insert 
    into
        tags_description_card
        (created_date, description, last_modified_date, id) 
    values
        (?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        request_log
        (created_date, device_id, device_type, endpoint, ip_address, last_modified_date, request_params, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        summary_description_card
        (created_date, description, last_modified_date, summary, id) 
    values
        (?, ?, ?, ?, ?)

    insert 
    into
        pet_owner_compatibility
        (compatibility_id, created_date, daily_life_id, fortune_message, last_modified_date, little_tips_id, owner_name, pet_name, request_id, today_vibe_id, share_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?
PetOwnerCompatibilityResponse(requestLog=RequestLogDto(endpoint=/pet-owner/compatibility, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={"ownerName":"홍길동","ownerBirthDate":"1989-06-05","ownerGender":"남","petName":"양송이","petBirthDate":"2022-02-10","petSpecies":"고양이","petGender":"여"}), fortuneMessage=양송이는 홍길동의 기운에 부드러운 따뜻함을 느끼는 중이다냥.<br>서늘한 바람처럼 간간히 신선한 기운이 양송이의 감각을 자극한다냥.<br>이 둘은 조화로운 에너지를 주고받으며 서로를 자연스럽게 이해하는 사이이다냥., compatibility=TagsDescriptionDto(tags=[부드러움, 신선함, 감각적, 안정감, 교감], description=양송이는 홍길동의 차분한 에너지에 편안함을 느끼며 적극적으로 다가온다냥.<br>함께하는 놀이 시간에는 적당한 거리에서 서로의 반응을 살피는 감각적인 교감이 돋보인다냥.<br>일상에서는 안정된 루틴 속에 부드러운 교류가 이어지며 서로의 마음을 채우는 관계이다냥.), dailyLife=[EmojiCardDto(emoji=🧶, name=부드러운 손길 놀이, description=양송이는 부드러운 손길에 반응하며 가볍게 발톱을 세워 놀이 본능을 자극한다냥.), EmojiCardDto(emoji=🐾, name=신중한 탐색 달리기, description=둘이 함께 움직일 때 양송이는 주변을 탐색하며 조심스럽게 뛰어놀아 생생한 반응을 보여준다냥.), EmojiCardDto(emoji=🛋️, name=따뜻한 쉼터 찾기, description=양송이는 포근한 공간에서 몸을 말고 홍길동의 가까운 자리에서 안정을 찾는 습관이 있다냥.)], todayVibe=SummaryDescriptionDto(summary=맑고 편안한 감각의 하루, description=오늘은 양송이가 홍길동의 부드러운 손길에 특히 예민하게 반응하는 날이다냥.<br>간단한 장난감이나 부드러운 털뭉치를 함께 흔들며 놀이하면 서로의 기분이 좋아지는 흐름이다냥.<br>소리 없는 애정 표현이나 살짝 기대는 행동에 교감의 깊이가 더해지는 감성 충만한 하루가 될 거다냥.), littleTips=[EmojiCardDto(emoji=👐, name=부드럽게 다가가기, description=갑작스러운 터치는 피하고 부드러운 손길로 천천히 접근해야 한다냥.), EmojiCardDto(emoji=🎾, name=적당한 놀이 거리, description=양송이가 천천히 탐색하는 거리를 유지하며 놀아주면 좋아한다냥.), EmojiCardDto(emoji=🌿, name=자연 감각 살리기, description=창가나 식물 근처에서 쉬게 하면 마음이 차분해진다냥.), EmojiCardDto(emoji=🕰️, name=규칙적인 휴식, description=정해진 시간에 쉼을 주어 안정된 루틴을 지켜주는 게 중요하다냥.)], shareId=6e66077b-8828-43a9-be08-63b99970bf24)
==================== END ======================
===============================================
Starting Application using Java 17 with PID 63776 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists pet_saju_characteristics 
       drop constraint if exists FK8fbmtsxa5up3h98qbeklf88mc

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK474uhpeam7tije8l83brqv32c

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists pet_saju_characteristics cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table pet_saju_characteristics (
        characteristic TEXT,
        share_id varchar(255) not null
    )

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists pet_saju_characteristics 
       add constraint FK8fbmtsxa5up3h98qbeklf88mc 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK474uhpeam7tije8l83brqv32c 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.811 seconds (process running for 5.455)
Starting Application using Java 17 with PID 72412 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists pet_saju_characteristics 
       drop constraint if exists FK8fbmtsxa5up3h98qbeklf88mc

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK474uhpeam7tije8l83brqv32c

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists pet_saju_characteristics cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table pet_saju_characteristics (
        characteristic TEXT,
        share_id varchar(255) not null
    )

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists pet_saju_characteristics 
       add constraint FK8fbmtsxa5up3h98qbeklf88mc 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK474uhpeam7tije8l83brqv32c 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.581 seconds (process running for 5.12)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 197
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(endpoint=/pet-owner/compatibility, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetOwnerCompatibilityRequest(ownerName=홍길동, ownerBirthDate=1989-06-05, ownerGender=남, petName=양송이, petBirthDate=2022-02-10, petSpecies=고양이, petGender=여)
getAllStemBranch - birthDate: 1989-06-05
getAllStemBranch - birthDate: 2022-02-10
userPrompt : 주인: 홍길동, 1989-06-05, 음력, 기사, 기오, 임인, 남 
 반려동물: 양송이, 2022-02-10, 음력, 임인, 임묘, 경자, 여, 고양이 
LLM 호출 소요 시간: 12554ms (12.55초)
content : {
  "fortuneMessage": "양송이의 감각이 홍길동의 기운과 살짝 다른 파장을 만들어내는구나냥.<br>따뜻한 물결과 살랑이는 산들바람이 만나듯 서늘한 바람과 온기가 함께 춤춘다냥.<br>그래서 서로에게 새로움과 안정감을 번갈아 선사하는 아주 특별한 냥조합이다냥.",
  "compatibility": {
    "tags": ["서로존중", "개별시간", "놀이애호", "감정교류", "공간느낌"],
    "description": "양송이는 홍길동의 기운에 민감하게 반응하며, 놀이할 때는 빠른 움직임과 집중력을 보인다냥.<br>서로의 개별 시간을 존중하면서도 감정 교류를 위한 눈빛 맞춤이 자연스럽다냥.<br>공간 사용에서도 각자의 편안한 자리 확보가 잘 이루어져 일상에 안정된 균형을 만든다냥."
  },
  "dailyLife": [
    {
      "emoji": "🐾",
      "name": "깜짝 점프 타임",
      "description": "양송이가 갑자기 집사 주변을 빙글빙글 돌며 짧고 재빠른 점프로 놀잇감을 사냥하는 본능을 보여준다냥."
    },
    {
      "emoji": "🧶",
      "name": "실타래 신속격파",
      "description": "장난감 실타래를 양손으로 붙잡고 집중해서 빠르게 흔드는 모습이 장난꾸러기 고양이 본능을 그대로 드러낸다냥."
    },
    {
      "emoji": "🛋️",
      "name": "햇살 이불 쉼터",
      "description": "햇볕 드는 자리에서 눕거나 옆구리를 기대며 몸을 느긋하게 눕히는 휴식 시간이 아주 중요한 루틴이다냥."
    }
  ],
  "todayVibe": {
    "summary": "활발함과 포근함이 전하는 달콤한 하루",
    "description": "오늘 양송이는 장난감에 대한 관심이 무척 높다냥. 투명한 구슬이나 움직이는 깃털을 흔들어주면 신경이 예민한 본능이 빛난다냥.<br>놀다가 잠시 집사 곁에서 머리를 비비며 안정감을 찾는 순간이 소중하니, 그때 부드러운 목 쓰다듬으로 교감을 맞출 것이다냥.<br>스트레스는 숨겨진 에너지로 바꾸는 게 관건이니 다양한 놀이 도구로 자극과 휴식을 균형 있게 준비해주는 게 좋은 하루이다냥."
  },
  "littleTips": [
    {
      "emoji": "🕊️",
      "name": "편안한쉼터",
      "description": "자연광이 좋은 조용한 구석에 쉼터를 만들어 주면 냥이 마음이 편안해진다냥."
    },
    {
      "emoji": "🎯",
      "name": "뚝딱 목표놀이",
      "description": "짧고 강렬한 놀이 세션을 자주 해주는 게 집중력과 스트레스 해결에 최고이다냥."
    },
    {
      "emoji": "💧",
      "name": "수분채우기",
      "description": "신선한 물은 자주 교체해주고 물그릇 위치도 깔끔한 곳으로 해주자냥."
    },
    {
      "emoji": "🌿",
      "name": "자연촉감",
      "description": "고양이 풀 같은 자연 촉감 장난감으로 본능 자극하기 좋아한다냥."
    }
  ]
}
PetOwnerCompatibilityResponse.toEntity() called : PetOwnerCompatibilityResponse(requestLog=RequestLogDto(endpoint=/pet-owner/compatibility, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={"ownerName":"홍길동","ownerBirthDate":"1989-06-05","ownerGender":"남","petName":"양송이","petBirthDate":"2022-02-10","petSpecies":"고양이","petGender":"여"}), fortuneMessage=양송이의 감각이 홍길동의 기운과 살짝 다른 파장을 만들어내는구나냥.<br>따뜻한 물결과 살랑이는 산들바람이 만나듯 서늘한 바람과 온기가 함께 춤춘다냥.<br>그래서 서로에게 새로움과 안정감을 번갈아 선사하는 아주 특별한 냥조합이다냥., compatibility=TagsDescriptionDto(tags=[서로존중, 개별시간, 놀이애호, 감정교류, 공간느낌], description=양송이는 홍길동의 기운에 민감하게 반응하며, 놀이할 때는 빠른 움직임과 집중력을 보인다냥.<br>서로의 개별 시간을 존중하면서도 감정 교류를 위한 눈빛 맞춤이 자연스럽다냥.<br>공간 사용에서도 각자의 편안한 자리 확보가 잘 이루어져 일상에 안정된 균형을 만든다냥.), dailyLife=[EmojiCardDto(emoji=🐾, name=깜짝 점프 타임, description=양송이가 갑자기 집사 주변을 빙글빙글 돌며 짧고 재빠른 점프로 놀잇감을 사냥하는 본능을 보여준다냥.), EmojiCardDto(emoji=🧶, name=실타래 신속격파, description=장난감 실타래를 양손으로 붙잡고 집중해서 빠르게 흔드는 모습이 장난꾸러기 고양이 본능을 그대로 드러낸다냥.), EmojiCardDto(emoji=🛋️, name=햇살 이불 쉼터, description=햇볕 드는 자리에서 눕거나 옆구리를 기대며 몸을 느긋하게 눕히는 휴식 시간이 아주 중요한 루틴이다냥.)], todayVibe=SummaryDescriptionDto(summary=활발함과 포근함이 전하는 달콤한 하루, description=오늘 양송이는 장난감에 대한 관심이 무척 높다냥. 투명한 구슬이나 움직이는 깃털을 흔들어주면 신경이 예민한 본능이 빛난다냥.<br>놀다가 잠시 집사 곁에서 머리를 비비며 안정감을 찾는 순간이 소중하니, 그때 부드러운 목 쓰다듬으로 교감을 맞출 것이다냥.<br>스트레스는 숨겨진 에너지로 바꾸는 게 관건이니 다양한 놀이 도구로 자극과 휴식을 균형 있게 준비해주는 게 좋은 하루이다냥.), littleTips=[EmojiCardDto(emoji=🕊️, name=편안한쉼터, description=자연광이 좋은 조용한 구석에 쉼터를 만들어 주면 냥이 마음이 편안해진다냥.), EmojiCardDto(emoji=🎯, name=뚝딱 목표놀이, description=짧고 강렬한 놀이 세션을 자주 해주는 게 집중력과 스트레스 해결에 최고이다냥.), EmojiCardDto(emoji=💧, name=수분채우기, description=신선한 물은 자주 교체해주고 물그릇 위치도 깔끔한 곳으로 해주자냥.), EmojiCardDto(emoji=🌿, name=자연촉감, description=고양이 풀 같은 자연 촉감 장난감으로 본능 자극하기 좋아한다냥.)], shareId=null)

    insert 
    into
        tags_description_card
        (created_date, description, last_modified_date, id) 
    values
        (?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        request_log
        (created_date, device_id, device_type, endpoint, ip_address, last_modified_date, request_params, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        summary_description_card
        (created_date, description, last_modified_date, summary, id) 
    values
        (?, ?, ?, ?, ?)

    insert 
    into
        pet_owner_compatibility
        (compatibility_id, created_date, daily_life_id, fortune_message, last_modified_date, little_tips_id, owner_name, pet_name, request_id, today_vibe_id, share_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?
PetOwnerCompatibilityResponse(requestLog=RequestLogDto(endpoint=/pet-owner/compatibility, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={"ownerName":"홍길동","ownerBirthDate":"1989-06-05","ownerGender":"남","petName":"양송이","petBirthDate":"2022-02-10","petSpecies":"고양이","petGender":"여"}), fortuneMessage=양송이의 감각이 홍길동의 기운과 살짝 다른 파장을 만들어내는구나냥.<br>따뜻한 물결과 살랑이는 산들바람이 만나듯 서늘한 바람과 온기가 함께 춤춘다냥.<br>그래서 서로에게 새로움과 안정감을 번갈아 선사하는 아주 특별한 냥조합이다냥., compatibility=TagsDescriptionDto(tags=[서로존중, 개별시간, 놀이애호, 감정교류, 공간느낌], description=양송이는 홍길동의 기운에 민감하게 반응하며, 놀이할 때는 빠른 움직임과 집중력을 보인다냥.<br>서로의 개별 시간을 존중하면서도 감정 교류를 위한 눈빛 맞춤이 자연스럽다냥.<br>공간 사용에서도 각자의 편안한 자리 확보가 잘 이루어져 일상에 안정된 균형을 만든다냥.), dailyLife=[EmojiCardDto(emoji=🐾, name=깜짝 점프 타임, description=양송이가 갑자기 집사 주변을 빙글빙글 돌며 짧고 재빠른 점프로 놀잇감을 사냥하는 본능을 보여준다냥.), EmojiCardDto(emoji=🧶, name=실타래 신속격파, description=장난감 실타래를 양손으로 붙잡고 집중해서 빠르게 흔드는 모습이 장난꾸러기 고양이 본능을 그대로 드러낸다냥.), EmojiCardDto(emoji=🛋️, name=햇살 이불 쉼터, description=햇볕 드는 자리에서 눕거나 옆구리를 기대며 몸을 느긋하게 눕히는 휴식 시간이 아주 중요한 루틴이다냥.)], todayVibe=SummaryDescriptionDto(summary=활발함과 포근함이 전하는 달콤한 하루, description=오늘 양송이는 장난감에 대한 관심이 무척 높다냥. 투명한 구슬이나 움직이는 깃털을 흔들어주면 신경이 예민한 본능이 빛난다냥.<br>놀다가 잠시 집사 곁에서 머리를 비비며 안정감을 찾는 순간이 소중하니, 그때 부드러운 목 쓰다듬으로 교감을 맞출 것이다냥.<br>스트레스는 숨겨진 에너지로 바꾸는 게 관건이니 다양한 놀이 도구로 자극과 휴식을 균형 있게 준비해주는 게 좋은 하루이다냥.), littleTips=[EmojiCardDto(emoji=🕊️, name=편안한쉼터, description=자연광이 좋은 조용한 구석에 쉼터를 만들어 주면 냥이 마음이 편안해진다냥.), EmojiCardDto(emoji=🎯, name=뚝딱 목표놀이, description=짧고 강렬한 놀이 세션을 자주 해주는 게 집중력과 스트레스 해결에 최고이다냥.), EmojiCardDto(emoji=💧, name=수분채우기, description=신선한 물은 자주 교체해주고 물그릇 위치도 깔끔한 곳으로 해주자냥.), EmojiCardDto(emoji=🌿, name=자연촉감, description=고양이 풀 같은 자연 촉감 장난감으로 본능 자극하기 좋아한다냥.)], shareId=6feac878-f50b-4ae3-93a3-1b118729abef)
==================== END ======================
===============================================
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : sec-ch-ua-mobile ===> value : ?0
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(endpoint=/pet-owner/compatibility/6feac878-f50b-4ae3-93a3-1b118729abef, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})

    select
        poc1_0.share_id,
        poc1_0.compatibility_id,
        poc1_0.created_date,
        poc1_0.daily_life_id,
        poc1_0.fortune_message,
        poc1_0.last_modified_date,
        poc1_0.little_tips_id,
        poc1_0.owner_name,
        poc1_0.pet_name,
        poc1_0.request_id,
        poc1_0.today_vibe_id 
    from
        pet_owner_compatibility poc1_0 
    where
        poc1_0.share_id=?

    select
        tdc1_0.id,
        tdc1_0.created_date,
        tdc1_0.description,
        tdc1_0.last_modified_date 
    from
        tags_description_card tdc1_0 
    where
        tdc1_0.id=?

    select
        ecr1_0.id,
        ecr1_0.created_date,
        ecr1_0.last_modified_date 
    from
        emoji_card_relation ecr1_0 
    where
        ecr1_0.id = any (?)

    select
        rl1_0.id,
        rl1_0.created_date,
        rl1_0.device_id,
        rl1_0.device_type,
        rl1_0.endpoint,
        rl1_0.ip_address,
        rl1_0.last_modified_date,
        rl1_0.request_params 
    from
        request_log rl1_0 
    where
        rl1_0.id=?

    select
        sdc1_0.id,
        sdc1_0.created_date,
        sdc1_0.description,
        sdc1_0.last_modified_date,
        sdc1_0.summary 
    from
        summary_description_card sdc1_0 
    where
        sdc1_0.id=?

    select
        t1_0.id,
        t1_0.tag 
    from
        tags t1_0 
    where
        t1_0.id=?

    select
        c1_0.relation_id,
        c1_0.id,
        c1_0.created_date,
        c1_0.description,
        c1_0.emoji,
        c1_0.last_modified_date,
        c1_0.name 
    from
        emoji_card c1_0 
    where
        c1_0.relation_id = any (?)
PetOwnerCompatibility(shareId=6feac878-f50b-4ae3-93a3-1b118729abef, requestLog=id : 40197a48-9557-4214-9878-2fb0220b9d78, endpoint : /pet-owner/compatibility, ipAddress : 0:0:0:0:0:0:0:1, deviceType : WEB, deviceId : UNKNOWN, requestParams : {"petName":"양송이","ownerName":"홍길동","petGender":"여","petSpecies":"고양이","ownerGender":"남","petBirthDate":"2022-02-10","ownerBirthDate":"1989-06-05"}, fortuneMessage=양송이의 감각이 홍길동의 기운과 살짝 다른 파장을 만들어내는구나냥.<br>따뜻한 물결과 살랑이는 산들바람이 만나듯 서늘한 바람과 온기가 함께 춤춘다냥.<br>그래서 서로에게 새로움과 안정감을 번갈아 선사하는 아주 특별한 냥조합이다냥., ownerName=null, petName=null, compatibility=id : d8824007-e2aa-4cec-871d-5a30d024001f, tags : [서로존중, 개별시간, 놀이애호, 감정교류, 공간느낌], description : 양송이는 홍길동의 기운에 민감하게 반응하며, 놀이할 때는 빠른 움직임과 집중력을 보인다냥.<br>서로의 개별 시간을 존중하면서도 감정 교류를 위한 눈빛 맞춤이 자연스럽다냥.<br>공간 사용에서도 각자의 편안한 자리 확보가 잘 이루어져 일상에 안정된 균형을 만든다냥., dailyLifeRelation=EmojiCardRelation(id=7ea12086-73f3-413e-988c-b5a808ce9a19, childs=[id : 3e1b40e0-dbac-42c6-b55b-965c40b404ea, emoji : 🐾, name : 깜짝 점프 타임, reason : 양송이가 갑자기 집사 주변을 빙글빙글 돌며 짧고 재빠른 점프로 놀잇감을 사냥하는 본능을 보여준다냥., id : 57c657f3-cdb7-4e42-adb4-51e638948917, emoji : 🧶, name : 실타래 신속격파, reason : 장난감 실타래를 양손으로 붙잡고 집중해서 빠르게 흔드는 모습이 장난꾸러기 고양이 본능을 그대로 드러낸다냥., id : 980a8f04-a937-42c3-9740-eb23b99b1dce, emoji : 🛋️, name : 햇살 이불 쉼터, reason : 햇볕 드는 자리에서 눕거나 옆구리를 기대며 몸을 느긋하게 눕히는 휴식 시간이 아주 중요한 루틴이다냥.]), todayVibe=id : 6ab13a88-6e57-4ef8-9e4f-075d703f9588, summary : 활발함과 포근함이 전하는 달콤한 하루, description : 오늘 양송이는 장난감에 대한 관심이 무척 높다냥. 투명한 구슬이나 움직이는 깃털을 흔들어주면 신경이 예민한 본능이 빛난다냥.<br>놀다가 잠시 집사 곁에서 머리를 비비며 안정감을 찾는 순간이 소중하니, 그때 부드러운 목 쓰다듬으로 교감을 맞출 것이다냥.<br>스트레스는 숨겨진 에너지로 바꾸는 게 관건이니 다양한 놀이 도구로 자극과 휴식을 균형 있게 준비해주는 게 좋은 하루이다냥., littleTipsRelation=EmojiCardRelation(id=d0bd1176-51e6-4ff3-8e6f-f55978b64423, childs=[id : 5115be3e-d09d-4123-8b6f-08ee2815ea01, emoji : 🕊️, name : 편안한쉼터, reason : 자연광이 좋은 조용한 구석에 쉼터를 만들어 주면 냥이 마음이 편안해진다냥., id : e9d8876f-a71c-48ac-9d0d-d7285956f429, emoji : 🎯, name : 뚝딱 목표놀이, reason : 짧고 강렬한 놀이 세션을 자주 해주는 게 집중력과 스트레스 해결에 최고이다냥., id : d284121f-fc95-44f6-aca5-868d867966b5, emoji : 💧, name : 수분채우기, reason : 신선한 물은 자주 교체해주고 물그릇 위치도 깔끔한 곳으로 해주자냥., id : 17eb5296-1b2e-4fed-9ef7-3ac95f7ca14e, emoji : 🌿, name : 자연촉감, reason : 고양이 풀 같은 자연 촉감 장난감으로 본능 자극하기 좋아한다냥.]))
==================== END ======================
===============================================
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 102
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetSajuRequest(petName=양송이, birthDate=2022-02-10, species=고양이, gender=여)
getAllStemBranch - birthDate: 2022-02-10
LLM 호출 소요 시간: 12439ms (12.44초)
handleRuntimeException
java.lang.NullPointerException: Cannot invoke "com.codism.domain.saju.model.dto.response.pet.RequestLogDto.toEntity()" because "this.requestLog" is null
	at com.codism.domain.saju.model.dto.response.pet.PetSajuResponse.toEntity(PetSajuResponse.java:35)
	at com.codism.service.pet.PetSajuService.saveSaju(PetSajuService.java:72)
	at com.codism.service.pet.PetSajuService.generateSaju(PetSajuService.java:64)
	at com.codism.controller.pet.PetSajuController.generateSaju(PetSajuController.java:30)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.codism.config.ContentCachingFilter.doFilterInternal(ContentCachingFilter.java:27)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
Starting Application using Java 17 with PID 3860 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists pet_saju_characteristics 
       drop constraint if exists FK8fbmtsxa5up3h98qbeklf88mc

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK474uhpeam7tije8l83brqv32c

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists pet_saju_characteristics cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table pet_saju_characteristics (
        characteristic TEXT,
        share_id varchar(255) not null
    )

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists pet_saju_characteristics 
       add constraint FK8fbmtsxa5up3h98qbeklf88mc 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK474uhpeam7tije8l83brqv32c 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.61 seconds (process running for 5.27)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 102
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetSajuRequest(petName=양송이, birthDate=2022-02-10, species=고양이, gender=여)
getAllStemBranch - birthDate: 2022-02-10
LLM 호출 소요 시간: 10320ms (10.32초)

    insert 
    into
        request_log
        (created_date, device_id, device_type, endpoint, ip_address, last_modified_date, request_params, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        pet_saju
        (birth_date, created_date, daily_habit, favorite_place, fortune_message, ideal_owner, is_active, last_modified_date, love_signal, pet_emoji, pet_message, pet_name, request_id, species, toy_recommendations_id, view_count, share_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)
PetSajuResponse(requestLog=RequestLogDto(endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={"petName":"양송이","birthDate":"2022-02-10","species":"고양이","gender":"여"}), fortuneMessage=양송이는 부드러운 겨울 바람과 따뜻한 봄 햇살이 조화된 기운이다냥<br>차분하지만 활달한 감성이 어우러져 주변에 평화를 전하는 존재이다냥<br>깊은 관찰력과 호기심이 균형 있게 발현하는 특별한 아이라냥, petEmoji=🐱, petName=양송이, birthDate=2022년 02월 10일, idealOwner=나랑 같이 천천히 놀아주고 조용한 시간 보내주는 사람이 좋아요 내가 가끔 조용해도 이해해줘요, favoritePlace=높은 선반이나 창문틀 위에 올라가는 게 좋아요 햇빛 닿는 따끈한 곳 최고에요, dailyHabit=손길이 갑자기 멀어져도 몰래 숨었다가 나타나는 게 습관이에요 쪼르르 달려 다니기도 해요, characteristics=[부드러운 봄바람 같은 기운이다냥, 차분함과 호기심이 조화된 감성이다냥, 깊고 예민한 관찰력이 발달한 상태이다냥, 내면의 활발함이 조심스러운 외향성으로 나타나는 구석이다냥, 포용력과 독립심이 균형 잡힌 기운이다냥], personalityTraits=[숨바꼭질을 좋아하는 타입이다냥, 가끔 갑자기 빛 속으로 뛰쳐나가는 모습이 귀엽다냥, 자기만의 공간에서 여유롭게 낮잠을 즐기는 습관이다냥, 새로운 소리에 민감하게 반응하지만 곧 호기심으로 바뀐다냥, 주인 곁에 살짝 다가가 조용히 애정을 표현하는 유형이다냥], petMessage=나는 높은 곳 올라가 있는 거 좋아해요 햇살 따뜻하니까 기분 좋아요, loveSignal=다른 냥이보다 조심스럽지만 그만큼 깊은 애정을 드러낸다냥<br>손길에 갑자기 다가와 부드럽게 꼬리를 비비는 모습이 특징이다냥<br>편안한 공간에서 몸을 둥글게 말고 쉽게 기대는 행동이 사랑 신호이다냥, toyRecommendations=[EmojiCardDto(emoji=🧶, name=솜사탕 실뭉치, description=부드러운 촉감과 은은한 색감이 양송이의 감성에 딱 맞는 장난감이다냥), EmojiCardDto(emoji=🐭, name=털뭉치 쥐돌이, description=예민한 관찰력을 자극하며 놀이 본능을 자연스럽게 끌어내는 아이템이다냥), EmojiCardDto(emoji=🌿, name=캣닢 잎사귀, description=내면의 호기심과 포용력을 동시에 일깨우는 자연의 선물이다냥)], shareId=e70bd67b-f0c3-486b-99a6-55299d7d5f69)
==================== END ======================
===============================================
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : sec-ch-ua-mobile ===> value : ?0
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(endpoint=/pet/saju/e70bd67b-f0c3-486b-99a6-55299d7d5f69, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})

    select
        ps1_0.share_id,
        ps1_0.birth_date,
        ps1_0.created_date,
        ps1_0.daily_habit,
        ps1_0.favorite_place,
        ps1_0.fortune_message,
        ps1_0.ideal_owner,
        ps1_0.is_active,
        ps1_0.last_modified_date,
        ps1_0.love_signal,
        ps1_0.pet_emoji,
        ps1_0.pet_message,
        ps1_0.pet_name,
        ps1_0.request_id,
        ps1_0.species,
        ps1_0.toy_recommendations_id,
        ps1_0.view_count 
    from
        pet_saju ps1_0 
    where
        ps1_0.share_id=?

    select
        rl1_0.id,
        rl1_0.created_date,
        rl1_0.device_id,
        rl1_0.device_type,
        rl1_0.endpoint,
        rl1_0.ip_address,
        rl1_0.last_modified_date,
        rl1_0.request_params 
    from
        request_log rl1_0 
    where
        rl1_0.id=?

    select
        ecr1_0.id,
        ecr1_0.created_date,
        ecr1_0.last_modified_date 
    from
        emoji_card_relation ecr1_0 
    where
        ecr1_0.id=?

    select
        c1_0.share_id,
        c1_0.characteristic 
    from
        pet_saju_characteristics c1_0 
    where
        c1_0.share_id=?

    select
        pt1_0.share_id,
        pt1_0.trait 
    from
        pet_saju_personality_traits pt1_0 
    where
        pt1_0.share_id=?

    select
        c1_0.relation_id,
        c1_0.id,
        c1_0.created_date,
        c1_0.description,
        c1_0.emoji,
        c1_0.last_modified_date,
        c1_0.name 
    from
        emoji_card c1_0 
    where
        c1_0.relation_id=?
PetSaju(shareId=e70bd67b-f0c3-486b-99a6-55299d7d5f69, requestLog=id : c7fc66ca-26e7-42bc-bfb4-0a28ceb11364, endpoint : /pet/saju, ipAddress : 0:0:0:0:0:0:0:1, deviceType : WEB, deviceId : UNKNOWN, requestParams : {"gender":"여","petName":"양송이","species":"고양이","birthDate":"2022-02-10"}, fortuneMessage=양송이는 부드러운 겨울 바람과 따뜻한 봄 햇살이 조화된 기운이다냥<br>차분하지만 활달한 감성이 어우러져 주변에 평화를 전하는 존재이다냥<br>깊은 관찰력과 호기심이 균형 있게 발현하는 특별한 아이라냥, petEmoji=🐱, petName=양송이, birthDate=2022년 02월 10일, idealOwner=나랑 같이 천천히 놀아주고 조용한 시간 보내주는 사람이 좋아요 내가 가끔 조용해도 이해해줘요, favoritePlace=높은 선반이나 창문틀 위에 올라가는 게 좋아요 햇빛 닿는 따끈한 곳 최고에요, dailyHabit=손길이 갑자기 멀어져도 몰래 숨었다가 나타나는 게 습관이에요 쪼르르 달려 다니기도 해요, characteristics=[부드러운 봄바람 같은 기운이다냥, 차분함과 호기심이 조화된 감성이다냥, 깊고 예민한 관찰력이 발달한 상태이다냥, 내면의 활발함이 조심스러운 외향성으로 나타나는 구석이다냥, 포용력과 독립심이 균형 잡힌 기운이다냥], personalityTraits=[숨바꼭질을 좋아하는 타입이다냥, 가끔 갑자기 빛 속으로 뛰쳐나가는 모습이 귀엽다냥, 자기만의 공간에서 여유롭게 낮잠을 즐기는 습관이다냥, 새로운 소리에 민감하게 반응하지만 곧 호기심으로 바뀐다냥, 주인 곁에 살짝 다가가 조용히 애정을 표현하는 유형이다냥], toyRecommendationsRelation=EmojiCardRelation(id=51895992-289c-4ffd-ab4b-bf732c3812f7, childs=[id : de9d2315-efa4-4d31-92b3-1b5af65e8c56, emoji : 🧶, name : 솜사탕 실뭉치, reason : 부드러운 촉감과 은은한 색감이 양송이의 감성에 딱 맞는 장난감이다냥, id : 9ca60ff3-9388-4bb4-a046-a6f93eb7b3bd, emoji : 🐭, name : 털뭉치 쥐돌이, reason : 예민한 관찰력을 자극하며 놀이 본능을 자연스럽게 끌어내는 아이템이다냥, id : 053dc9dd-6008-48b7-b782-ec8628cef7e9, emoji : 🌿, name : 캣닢 잎사귀, reason : 내면의 호기심과 포용력을 동시에 일깨우는 자연의 선물이다냥]), petMessage=나는 높은 곳 올라가 있는 거 좋아해요 햇살 따뜻하니까 기분 좋아요, loveSignal=다른 냥이보다 조심스럽지만 그만큼 깊은 애정을 드러낸다냥<br>손길에 갑자기 다가와 부드럽게 꼬리를 비비는 모습이 특징이다냥<br>편안한 공간에서 몸을 둥글게 말고 쉽게 기대는 행동이 사랑 신호이다냥, species=null, viewCount=null, isActive=null)
==================== END ======================
===============================================
Starting Application using Java 17 with PID 81724 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists pet_saju_characteristics 
       drop constraint if exists FK8fbmtsxa5up3h98qbeklf88mc

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK474uhpeam7tije8l83brqv32c

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists pet_saju_characteristics cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table pet_saju_characteristics (
        characteristic TEXT,
        share_id varchar(255) not null
    )

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists pet_saju_characteristics 
       add constraint FK8fbmtsxa5up3h98qbeklf88mc 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK474uhpeam7tije8l83brqv32c 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.959 seconds (process running for 5.682)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 102
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetSajuRequest(petName=양송이, birthDate=2022-02-10, species=고양이, gender=여)
getAllStemBranch - birthDate: 2022-02-10
LLM 호출 소요 시간: 12165ms (12.17초)

    insert 
    into
        request_log
        (created_date, device_id, device_type, endpoint, ip_address, last_modified_date, request_params, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        pet_saju
        (birth_date, created_date, daily_habit, favorite_place, fortune_message, ideal_owner, is_active, last_modified_date, love_signal, pet_emoji, pet_message, pet_name, request_id, species, toy_recommendations_id, view_count, share_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)
PetSajuResponse(requestLog=RequestLogDto(endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={"petName":"양송이","birthDate":"2022-02-10","species":"고양이","gender":"여"}), fortuneMessage=양송이는 신선한 숲속의 봄바람과 차가운 맑은 시냇물이 만나온 기운이다냥<br>순수한 탐색심과 깊은 관찰력이 조화를 이루어 다채로운 매력을 풍긴다냥<br>따뜻함과 차가움이 공존하는 복합적인 기질이다냥, petEmoji=🐱, petName=양송이, birthDate=2022년 02월 10일, idealOwner=나랑 같이 조용히 놀아주고 부드럽게 쓰다듬어주는 사람이 좋아요. 너무 시끄럽지 않고 가끔 나랑 눈 맞춰 주면 기분 좋아요., favoritePlace=높은 선반이나 창문틀 위에 올라가서 바깥을 보는 게 제일 좋아요. 포근한 담요 위도 좋아요., dailyHabit=낮잠 자다가 갑자기 활발해지는 편이에요. 또 가끔 장난감 들고 혼자 숨바꼭질해요., characteristics=[생기 넘치는 봄바람과 부드러운 나무 기운이 조화를 이룬다냥, 맑은 물결 같은 감성으로 주변을 섬세하게 살피는 기운이다냥, 차분하면서도 때로는 호기심 가득한 탐구 본능이 드러난다냥, 깊은 관찰력과 동시에 활발한 움직임이 공존하는 성향이다냥, 따뜻한 포용력과 날카로운 판단력이 균형을 이루는 기운이다냥], personalityTraits=[낮잠 자다 깨어나 갑자기 뛰어다니는 타입이다냥, 낯선 환경에 서서히 적응하며 호기심을 보이는 성향이다냥, 자주 주변을 살피면서 조용히 혼자 노는 걸 즐긴다냥, 자신만의 작은 장난감을 구석에 숨기는 습관이다냥, 가끔은 부드러운 손길에 몸을 기대는 다정함도 있다냥], petMessage=이따가 놀아줘요, 같이 뛰어놀면 너무 재밌어요!, loveSignal=눈을 느리게 감았다 뜨면 사랑의 표시이다냥<br>옆에 바짝 다가와 코를 대면 친밀감이 깊은 증거이다냥<br>부드러운 꼬리 흔들림은 애정의 비밀 신호이다냥, toyRecommendations=[EmojiCardDto(emoji=🌿, name=부드러운 털실 공, description=봄바람 같은 생기와 탐색 본능에 잘 맞는 장난감이다냥), EmojiCardDto(emoji=💧, name=물방울 소리 나는 장난감, description=맑고 차분한 감성에 즐거움을 더해주는 놀잇감이다냥), EmojiCardDto(emoji=🪵, name=작은 나무 스틱, description=자연의 따뜻함을 닮은 재질로 안정감을 주는 장난감이다냥)], shareId=b04e0147-a408-48be-8e64-9fbe3687767f)
==================== END ======================
===============================================
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : sec-ch-ua-mobile ===> value : ?0
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(endpoint=/pet/saju/b04e0147-a408-48be-8e64-9fbe3687767f, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})

    select
        ps1_0.share_id,
        ps1_0.birth_date,
        ps1_0.created_date,
        ps1_0.daily_habit,
        ps1_0.favorite_place,
        ps1_0.fortune_message,
        ps1_0.ideal_owner,
        ps1_0.is_active,
        ps1_0.last_modified_date,
        ps1_0.love_signal,
        ps1_0.pet_emoji,
        ps1_0.pet_message,
        ps1_0.pet_name,
        ps1_0.request_id,
        ps1_0.species,
        ps1_0.toy_recommendations_id,
        ps1_0.view_count 
    from
        pet_saju ps1_0 
    where
        ps1_0.share_id=?

    select
        rl1_0.id,
        rl1_0.created_date,
        rl1_0.device_id,
        rl1_0.device_type,
        rl1_0.endpoint,
        rl1_0.ip_address,
        rl1_0.last_modified_date,
        rl1_0.request_params 
    from
        request_log rl1_0 
    where
        rl1_0.id=?

    select
        ecr1_0.id,
        ecr1_0.created_date,
        ecr1_0.last_modified_date 
    from
        emoji_card_relation ecr1_0 
    where
        ecr1_0.id=?

    select
        c1_0.share_id,
        c1_0.characteristic 
    from
        pet_saju_characteristics c1_0 
    where
        c1_0.share_id=?

    select
        pt1_0.share_id,
        pt1_0.trait 
    from
        pet_saju_personality_traits pt1_0 
    where
        pt1_0.share_id=?

    select
        c1_0.relation_id,
        c1_0.id,
        c1_0.created_date,
        c1_0.description,
        c1_0.emoji,
        c1_0.last_modified_date,
        c1_0.name 
    from
        emoji_card c1_0 
    where
        c1_0.relation_id=?
PetSaju(shareId=b04e0147-a408-48be-8e64-9fbe3687767f, requestLog=id : 945e0cfd-07f6-4ba9-bb38-235b92078d53, endpoint : /pet/saju, ipAddress : 0:0:0:0:0:0:0:1, deviceType : WEB, deviceId : UNKNOWN, requestParams : {"gender":"여","petName":"양송이","species":"고양이","birthDate":"2022-02-10"}, fortuneMessage=양송이는 신선한 숲속의 봄바람과 차가운 맑은 시냇물이 만나온 기운이다냥<br>순수한 탐색심과 깊은 관찰력이 조화를 이루어 다채로운 매력을 풍긴다냥<br>따뜻함과 차가움이 공존하는 복합적인 기질이다냥, petEmoji=🐱, petName=양송이, birthDate=2022년 02월 10일, idealOwner=나랑 같이 조용히 놀아주고 부드럽게 쓰다듬어주는 사람이 좋아요. 너무 시끄럽지 않고 가끔 나랑 눈 맞춰 주면 기분 좋아요., favoritePlace=높은 선반이나 창문틀 위에 올라가서 바깥을 보는 게 제일 좋아요. 포근한 담요 위도 좋아요., dailyHabit=낮잠 자다가 갑자기 활발해지는 편이에요. 또 가끔 장난감 들고 혼자 숨바꼭질해요., characteristics=[생기 넘치는 봄바람과 부드러운 나무 기운이 조화를 이룬다냥, 맑은 물결 같은 감성으로 주변을 섬세하게 살피는 기운이다냥, 차분하면서도 때로는 호기심 가득한 탐구 본능이 드러난다냥, 깊은 관찰력과 동시에 활발한 움직임이 공존하는 성향이다냥, 따뜻한 포용력과 날카로운 판단력이 균형을 이루는 기운이다냥], personalityTraits=[낮잠 자다 깨어나 갑자기 뛰어다니는 타입이다냥, 낯선 환경에 서서히 적응하며 호기심을 보이는 성향이다냥, 자주 주변을 살피면서 조용히 혼자 노는 걸 즐긴다냥, 자신만의 작은 장난감을 구석에 숨기는 습관이다냥, 가끔은 부드러운 손길에 몸을 기대는 다정함도 있다냥], toyRecommendationsRelation=EmojiCardRelation(id=c3c33a9a-b8e3-4201-a8c4-42da5ad1ff98, childs=[id : 938c9b79-a2c8-46f2-99e6-9f1663ce8505, emoji : 🌿, name : 부드러운 털실 공, reason : 봄바람 같은 생기와 탐색 본능에 잘 맞는 장난감이다냥, id : 3e0cbc72-650a-4f44-a326-5adee7030da4, emoji : 💧, name : 물방울 소리 나는 장난감, reason : 맑고 차분한 감성에 즐거움을 더해주는 놀잇감이다냥, id : a8315fe9-9c16-4673-a654-d07a7a2e33ee, emoji : 🪵, name : 작은 나무 스틱, reason : 자연의 따뜻함을 닮은 재질로 안정감을 주는 장난감이다냥]), petMessage=이따가 놀아줘요, 같이 뛰어놀면 너무 재밌어요!, loveSignal=눈을 느리게 감았다 뜨면 사랑의 표시이다냥<br>옆에 바짝 다가와 코를 대면 친밀감이 깊은 증거이다냥<br>부드러운 꼬리 흔들림은 애정의 비밀 신호이다냥, species=null, viewCount=null, isActive=null)
==================== END ======================
===============================================
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 197
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(endpoint=/pet-owner/compatibility, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetOwnerCompatibilityRequest(ownerName=홍길동, ownerBirthDate=1989-06-05, ownerGender=남, petName=양송이, petBirthDate=2022-02-10, petSpecies=고양이, petGender=여)
getAllStemBranch - birthDate: 1989-06-05
getAllStemBranch - birthDate: 2022-02-10
userPrompt : 주인: 홍길동, 1989-06-05, 음력, 기사, 기오, 임인, 남 
 반려동물: 양송이, 2022-02-10, 음력, 임인, 임묘, 경자, 여, 고양이 
LLM 호출 소요 시간: 11567ms (11.57초)
content : {
  "fortuneMessage": "냥냥~ 오늘 양송이가 주인의 에너지에 빠르게 반응하는 날이다냥.<br>따뜻한 물결 같은 기운이 고양이의 본능을 살랑살랑 자극하는구나.<br>서로의 숨결이 깊어지는 순간이 잦아질 테니, 마음껏 서로를 느끼라냥.",
  "compatibility": {
    "tags": ["친밀감", "적극성", "감정교류", "놀이중심", "안정감"],
    "description": "양송이는 주인의 움직임과 목소리에 예민하게 반응하며 작은 관심도 놓치지 않는다냥.<br>장난감 놀이를 좋아해 주인이 적극적으로 참여하면 더 신나하는 기운이다냥.<br>쉼시간에는 적당한 거리를 유지하면서도 언제든 다가와 편안함을 줄 수 있는 조화로운 궁합이다냥."
  },
  "dailyLife": [
    {
      "emoji": "🐾",
      "name": "발끝 간질간질 케미",
      "description": "양송이가 주인의 발끝을 살짝 건드려 놀고 싶다는 신호를 보내는 귀여운 순간이다냥."
    },
    {
      "emoji": "🎾",
      "name": "꼬리 춤 놀이 케미",
      "description": "장난감 공을 굴리면 양송이가 꼬리를 힘차게 흔들며 활발하게 따라다니는 모습이다냥."
    },
    {
      "emoji": "🛋️",
      "name": "햇살 쉼터 케미",
      "description": "따뜻한 햇살이 드는 소파 위에서 서로의 온기를 느끼며 잠시 쉼을 즐기는 평화로운 풍경이다냥."
    }
  ],
  "todayVibe": {
    "summary": "따뜻한 관심과 유쾌한 놀이의 하루",
    "description": "오늘 양송이는 주인의 살짝 다가오는 손길과 쉴 새 없는 눈 맞춤에 금세 마음의 문을 활짝 연다냥.<br>빨리 움직이는 작은 장난감을 준비하면 본능적인 사냥 본능이 빛나며 놀이 시간이 풍성해진다냥.<br>조용한 시간에도 함께 있을 때 서로의 기운이 부드럽게 흐르는 걸 느낄 수 있을 거다냥.<br>따뜻한 목소리와 부드러운 터치로 양송이의 마음을 더 깊게 녹여 보자냥."
  },
  "littleTips": [
    {
      "emoji": "🐕",
      "name": "손길 타이밍",
      "description": "양송이가 관심을 보일 때 살짝 다가가 살포시 손길을 건네라냥."
    },
    {
      "emoji": "🧸",
      "name": "장난감 활용",
      "description": "작고 빠른 움직임의 장난감을 자주 꺼내 주어 놀이 본능을 자극해 주라냥."
    },
    {
      "emoji": "☀️",
      "name": "햇살 공간",
      "description": "따뜻한 햇살이 들오는 창가를 일상 공간으로 만들어 주라냥."
    },
    {
      "emoji": "💤",
      "name": "쉼의 배려",
      "description": "중간중간 충분한 휴식 시간을 주어 스트레스 없이 배려하라냥."
    }
  ]
}
PetOwnerCompatibilityResponse.toEntity() called : PetOwnerCompatibilityResponse(requestLog=RequestLogDto(endpoint=/pet-owner/compatibility, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={"ownerName":"홍길동","ownerBirthDate":"1989-06-05","ownerGender":"남","petName":"양송이","petBirthDate":"2022-02-10","petSpecies":"고양이","petGender":"여"}), fortuneMessage=냥냥~ 오늘 양송이가 주인의 에너지에 빠르게 반응하는 날이다냥.<br>따뜻한 물결 같은 기운이 고양이의 본능을 살랑살랑 자극하는구나.<br>서로의 숨결이 깊어지는 순간이 잦아질 테니, 마음껏 서로를 느끼라냥., compatibility=TagsDescriptionDto(tags=[친밀감, 적극성, 감정교류, 놀이중심, 안정감], description=양송이는 주인의 움직임과 목소리에 예민하게 반응하며 작은 관심도 놓치지 않는다냥.<br>장난감 놀이를 좋아해 주인이 적극적으로 참여하면 더 신나하는 기운이다냥.<br>쉼시간에는 적당한 거리를 유지하면서도 언제든 다가와 편안함을 줄 수 있는 조화로운 궁합이다냥.), dailyLife=[EmojiCardDto(emoji=🐾, name=발끝 간질간질 케미, description=양송이가 주인의 발끝을 살짝 건드려 놀고 싶다는 신호를 보내는 귀여운 순간이다냥.), EmojiCardDto(emoji=🎾, name=꼬리 춤 놀이 케미, description=장난감 공을 굴리면 양송이가 꼬리를 힘차게 흔들며 활발하게 따라다니는 모습이다냥.), EmojiCardDto(emoji=🛋️, name=햇살 쉼터 케미, description=따뜻한 햇살이 드는 소파 위에서 서로의 온기를 느끼며 잠시 쉼을 즐기는 평화로운 풍경이다냥.)], todayVibe=SummaryDescriptionDto(summary=따뜻한 관심과 유쾌한 놀이의 하루, description=오늘 양송이는 주인의 살짝 다가오는 손길과 쉴 새 없는 눈 맞춤에 금세 마음의 문을 활짝 연다냥.<br>빨리 움직이는 작은 장난감을 준비하면 본능적인 사냥 본능이 빛나며 놀이 시간이 풍성해진다냥.<br>조용한 시간에도 함께 있을 때 서로의 기운이 부드럽게 흐르는 걸 느낄 수 있을 거다냥.<br>따뜻한 목소리와 부드러운 터치로 양송이의 마음을 더 깊게 녹여 보자냥.), littleTips=[EmojiCardDto(emoji=🐕, name=손길 타이밍, description=양송이가 관심을 보일 때 살짝 다가가 살포시 손길을 건네라냥.), EmojiCardDto(emoji=🧸, name=장난감 활용, description=작고 빠른 움직임의 장난감을 자주 꺼내 주어 놀이 본능을 자극해 주라냥.), EmojiCardDto(emoji=☀️, name=햇살 공간, description=따뜻한 햇살이 들오는 창가를 일상 공간으로 만들어 주라냥.), EmojiCardDto(emoji=💤, name=쉼의 배려, description=중간중간 충분한 휴식 시간을 주어 스트레스 없이 배려하라냥.)], shareId=null)

    insert 
    into
        tags_description_card
        (created_date, description, last_modified_date, id) 
    values
        (?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        request_log
        (created_date, device_id, device_type, endpoint, ip_address, last_modified_date, request_params, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        summary_description_card
        (created_date, description, last_modified_date, summary, id) 
    values
        (?, ?, ?, ?, ?)

    insert 
    into
        pet_owner_compatibility
        (compatibility_id, created_date, daily_life_id, fortune_message, last_modified_date, little_tips_id, owner_name, pet_name, request_id, today_vibe_id, share_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?
PetOwnerCompatibilityResponse(requestLog=RequestLogDto(endpoint=/pet-owner/compatibility, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={"ownerName":"홍길동","ownerBirthDate":"1989-06-05","ownerGender":"남","petName":"양송이","petBirthDate":"2022-02-10","petSpecies":"고양이","petGender":"여"}), fortuneMessage=냥냥~ 오늘 양송이가 주인의 에너지에 빠르게 반응하는 날이다냥.<br>따뜻한 물결 같은 기운이 고양이의 본능을 살랑살랑 자극하는구나.<br>서로의 숨결이 깊어지는 순간이 잦아질 테니, 마음껏 서로를 느끼라냥., compatibility=TagsDescriptionDto(tags=[친밀감, 적극성, 감정교류, 놀이중심, 안정감], description=양송이는 주인의 움직임과 목소리에 예민하게 반응하며 작은 관심도 놓치지 않는다냥.<br>장난감 놀이를 좋아해 주인이 적극적으로 참여하면 더 신나하는 기운이다냥.<br>쉼시간에는 적당한 거리를 유지하면서도 언제든 다가와 편안함을 줄 수 있는 조화로운 궁합이다냥.), dailyLife=[EmojiCardDto(emoji=🐾, name=발끝 간질간질 케미, description=양송이가 주인의 발끝을 살짝 건드려 놀고 싶다는 신호를 보내는 귀여운 순간이다냥.), EmojiCardDto(emoji=🎾, name=꼬리 춤 놀이 케미, description=장난감 공을 굴리면 양송이가 꼬리를 힘차게 흔들며 활발하게 따라다니는 모습이다냥.), EmojiCardDto(emoji=🛋️, name=햇살 쉼터 케미, description=따뜻한 햇살이 드는 소파 위에서 서로의 온기를 느끼며 잠시 쉼을 즐기는 평화로운 풍경이다냥.)], todayVibe=SummaryDescriptionDto(summary=따뜻한 관심과 유쾌한 놀이의 하루, description=오늘 양송이는 주인의 살짝 다가오는 손길과 쉴 새 없는 눈 맞춤에 금세 마음의 문을 활짝 연다냥.<br>빨리 움직이는 작은 장난감을 준비하면 본능적인 사냥 본능이 빛나며 놀이 시간이 풍성해진다냥.<br>조용한 시간에도 함께 있을 때 서로의 기운이 부드럽게 흐르는 걸 느낄 수 있을 거다냥.<br>따뜻한 목소리와 부드러운 터치로 양송이의 마음을 더 깊게 녹여 보자냥.), littleTips=[EmojiCardDto(emoji=🐕, name=손길 타이밍, description=양송이가 관심을 보일 때 살짝 다가가 살포시 손길을 건네라냥.), EmojiCardDto(emoji=🧸, name=장난감 활용, description=작고 빠른 움직임의 장난감을 자주 꺼내 주어 놀이 본능을 자극해 주라냥.), EmojiCardDto(emoji=☀️, name=햇살 공간, description=따뜻한 햇살이 들오는 창가를 일상 공간으로 만들어 주라냥.), EmojiCardDto(emoji=💤, name=쉼의 배려, description=중간중간 충분한 휴식 시간을 주어 스트레스 없이 배려하라냥.)], shareId=b292c044-df90-458f-b51c-5c9b32414fe8)
==================== END ======================
===============================================
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : sec-ch-ua-mobile ===> value : ?0
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(endpoint=/pet-owner/compatibility/b292c044-df90-458f-b51c-5c9b32414fe8, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})

    select
        poc1_0.share_id,
        poc1_0.compatibility_id,
        poc1_0.created_date,
        poc1_0.daily_life_id,
        poc1_0.fortune_message,
        poc1_0.last_modified_date,
        poc1_0.little_tips_id,
        poc1_0.owner_name,
        poc1_0.pet_name,
        poc1_0.request_id,
        poc1_0.today_vibe_id 
    from
        pet_owner_compatibility poc1_0 
    where
        poc1_0.share_id=?

    select
        tdc1_0.id,
        tdc1_0.created_date,
        tdc1_0.description,
        tdc1_0.last_modified_date 
    from
        tags_description_card tdc1_0 
    where
        tdc1_0.id=?

    select
        ecr1_0.id,
        ecr1_0.created_date,
        ecr1_0.last_modified_date 
    from
        emoji_card_relation ecr1_0 
    where
        ecr1_0.id = any (?)

    select
        rl1_0.id,
        rl1_0.created_date,
        rl1_0.device_id,
        rl1_0.device_type,
        rl1_0.endpoint,
        rl1_0.ip_address,
        rl1_0.last_modified_date,
        rl1_0.request_params 
    from
        request_log rl1_0 
    where
        rl1_0.id=?

    select
        sdc1_0.id,
        sdc1_0.created_date,
        sdc1_0.description,
        sdc1_0.last_modified_date,
        sdc1_0.summary 
    from
        summary_description_card sdc1_0 
    where
        sdc1_0.id=?

    select
        t1_0.id,
        t1_0.tag 
    from
        tags t1_0 
    where
        t1_0.id=?

    select
        c1_0.relation_id,
        c1_0.id,
        c1_0.created_date,
        c1_0.description,
        c1_0.emoji,
        c1_0.last_modified_date,
        c1_0.name 
    from
        emoji_card c1_0 
    where
        c1_0.relation_id = any (?)
PetOwnerCompatibility(shareId=b292c044-df90-458f-b51c-5c9b32414fe8, requestLog=id : 32a09f02-e6a5-4e09-946a-08eafb44f2ca, endpoint : /pet-owner/compatibility, ipAddress : 0:0:0:0:0:0:0:1, deviceType : WEB, deviceId : UNKNOWN, requestParams : {"petName":"양송이","ownerName":"홍길동","petGender":"여","petSpecies":"고양이","ownerGender":"남","petBirthDate":"2022-02-10","ownerBirthDate":"1989-06-05"}, fortuneMessage=냥냥~ 오늘 양송이가 주인의 에너지에 빠르게 반응하는 날이다냥.<br>따뜻한 물결 같은 기운이 고양이의 본능을 살랑살랑 자극하는구나.<br>서로의 숨결이 깊어지는 순간이 잦아질 테니, 마음껏 서로를 느끼라냥., ownerName=null, petName=null, compatibility=id : a1c17661-aa55-4dc7-92c7-691d2c5dfd8c, tags : [친밀감, 적극성, 감정교류, 놀이중심, 안정감], description : 양송이는 주인의 움직임과 목소리에 예민하게 반응하며 작은 관심도 놓치지 않는다냥.<br>장난감 놀이를 좋아해 주인이 적극적으로 참여하면 더 신나하는 기운이다냥.<br>쉼시간에는 적당한 거리를 유지하면서도 언제든 다가와 편안함을 줄 수 있는 조화로운 궁합이다냥., dailyLifeRelation=EmojiCardRelation(id=3785c311-885e-49b8-a9f5-6273da845554, childs=[id : 074c08d9-9f6c-487b-afaa-c4de3bdacfa8, emoji : 🐾, name : 발끝 간질간질 케미, reason : 양송이가 주인의 발끝을 살짝 건드려 놀고 싶다는 신호를 보내는 귀여운 순간이다냥., id : 714c3598-0f0f-4234-bd6e-ed9b103aed64, emoji : 🎾, name : 꼬리 춤 놀이 케미, reason : 장난감 공을 굴리면 양송이가 꼬리를 힘차게 흔들며 활발하게 따라다니는 모습이다냥., id : d1395cb7-32fc-4090-be18-b7330d01cfab, emoji : 🛋️, name : 햇살 쉼터 케미, reason : 따뜻한 햇살이 드는 소파 위에서 서로의 온기를 느끼며 잠시 쉼을 즐기는 평화로운 풍경이다냥.]), todayVibe=id : 4d10c9cf-9949-4214-a231-35a4a833c592, summary : 따뜻한 관심과 유쾌한 놀이의 하루, description : 오늘 양송이는 주인의 살짝 다가오는 손길과 쉴 새 없는 눈 맞춤에 금세 마음의 문을 활짝 연다냥.<br>빨리 움직이는 작은 장난감을 준비하면 본능적인 사냥 본능이 빛나며 놀이 시간이 풍성해진다냥.<br>조용한 시간에도 함께 있을 때 서로의 기운이 부드럽게 흐르는 걸 느낄 수 있을 거다냥.<br>따뜻한 목소리와 부드러운 터치로 양송이의 마음을 더 깊게 녹여 보자냥., littleTipsRelation=EmojiCardRelation(id=96417dd9-3765-401d-bb19-a13d783c4436, childs=[id : 3890c26f-5071-4793-9de6-af2a10962b78, emoji : 🐕, name : 손길 타이밍, reason : 양송이가 관심을 보일 때 살짝 다가가 살포시 손길을 건네라냥., id : 4b32edf4-0928-4087-b6dd-3d221d4da389, emoji : 🧸, name : 장난감 활용, reason : 작고 빠른 움직임의 장난감을 자주 꺼내 주어 놀이 본능을 자극해 주라냥., id : 37850465-d022-4d9c-bca5-c7d2f62bcb97, emoji : ☀️, name : 햇살 공간, reason : 따뜻한 햇살이 들오는 창가를 일상 공간으로 만들어 주라냥., id : db0f71a5-2ee1-48f3-8d14-f4f93962ba21, emoji : 💤, name : 쉼의 배려, reason : 중간중간 충분한 휴식 시간을 주어 스트레스 없이 배려하라냥.]))
==================== END ======================
===============================================
Starting Application using Java 17 with PID 56992 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists pet_saju_characteristics 
       drop constraint if exists FK8fbmtsxa5up3h98qbeklf88mc

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK474uhpeam7tije8l83brqv32c

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists pet_saju_characteristics cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table pet_saju_characteristics (
        characteristic TEXT,
        share_id varchar(255) not null
    )

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists pet_saju_characteristics 
       add constraint FK8fbmtsxa5up3h98qbeklf88mc 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK474uhpeam7tije8l83brqv32c 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.698 seconds (process running for 5.278)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 102
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetSajuRequest(petName=양송이, birthDate=2022-02-10, species=고양이, gender=여)
getAllStemBranch - birthDate: 2022-02-10
LLM 호출 소요 시간: 13160ms (13.16초)

    insert 
    into
        request_log
        (created_date, device_id, device_type, endpoint, ip_address, last_modified_date, request_params, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        pet_saju
        (birth_date, created_date, daily_habit, favorite_place, fortune_message, ideal_owner, is_active, last_modified_date, love_signal, pet_emoji, pet_message, pet_name, request_id, species, toy_recommendations_id, view_count, share_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)
PetSajuResponse(requestLog=RequestLogDto(endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={"petName":"양송이","birthDate":"2022-02-10","species":"고양이","gender":"여"}), fortuneMessage=양송이는 맑은 봄바람과 깨끗한 물방울이 어우러진 기운이다냥<br>활동적이면서도 섬세한 감각을 가지고 있어 주변을 탐색하는 본능이 강하다냥<br>부드럽고 따뜻한 기운으로 가까운 이에게 다가가는 성품이다냥, petEmoji=🐱, petName=양송이, birthDate=2022년 02월 10일, idealOwner=나랑 천천히 놀아주는 걸 좋아해요. 부드럽게 쓰다듬어주면 좋아요., favoritePlace=따뜻한 담요 위랑 높은 캣타워 꼭대기에서 쉬는 걸 좋아해요., dailyHabit=깜짝깜짝 뛰는 걸 좋아하고, 창밖 구경도 자주 해요., characteristics=[생기 넘치고 탐구심이 강한 기운이다냥, 부드러운 감각과 섬세한 관찰력이다냥, 활발하지만 차분함을 잃지 않는 균형 잡힌 기운이다냥, 따뜻한 마음으로 주변에 관심이 많은 성향이다냥, 조화로운 움직임과 에너지가 돋보이는 타입이다냥], personalityTraits=[장난감을 자주 탐색하며 좋아한다냥, 낮잠을 자다 가끔 쪼르르 뛰는 타입이다냥, 새로운 소리에 민감하지만 쉽게 긴장하지 않는다냥, 사람이 다가오면 살짝 몸을 비비는 행동을 한다냥, 자신만의 공간에서 휴식을 즐기는 성격이다냥], petMessage=나는 따뜻한 곳에서 뛰노는 게 제일 좋아요., loveSignal=양송이의 사랑은 부드럽고 따뜻한 몸짓이다냥<br>스르륵 다가와 살며시 몸을 비비는 모습이 진심을 말해준다냥<br>가만히 눈을 맞추며 기다리는 인내심도 사랑이라는 신호이다냥, toyRecommendations=[EmojiCardDto(emoji=🪶, name=깃털 장난감, description=예민하고 생기 있는 성향에 딱 맞는 움직임 가득한 깃털 장난감이다냥), EmojiCardDto(emoji=🧵, name=털실 공, description=부드럽고 따뜻한 감각을 살려주는 털실 공은 탐험 본능을 자극한다냥), EmojiCardDto(emoji=🌿, name=고양이 풀, description=섬세한 관찰력과 활동성을 부드럽게 달래주는 천연 고양이 풀이다냥)], shareId=ed8b0ef8-a4de-413a-9726-5a0509d8d38c)
==================== END ======================
===============================================
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : sec-ch-ua-mobile ===> value : ?0
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(endpoint=/pet/saju/ed8b0ef8-a4de-413a-9726-5a0509d8d38c, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})

    select
        ps1_0.share_id,
        ps1_0.birth_date,
        ps1_0.created_date,
        ps1_0.daily_habit,
        ps1_0.favorite_place,
        ps1_0.fortune_message,
        ps1_0.ideal_owner,
        ps1_0.is_active,
        ps1_0.last_modified_date,
        ps1_0.love_signal,
        ps1_0.pet_emoji,
        ps1_0.pet_message,
        ps1_0.pet_name,
        ps1_0.request_id,
        ps1_0.species,
        ps1_0.toy_recommendations_id,
        ps1_0.view_count 
    from
        pet_saju ps1_0 
    where
        ps1_0.share_id=?

    select
        rl1_0.id,
        rl1_0.created_date,
        rl1_0.device_id,
        rl1_0.device_type,
        rl1_0.endpoint,
        rl1_0.ip_address,
        rl1_0.last_modified_date,
        rl1_0.request_params 
    from
        request_log rl1_0 
    where
        rl1_0.id=?

    select
        ecr1_0.id,
        ecr1_0.created_date,
        ecr1_0.last_modified_date 
    from
        emoji_card_relation ecr1_0 
    where
        ecr1_0.id=?

    select
        c1_0.share_id,
        c1_0.characteristic 
    from
        pet_saju_characteristics c1_0 
    where
        c1_0.share_id=?

    select
        pt1_0.share_id,
        pt1_0.trait 
    from
        pet_saju_personality_traits pt1_0 
    where
        pt1_0.share_id=?

    select
        c1_0.relation_id,
        c1_0.id,
        c1_0.created_date,
        c1_0.description,
        c1_0.emoji,
        c1_0.last_modified_date,
        c1_0.name 
    from
        emoji_card c1_0 
    where
        c1_0.relation_id=?
PetSaju(shareId=ed8b0ef8-a4de-413a-9726-5a0509d8d38c, requestLog=id : 24eb1762-090c-4be8-8c65-d37ff4d9f417, endpoint : /pet/saju, ipAddress : 0:0:0:0:0:0:0:1, deviceType : WEB, deviceId : UNKNOWN, requestParams : {"gender":"여","petName":"양송이","species":"고양이","birthDate":"2022-02-10"}, fortuneMessage=양송이는 맑은 봄바람과 깨끗한 물방울이 어우러진 기운이다냥<br>활동적이면서도 섬세한 감각을 가지고 있어 주변을 탐색하는 본능이 강하다냥<br>부드럽고 따뜻한 기운으로 가까운 이에게 다가가는 성품이다냥, petEmoji=🐱, petName=양송이, birthDate=2022년 02월 10일, idealOwner=나랑 천천히 놀아주는 걸 좋아해요. 부드럽게 쓰다듬어주면 좋아요., favoritePlace=따뜻한 담요 위랑 높은 캣타워 꼭대기에서 쉬는 걸 좋아해요., dailyHabit=깜짝깜짝 뛰는 걸 좋아하고, 창밖 구경도 자주 해요., characteristics=[생기 넘치고 탐구심이 강한 기운이다냥, 부드러운 감각과 섬세한 관찰력이다냥, 활발하지만 차분함을 잃지 않는 균형 잡힌 기운이다냥, 따뜻한 마음으로 주변에 관심이 많은 성향이다냥, 조화로운 움직임과 에너지가 돋보이는 타입이다냥], personalityTraits=[장난감을 자주 탐색하며 좋아한다냥, 낮잠을 자다 가끔 쪼르르 뛰는 타입이다냥, 새로운 소리에 민감하지만 쉽게 긴장하지 않는다냥, 사람이 다가오면 살짝 몸을 비비는 행동을 한다냥, 자신만의 공간에서 휴식을 즐기는 성격이다냥], toyRecommendationsRelation=EmojiCardRelation(id=a12c7834-ddd8-438a-b1c8-5fa46a574c2f, childs=[id : 3b0a1b0a-08a8-4587-9678-f5d3597f09af, emoji : 🪶, name : 깃털 장난감, reason : 예민하고 생기 있는 성향에 딱 맞는 움직임 가득한 깃털 장난감이다냥, id : 1ed59211-0c53-4959-847b-120518610261, emoji : 🧵, name : 털실 공, reason : 부드럽고 따뜻한 감각을 살려주는 털실 공은 탐험 본능을 자극한다냥, id : ff823fe5-d79f-4022-9460-4bf9a9e4f0ff, emoji : 🌿, name : 고양이 풀, reason : 섬세한 관찰력과 활동성을 부드럽게 달래주는 천연 고양이 풀이다냥]), petMessage=나는 따뜻한 곳에서 뛰노는 게 제일 좋아요., loveSignal=양송이의 사랑은 부드럽고 따뜻한 몸짓이다냥<br>스르륵 다가와 살며시 몸을 비비는 모습이 진심을 말해준다냥<br>가만히 눈을 맞추며 기다리는 인내심도 사랑이라는 신호이다냥, species=null, viewCount=null, isActive=null)
==================== END ======================
===============================================
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 197
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(endpoint=/pet-owner/compatibility, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetOwnerCompatibilityRequest(ownerName=홍길동, ownerBirthDate=1989-06-05, ownerGender=남, petName=양송이, petBirthDate=2022-02-10, petSpecies=고양이, petGender=여)
getAllStemBranch - birthDate: 1989-06-05
getAllStemBranch - birthDate: 2022-02-10
userPrompt : 주인: 홍길동, 1989-06-05, 음력, 기사, 기오, 임인, 남 
 반려동물: 양송이, 2022-02-10, 음력, 임인, 임묘, 경자, 여, 고양이 
LLM 호출 소요 시간: 14275ms (14.28초)
content : {
  "fortuneMessage": "양송이는 홍길동의 부드러운 에너지에 민감하게 반응하는구나냥. 따뜻한 세상 속에서 조심스레 다가가며 신뢰를 쌓는 모습을 보인다냥.<br>사람의 기운이 마치 포근한 햇살 같아 양송이의 호기심과 탐구 본능을 자극하는구나냥.<br>서로의 감각이 잘 맞아 자연스레 다정한 교감이 이어진다냥.",
  "compatibility": {
    "tags": ["신중한접근", "상호신뢰", "조용한교감", "호기심자극", "안정감"],
    "description": "양송이는 홍길동과 일상에서 조심스레 거리를 유지하되 신뢰가 쌓이면 적극적으로 다가오는 타입이다냥.<br>놀이할 때는 동작이 가볍고 민감하게 반응하며 조용한 환경에서 집중력을 발휘한다냥.<br>서로의 루틴이 크게 어긋나지 않아 안정된 감정 흐름 속에 자연스럽게 쉼과 놀이가 조화를 이루는 관계이다냥."
  },
  "dailyLife": [
    {
      "emoji": "🐾",
      "name": "조용한 탐색",
      "description": "양송이는 주변을 살피며 조심스레 다가와 냄새 맡거나 손길을 탐색하는 귀여운 행동을 보인다냥."
    },
    {
      "emoji": "🧶",
      "name": "섬세한 놀이 반응",
      "description": "가벼운 손놀림에 민감하게 반응해서 발톱을 살포시 내밀며 예민하게 반응하는 모습이다냥."
    },
    {
      "emoji": "🛋️",
      "name": "안정된 쉼 공간",
      "description": "한곳에 조용히 머무르며 사람이 움직여도 덜 놀라, 편안한 기운 속에 쉼을 즐기는 루틴이다냥."
    }
  ],
  "todayVibe": {
    "summary": "조용한 신뢰가 빛나는 하루",
    "description": "오늘은 양송이가 조금은 내성적이면서도 집중력이 높게 발휘되는 기운이다냥.<br>반짝이는 눈빛으로 호기심을 보일 때는 작은 장난감으로 세밀한 움직임을 보여주면 딱 좋다냥.<br>모험보다는 잔잔하고 안정된 교감을 우선시하는 날이라 밤에는 부드러운 목소리로 다가가자냥.<br>서로의 속도를 맞추는 것이 가장 큰 키포인트이다냥."
  },
  "littleTips": [
    {
      "emoji": "🤲",
      "name": "부드러운접근",
      "description": "손길은 천천히, 양송이가 마음의 문을 열 때까지 기다리자냥."
    },
    {
      "emoji": "🕯️",
      "name": "조용한환경",
      "description": "소음이 적은 환경에서 놀이 시간을 갖는 게 좋아다냥."
    },
    {
      "emoji": "⏰",
      "name": "규칙적루틴",
      "description": "일상 시간을 규칙적으로 맞추면 안정감이 커진다냥."
    },
    {
      "emoji": "🎀",
      "name": "섬세한장난감",
      "description": "작고 움직임이 부드러운 장난감이 호기심을 자극한다냥."
    }
  ]
}
PetOwnerCompatibilityResponse.toEntity() called : PetOwnerCompatibilityResponse(requestLog=RequestLogDto(endpoint=/pet-owner/compatibility, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={"ownerName":"홍길동","ownerBirthDate":"1989-06-05","ownerGender":"남","petName":"양송이","petBirthDate":"2022-02-10","petSpecies":"고양이","petGender":"여"}), fortuneMessage=양송이는 홍길동의 부드러운 에너지에 민감하게 반응하는구나냥. 따뜻한 세상 속에서 조심스레 다가가며 신뢰를 쌓는 모습을 보인다냥.<br>사람의 기운이 마치 포근한 햇살 같아 양송이의 호기심과 탐구 본능을 자극하는구나냥.<br>서로의 감각이 잘 맞아 자연스레 다정한 교감이 이어진다냥., compatibility=TagsDescriptionDto(tags=[신중한접근, 상호신뢰, 조용한교감, 호기심자극, 안정감], description=양송이는 홍길동과 일상에서 조심스레 거리를 유지하되 신뢰가 쌓이면 적극적으로 다가오는 타입이다냥.<br>놀이할 때는 동작이 가볍고 민감하게 반응하며 조용한 환경에서 집중력을 발휘한다냥.<br>서로의 루틴이 크게 어긋나지 않아 안정된 감정 흐름 속에 자연스럽게 쉼과 놀이가 조화를 이루는 관계이다냥.), dailyLife=[EmojiCardDto(emoji=🐾, name=조용한 탐색, description=양송이는 주변을 살피며 조심스레 다가와 냄새 맡거나 손길을 탐색하는 귀여운 행동을 보인다냥.), EmojiCardDto(emoji=🧶, name=섬세한 놀이 반응, description=가벼운 손놀림에 민감하게 반응해서 발톱을 살포시 내밀며 예민하게 반응하는 모습이다냥.), EmojiCardDto(emoji=🛋️, name=안정된 쉼 공간, description=한곳에 조용히 머무르며 사람이 움직여도 덜 놀라, 편안한 기운 속에 쉼을 즐기는 루틴이다냥.)], todayVibe=SummaryDescriptionDto(summary=조용한 신뢰가 빛나는 하루, description=오늘은 양송이가 조금은 내성적이면서도 집중력이 높게 발휘되는 기운이다냥.<br>반짝이는 눈빛으로 호기심을 보일 때는 작은 장난감으로 세밀한 움직임을 보여주면 딱 좋다냥.<br>모험보다는 잔잔하고 안정된 교감을 우선시하는 날이라 밤에는 부드러운 목소리로 다가가자냥.<br>서로의 속도를 맞추는 것이 가장 큰 키포인트이다냥.), littleTips=[EmojiCardDto(emoji=🤲, name=부드러운접근, description=손길은 천천히, 양송이가 마음의 문을 열 때까지 기다리자냥.), EmojiCardDto(emoji=🕯️, name=조용한환경, description=소음이 적은 환경에서 놀이 시간을 갖는 게 좋아다냥.), EmojiCardDto(emoji=⏰, name=규칙적루틴, description=일상 시간을 규칙적으로 맞추면 안정감이 커진다냥.), EmojiCardDto(emoji=🎀, name=섬세한장난감, description=작고 움직임이 부드러운 장난감이 호기심을 자극한다냥.)], shareId=null)

    insert 
    into
        tags_description_card
        (created_date, description, last_modified_date, id) 
    values
        (?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        request_log
        (created_date, device_id, device_type, endpoint, ip_address, last_modified_date, request_params, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        summary_description_card
        (created_date, description, last_modified_date, summary, id) 
    values
        (?, ?, ?, ?, ?)

    insert 
    into
        pet_owner_compatibility
        (compatibility_id, created_date, daily_life_id, fortune_message, last_modified_date, little_tips_id, owner_name, pet_name, request_id, today_vibe_id, share_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?
PetOwnerCompatibilityResponse(requestLog=RequestLogDto(endpoint=/pet-owner/compatibility, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={"ownerName":"홍길동","ownerBirthDate":"1989-06-05","ownerGender":"남","petName":"양송이","petBirthDate":"2022-02-10","petSpecies":"고양이","petGender":"여"}), fortuneMessage=양송이는 홍길동의 부드러운 에너지에 민감하게 반응하는구나냥. 따뜻한 세상 속에서 조심스레 다가가며 신뢰를 쌓는 모습을 보인다냥.<br>사람의 기운이 마치 포근한 햇살 같아 양송이의 호기심과 탐구 본능을 자극하는구나냥.<br>서로의 감각이 잘 맞아 자연스레 다정한 교감이 이어진다냥., compatibility=TagsDescriptionDto(tags=[신중한접근, 상호신뢰, 조용한교감, 호기심자극, 안정감], description=양송이는 홍길동과 일상에서 조심스레 거리를 유지하되 신뢰가 쌓이면 적극적으로 다가오는 타입이다냥.<br>놀이할 때는 동작이 가볍고 민감하게 반응하며 조용한 환경에서 집중력을 발휘한다냥.<br>서로의 루틴이 크게 어긋나지 않아 안정된 감정 흐름 속에 자연스럽게 쉼과 놀이가 조화를 이루는 관계이다냥.), dailyLife=[EmojiCardDto(emoji=🐾, name=조용한 탐색, description=양송이는 주변을 살피며 조심스레 다가와 냄새 맡거나 손길을 탐색하는 귀여운 행동을 보인다냥.), EmojiCardDto(emoji=🧶, name=섬세한 놀이 반응, description=가벼운 손놀림에 민감하게 반응해서 발톱을 살포시 내밀며 예민하게 반응하는 모습이다냥.), EmojiCardDto(emoji=🛋️, name=안정된 쉼 공간, description=한곳에 조용히 머무르며 사람이 움직여도 덜 놀라, 편안한 기운 속에 쉼을 즐기는 루틴이다냥.)], todayVibe=SummaryDescriptionDto(summary=조용한 신뢰가 빛나는 하루, description=오늘은 양송이가 조금은 내성적이면서도 집중력이 높게 발휘되는 기운이다냥.<br>반짝이는 눈빛으로 호기심을 보일 때는 작은 장난감으로 세밀한 움직임을 보여주면 딱 좋다냥.<br>모험보다는 잔잔하고 안정된 교감을 우선시하는 날이라 밤에는 부드러운 목소리로 다가가자냥.<br>서로의 속도를 맞추는 것이 가장 큰 키포인트이다냥.), littleTips=[EmojiCardDto(emoji=🤲, name=부드러운접근, description=손길은 천천히, 양송이가 마음의 문을 열 때까지 기다리자냥.), EmojiCardDto(emoji=🕯️, name=조용한환경, description=소음이 적은 환경에서 놀이 시간을 갖는 게 좋아다냥.), EmojiCardDto(emoji=⏰, name=규칙적루틴, description=일상 시간을 규칙적으로 맞추면 안정감이 커진다냥.), EmojiCardDto(emoji=🎀, name=섬세한장난감, description=작고 움직임이 부드러운 장난감이 호기심을 자극한다냥.)], shareId=deafed68-0d2b-46b3-adaf-d6aba35eb08d)
==================== END ======================
===============================================
Starting Application using Java 17 with PID 26436 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists pet_saju_characteristics 
       drop constraint if exists FK8fbmtsxa5up3h98qbeklf88mc

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK474uhpeam7tije8l83brqv32c

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists pet_saju_characteristics cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table pet_saju_characteristics (
        characteristic TEXT,
        share_id varchar(255) not null
    )

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists pet_saju_characteristics 
       add constraint FK8fbmtsxa5up3h98qbeklf88mc 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK474uhpeam7tije8l83brqv32c 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.809 seconds (process running for 5.445)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 102
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetSajuRequest(petName=양송이, birthDate=2022-02-10, species=고양이, gender=여)
getAllStemBranch - birthDate: 2022-02-10
LLM 호출 소요 시간: 2053ms (2.05초)
handleRuntimeException
java.lang.NullPointerException: Cannot invoke "java.util.List.stream()" because "this.toyRecommendations" is null
	at com.codism.domain.saju.model.dto.response.pet.PetSajuResponse.toEntity(PetSajuResponse.java:59)
	at com.codism.service.pet.PetSajuService.saveSaju(PetSajuService.java:88)
	at com.codism.service.pet.PetSajuService.generateSaju(PetSajuService.java:80)
	at com.codism.controller.pet.PetSajuController.generateSaju(PetSajuController.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.codism.config.ContentCachingFilter.doFilterInternal(ContentCachingFilter.java:27)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 102
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetSajuRequest(petName=양송이, birthDate=2022-02-10, species=고양이, gender=여)
getAllStemBranch - birthDate: 2022-02-10
LLM 호출 소요 시간: 972ms (0.97초)
handleRuntimeException
java.lang.NullPointerException: Cannot invoke "java.util.List.stream()" because "this.toyRecommendations" is null
	at com.codism.domain.saju.model.dto.response.pet.PetSajuResponse.toEntity(PetSajuResponse.java:59)
	at com.codism.service.pet.PetSajuService.saveSaju(PetSajuService.java:88)
	at com.codism.service.pet.PetSajuService.generateSaju(PetSajuService.java:80)
	at com.codism.controller.pet.PetSajuController.generateSaju(PetSajuController.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.codism.config.ContentCachingFilter.doFilterInternal(ContentCachingFilter.java:27)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
Starting Application using Java 17 with PID 21268 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists pet_saju_characteristics 
       drop constraint if exists FK8fbmtsxa5up3h98qbeklf88mc

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK474uhpeam7tije8l83brqv32c

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists pet_saju_characteristics cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table pet_saju_characteristics (
        characteristic TEXT,
        share_id varchar(255) not null
    )

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists pet_saju_characteristics 
       add constraint FK8fbmtsxa5up3h98qbeklf88mc 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK474uhpeam7tije8l83brqv32c 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.742 seconds (process running for 5.344)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 102
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetSajuRequest(petName=양송이, birthDate=2022-02-10, species=고양이, gender=여)
getAllStemBranch - birthDate: 2022-02-10
LLM 호출 소요 시간: 11237ms (11.24초)
PetSajuResponse(requestLog=null, fortuneMessage=우리 귀염둥이 기운이 반짝이는 날이다냥<br>따뜻한 햇볕 아래서 포근함이 넘치는 기운이다냥<br>오늘도 사랑스런 기운이 가득하니 행운이 찾아올 거다냥, petEmoji=🐱, petName=, birthDate=년 월 일, idealOwner=나랑 같이 꿈꾸고 많이 사랑해주는 사람이 좋아요! 나랑 놀아주고 자주 안아주면 정말 신나요!, favoritePlace=따뜻한 창가나 포근한 이불 속이 좋거든요! 거기서 자면 몸도 마음도 편안해져요!, dailyHabit=쉴 때마다 살짝 콧구멍을 킁킁거려요! 그리고 작은 소리에도 귀를 쫑긋 세우는 게 내 버릇이에요!, characteristics=[부드럽고 포근한 기운이 도는 냥이이다냥, 온순하면서도 호기심 많은 기운이 섞여 있다냥, 느긋하면서도 순간순간 활발해지는 기운이다냥, 따뜻한 온기를 머금은 차분한 기운이다냥, 맑고 투명한 기운이 주변을 밝게 해주는 냥이다냥], personalityTraits=[차분하고 안정적인 태도를 가진다냥, 호기심이 많아 새로운 것에 관심을 보인다냥, 사람과 교감하는 것을 좋아한다냥, 자기만의 공간을 소중히 여긴다냥, 활동적일 때와 편안히 쉴 때의 대비가 뚜렷하다냥], petMessage=안아주면 마음이 따뜻해져요! 같이 놀면 너무 즐거워요!, loveSignal=내 마음은 부드럽게 다가가 조용히 몸을 부비는 걸로 표현한다냥<br>눈을 살짝 감거나 천천히 깜박이는 것이 사랑의 신호다냥<br>가끔은 조용히 곁에 머무는 행동이 마음을 전하는 기운이다냥, toyRecommendations=[EmojiCardDto(emoji=🎾, name=작은 공, description=활발한 기운을 북돋워 주는 놀잇감이다냥), EmojiCardDto(emoji=🧶, name=실뭉치, description=호기심과 탐구심을 자극하는 기운이다냥), EmojiCardDto(emoji=🐦, name=깃털 장난감, description=부드러운 감각을 자극하는 포근한 기운이다냥)], shareId=null)

    insert 
    into
        request_log
        (created_date, device_id, device_type, endpoint, ip_address, last_modified_date, request_params, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        pet_saju
        (birth_date, created_date, daily_habit, favorite_place, fortune_message, ideal_owner, is_active, last_modified_date, love_signal, pet_emoji, pet_message, pet_name, request_id, species, toy_recommendations_id, view_count, share_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)
==================== END ======================
===============================================
Starting Application using Java 17 with PID 31812 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists pet_saju_characteristics 
       drop constraint if exists FK8fbmtsxa5up3h98qbeklf88mc

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK474uhpeam7tije8l83brqv32c

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists pet_saju_characteristics cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table pet_saju_characteristics (
        characteristic TEXT,
        share_id varchar(255) not null
    )

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists pet_saju_characteristics 
       add constraint FK8fbmtsxa5up3h98qbeklf88mc 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK474uhpeam7tije8l83brqv32c 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.475 seconds (process running for 5.0)
Starting Application using Java 17 with PID 11928 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists pet_saju_characteristics 
       drop constraint if exists FK8fbmtsxa5up3h98qbeklf88mc

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK474uhpeam7tije8l83brqv32c

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists pet_saju_characteristics cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table pet_saju_characteristics (
        characteristic TEXT,
        share_id varchar(255) not null
    )

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists pet_saju_characteristics 
       add constraint FK8fbmtsxa5up3h98qbeklf88mc 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK474uhpeam7tije8l83brqv32c 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.568 seconds (process running for 5.098)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 102
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetSajuRequest(petName=양송이, birthDate=2022-02-10, species=고양이, gender=여)
getAllStemBranch - birthDate: 2022-02-10
LLM 호출 소요 시간: 2030ms (2.03초)
PetSajuResponse(requestLog=null, fortuneMessage=null, petEmoji=null, petName=null, birthDate=null, idealOwner=null, favoritePlace=null, dailyHabit=null, characteristics=null, personalityTraits=null, petMessage=null, loveSignal=null, toyRecommendations=null, shareId=null)
PetSajuResponse(requestLog=RequestLogDto(endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={"petName":"양송이","birthDate":"2022-02-10","species":"고양이","gender":"여"}), fortuneMessage=null, petEmoji=null, petName=null, birthDate=null, idealOwner=null, favoritePlace=null, dailyHabit=null, characteristics=null, personalityTraits=null, petMessage=null, loveSignal=null, toyRecommendations=null, shareId=null)
handleRuntimeException
java.lang.NullPointerException: Cannot invoke "java.util.List.stream()" because "this.toyRecommendations" is null
	at com.codism.domain.saju.model.dto.response.pet.PetSajuResponse.toEntity(PetSajuResponse.java:59)
	at com.codism.service.pet.PetSajuService.saveSaju(PetSajuService.java:89)
	at com.codism.service.pet.PetSajuService.generateSaju(PetSajuService.java:82)
	at com.codism.controller.pet.PetSajuController.generateSaju(PetSajuController.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.codism.config.ContentCachingFilter.doFilterInternal(ContentCachingFilter.java:27)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
Starting Application using Java 17 with PID 78336 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists pet_saju_characteristics 
       drop constraint if exists FK8fbmtsxa5up3h98qbeklf88mc

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK474uhpeam7tije8l83brqv32c

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists pet_saju_characteristics cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table pet_saju_characteristics (
        characteristic TEXT,
        share_id varchar(255) not null
    )

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists pet_saju_characteristics 
       add constraint FK8fbmtsxa5up3h98qbeklf88mc 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK474uhpeam7tije8l83brqv32c 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.49 seconds (process running for 5.007)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 102
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetSajuRequest(petName=양송이, birthDate=2022-02-10, species=고양이, gender=여)
getAllStemBranch - birthDate: 2022-02-10
User Prompt: 
LLM 호출 소요 시간: 11124ms (11.12초)
Response from LLM: {
  "fortune_message": "이름의 부드러운 울림과 기운이 강렬한 일간과 만나 위로와 활력이 공존하는 냥기운이다냥<br>연간의 깊은 조화가 반려동물에게 안정감과 따뜻한 포옹처럼 다가오는 냥기운이다냥<br>월간이 주는 은은한 빛이 성격에 풍성함과 섬세함을 더하는 신령한 냥기운이다냥",
  "pet_emoji": "🐱",
  "pet_name": "",
  "birth_date": "년 월 일",
  "ideal_owner": "나랑 함께 한가로운 시간 보내고 자주 쓰다듬어주는 사람이 좋다냥. 조용히 내 마음을 알아주는 사람이 최고야냥!",
  "favorite_place": "포근한 햇살이 드는 창가가 좋고, 푹신한 쿠션 위에서 구르면서 놀면 신나냥! 낮잠도 최고다냥!",
  "daily_habit": "하루에 몇 번씩 꼬리로 공을 톡톡 건드리면서 놀고 싶어져! 간간히 작은 소리를 내며 졸리운 척 해도 되는 거라냥!",
  "characteristics": ["부드러운 기운이 감싸는 냥기운이다냥", "활기찬 기운이 은은히 퍼지는 냥기운이다냥", "섬세하고 깊은 정서가 흐르는 냥기운이다냥", "안정과 호기심이 조화로운 냥기운이다냥", "따뜻한 온기가 가득한 냥기운이다냥"],
  "personality_traits": ["조용한 관심을 자주 보여주는 냥기운이다냥", "안정된 환경에서 활발함을 더하는 냥기운이다냥", "감각이 예민하고 호기심 많아 탐색을 좋아하는 냥기운이다냥", "애정 표현이 세밀하고 다정한 냥기운이다냥", "평화로운 분위기를 선호해 소중한 시간을 즐기는 냥기운이다냥"],
  "pet_message": "나는 햇빛 아래서 늘 놀고 싶어요! 반짝반짝 너무 좋아요!",
  "love_signal": "조용히 다가와 살며시 몸을 비비는 냥이의 따뜻한 손길이다냥<br>가끔은 눈을 느긋하게 감으며 가까운 곳에 앉는 모습이 깊은 신뢰를 나타내는 냥기운이다냥<br>그리고 포근한 몸짓으로 품에 안길 때 온전한 사랑의 파동을 전하는 냥기운이다냥",
  "toy_recommendations": [
    {"emoji": "🧶", "name": "털실 공", "description": "부드럽고 따뜻한 감촉이 이름의 온기와 조화로운 냥기운이다냥"},
    {"emoji": "🐭", "name": "작은 쥐 인형", "description": "호기심을 자극하는 재미있는 장난감 기운이다냥"},
    {"emoji": "🎾", "name": "작은 공", "description": "놀이를 활성화시키는 에너지를 돋우는 냥기운이다냥"}
  ]
}
PetSajuResponse(requestLog=null, fortuneMessage=이름의 부드러운 울림과 기운이 강렬한 일간과 만나 위로와 활력이 공존하는 냥기운이다냥<br>연간의 깊은 조화가 반려동물에게 안정감과 따뜻한 포옹처럼 다가오는 냥기운이다냥<br>월간이 주는 은은한 빛이 성격에 풍성함과 섬세함을 더하는 신령한 냥기운이다냥, petEmoji=🐱, petName=, birthDate=년 월 일, idealOwner=나랑 함께 한가로운 시간 보내고 자주 쓰다듬어주는 사람이 좋다냥. 조용히 내 마음을 알아주는 사람이 최고야냥!, favoritePlace=포근한 햇살이 드는 창가가 좋고, 푹신한 쿠션 위에서 구르면서 놀면 신나냥! 낮잠도 최고다냥!, dailyHabit=하루에 몇 번씩 꼬리로 공을 톡톡 건드리면서 놀고 싶어져! 간간히 작은 소리를 내며 졸리운 척 해도 되는 거라냥!, characteristics=[부드러운 기운이 감싸는 냥기운이다냥, 활기찬 기운이 은은히 퍼지는 냥기운이다냥, 섬세하고 깊은 정서가 흐르는 냥기운이다냥, 안정과 호기심이 조화로운 냥기운이다냥, 따뜻한 온기가 가득한 냥기운이다냥], personalityTraits=[조용한 관심을 자주 보여주는 냥기운이다냥, 안정된 환경에서 활발함을 더하는 냥기운이다냥, 감각이 예민하고 호기심 많아 탐색을 좋아하는 냥기운이다냥, 애정 표현이 세밀하고 다정한 냥기운이다냥, 평화로운 분위기를 선호해 소중한 시간을 즐기는 냥기운이다냥], petMessage=나는 햇빛 아래서 늘 놀고 싶어요! 반짝반짝 너무 좋아요!, loveSignal=조용히 다가와 살며시 몸을 비비는 냥이의 따뜻한 손길이다냥<br>가끔은 눈을 느긋하게 감으며 가까운 곳에 앉는 모습이 깊은 신뢰를 나타내는 냥기운이다냥<br>그리고 포근한 몸짓으로 품에 안길 때 온전한 사랑의 파동을 전하는 냥기운이다냥, toyRecommendations=[EmojiCardDto(emoji=🧶, name=털실 공, description=부드럽고 따뜻한 감촉이 이름의 온기와 조화로운 냥기운이다냥), EmojiCardDto(emoji=🐭, name=작은 쥐 인형, description=호기심을 자극하는 재미있는 장난감 기운이다냥), EmojiCardDto(emoji=🎾, name=작은 공, description=놀이를 활성화시키는 에너지를 돋우는 냥기운이다냥)], shareId=null)
PetSajuResponse(requestLog=RequestLogDto(endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={"petName":"양송이","birthDate":"2022-02-10","species":"고양이","gender":"여"}), fortuneMessage=이름의 부드러운 울림과 기운이 강렬한 일간과 만나 위로와 활력이 공존하는 냥기운이다냥<br>연간의 깊은 조화가 반려동물에게 안정감과 따뜻한 포옹처럼 다가오는 냥기운이다냥<br>월간이 주는 은은한 빛이 성격에 풍성함과 섬세함을 더하는 신령한 냥기운이다냥, petEmoji=🐱, petName=, birthDate=년 월 일, idealOwner=나랑 함께 한가로운 시간 보내고 자주 쓰다듬어주는 사람이 좋다냥. 조용히 내 마음을 알아주는 사람이 최고야냥!, favoritePlace=포근한 햇살이 드는 창가가 좋고, 푹신한 쿠션 위에서 구르면서 놀면 신나냥! 낮잠도 최고다냥!, dailyHabit=하루에 몇 번씩 꼬리로 공을 톡톡 건드리면서 놀고 싶어져! 간간히 작은 소리를 내며 졸리운 척 해도 되는 거라냥!, characteristics=[부드러운 기운이 감싸는 냥기운이다냥, 활기찬 기운이 은은히 퍼지는 냥기운이다냥, 섬세하고 깊은 정서가 흐르는 냥기운이다냥, 안정과 호기심이 조화로운 냥기운이다냥, 따뜻한 온기가 가득한 냥기운이다냥], personalityTraits=[조용한 관심을 자주 보여주는 냥기운이다냥, 안정된 환경에서 활발함을 더하는 냥기운이다냥, 감각이 예민하고 호기심 많아 탐색을 좋아하는 냥기운이다냥, 애정 표현이 세밀하고 다정한 냥기운이다냥, 평화로운 분위기를 선호해 소중한 시간을 즐기는 냥기운이다냥], petMessage=나는 햇빛 아래서 늘 놀고 싶어요! 반짝반짝 너무 좋아요!, loveSignal=조용히 다가와 살며시 몸을 비비는 냥이의 따뜻한 손길이다냥<br>가끔은 눈을 느긋하게 감으며 가까운 곳에 앉는 모습이 깊은 신뢰를 나타내는 냥기운이다냥<br>그리고 포근한 몸짓으로 품에 안길 때 온전한 사랑의 파동을 전하는 냥기운이다냥, toyRecommendations=[EmojiCardDto(emoji=🧶, name=털실 공, description=부드럽고 따뜻한 감촉이 이름의 온기와 조화로운 냥기운이다냥), EmojiCardDto(emoji=🐭, name=작은 쥐 인형, description=호기심을 자극하는 재미있는 장난감 기운이다냥), EmojiCardDto(emoji=🎾, name=작은 공, description=놀이를 활성화시키는 에너지를 돋우는 냥기운이다냥)], shareId=null)

    insert 
    into
        request_log
        (created_date, device_id, device_type, endpoint, ip_address, last_modified_date, request_params, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        pet_saju
        (birth_date, created_date, daily_habit, favorite_place, fortune_message, ideal_owner, is_active, last_modified_date, love_signal, pet_emoji, pet_message, pet_name, request_id, species, toy_recommendations_id, view_count, share_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)
==================== END ======================
===============================================
Starting Application using Java 17 with PID 35144 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists pet_saju_characteristics 
       drop constraint if exists FK8fbmtsxa5up3h98qbeklf88mc

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK474uhpeam7tije8l83brqv32c

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists pet_saju_characteristics cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table pet_saju_characteristics (
        characteristic TEXT,
        share_id varchar(255) not null
    )

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists pet_saju_characteristics 
       add constraint FK8fbmtsxa5up3h98qbeklf88mc 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK474uhpeam7tije8l83brqv32c 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.613 seconds (process running for 5.159)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 102
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetSajuRequest(petName=양송이, birthDate=2022-02-10, species=고양이, gender=여)
getAllStemBranch - birthDate: 2022-02-10
User Prompt: {
  "petName" : "양송이",
  "birthDate" : "2022-02-10",
  "species" : "고양이",
  "gender" : "여",
  "year" : "임인",
  "month" : "임묘",
  "day" : "경자"
}
LLM 호출 소요 시간: 10255ms (10.26초)
Response from LLM: {
  "fortune_message": "양송이는 부드러운 물기운과 산뜻한 나무기운이 어우러진 기운이다냥<br>그 기운이 경쾌하고 밝은 에너지를 꽃피우는 중이다냥<br>이 에너지는 주변을 편안하게 만드는 힘이 강한 기운이다냥",
  "pet_emoji": "🐱",
  "pet_name": "양송이",
  "birth_date": "2022년 02월 10일",
  "ideal_owner": "나는 부드럽고 살랑이는 손길이 좋은 사람을 좋아해. 같이 놀아주고 자주 안아줬으면 좋겠어!",
  "favorite_place": "햇살 가득한 창가나 살짝 바람이 부는 곳에서 기분이 좋아져. 그게 최고야!",
  "daily_habit": "가끔 조용히 혼자 구석구석을 살피는데, 그게 내 작은 탐험이야!",
  "characteristics": [
    "맑은 물처럼 부드럽고 유연한 기운이다냥",
    "생기 넘치는 나무기운으로 활발한 움직임이다냥",
    "밝고 명랑한 금기운으로 호기심이 깊은 기운이다냥",
    "움직임에 경쾌함이 감도는 에너지이다냥",
    "어둠 속에서도 빛나는 침착함이 있는 기운이다냥"
  ],
  "personality_traits": [
    "활발하고 긍정적인 기운이다냥",
    "세심하고 관찰력이 뛰어난 기운이다냥",
    "낯선 환경에도 잘 적응하는 유연한 기운이다냥",
    "혼자 있는 시간을 소중히 여기는 기운이다냥",
    "사랑스러운 애교를 곧잘 부리는 기운이다냥"
  ],
  "pet_message": "나랑 놀자! 너랑 같이 있으면 너무 좋아!",
  "love_signal": "양송이는 마음이 통하면 볼에 살짝 비비는 작은 애정 신호를 보내는 냥냥이다냥<br>눈을 천천히 감고 부드럽게 바라보는 모습이 사랑을 전하는 기운이다냥<br>그리고 기분 좋을 때 꼬리를 살짝 흔드는 것 또한 신호다냥",
  "toy_recommendations": [
    {
      "emoji": "🌿",
      "name": "나뭇잎 흔드는 장난감",
      "description": "부드러운 나무기운과 잘 맞아 활발한 움직임을 자극하는 장난감이다냥"
    },
    {
      "emoji": "💧",
      "name": "흐르는 물 소리 장난감",
      "description": "맑고 부드러운 물기운을 자극해 편안함과 호기심을 동시에 만족시키는 장난감이다냥"
    },
    {
      "emoji": "⚡",
      "name": "반짝이는 빛난 구슬",
      "description": "명랑한 금기운을 깨워서 경쾌하고 밝은 놀이 시간을 만들어 주는 장난감이다냥"
    }
  ]
}
PetSajuResponse(requestLog=null, fortuneMessage=양송이는 부드러운 물기운과 산뜻한 나무기운이 어우러진 기운이다냥<br>그 기운이 경쾌하고 밝은 에너지를 꽃피우는 중이다냥<br>이 에너지는 주변을 편안하게 만드는 힘이 강한 기운이다냥, petEmoji=🐱, petName=양송이, birthDate=2022년 02월 10일, idealOwner=나는 부드럽고 살랑이는 손길이 좋은 사람을 좋아해. 같이 놀아주고 자주 안아줬으면 좋겠어!, favoritePlace=햇살 가득한 창가나 살짝 바람이 부는 곳에서 기분이 좋아져. 그게 최고야!, dailyHabit=가끔 조용히 혼자 구석구석을 살피는데, 그게 내 작은 탐험이야!, characteristics=[맑은 물처럼 부드럽고 유연한 기운이다냥, 생기 넘치는 나무기운으로 활발한 움직임이다냥, 밝고 명랑한 금기운으로 호기심이 깊은 기운이다냥, 움직임에 경쾌함이 감도는 에너지이다냥, 어둠 속에서도 빛나는 침착함이 있는 기운이다냥], personalityTraits=[활발하고 긍정적인 기운이다냥, 세심하고 관찰력이 뛰어난 기운이다냥, 낯선 환경에도 잘 적응하는 유연한 기운이다냥, 혼자 있는 시간을 소중히 여기는 기운이다냥, 사랑스러운 애교를 곧잘 부리는 기운이다냥], petMessage=나랑 놀자! 너랑 같이 있으면 너무 좋아!, loveSignal=양송이는 마음이 통하면 볼에 살짝 비비는 작은 애정 신호를 보내는 냥냥이다냥<br>눈을 천천히 감고 부드럽게 바라보는 모습이 사랑을 전하는 기운이다냥<br>그리고 기분 좋을 때 꼬리를 살짝 흔드는 것 또한 신호다냥, toyRecommendations=[EmojiCardDto(emoji=🌿, name=나뭇잎 흔드는 장난감, description=부드러운 나무기운과 잘 맞아 활발한 움직임을 자극하는 장난감이다냥), EmojiCardDto(emoji=💧, name=흐르는 물 소리 장난감, description=맑고 부드러운 물기운을 자극해 편안함과 호기심을 동시에 만족시키는 장난감이다냥), EmojiCardDto(emoji=⚡, name=반짝이는 빛난 구슬, description=명랑한 금기운을 깨워서 경쾌하고 밝은 놀이 시간을 만들어 주는 장난감이다냥)], shareId=null)
PetSajuResponse(requestLog=RequestLogDto(endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={"petName":"양송이","birthDate":"2022-02-10","species":"고양이","gender":"여"}), fortuneMessage=양송이는 부드러운 물기운과 산뜻한 나무기운이 어우러진 기운이다냥<br>그 기운이 경쾌하고 밝은 에너지를 꽃피우는 중이다냥<br>이 에너지는 주변을 편안하게 만드는 힘이 강한 기운이다냥, petEmoji=🐱, petName=양송이, birthDate=2022년 02월 10일, idealOwner=나는 부드럽고 살랑이는 손길이 좋은 사람을 좋아해. 같이 놀아주고 자주 안아줬으면 좋겠어!, favoritePlace=햇살 가득한 창가나 살짝 바람이 부는 곳에서 기분이 좋아져. 그게 최고야!, dailyHabit=가끔 조용히 혼자 구석구석을 살피는데, 그게 내 작은 탐험이야!, characteristics=[맑은 물처럼 부드럽고 유연한 기운이다냥, 생기 넘치는 나무기운으로 활발한 움직임이다냥, 밝고 명랑한 금기운으로 호기심이 깊은 기운이다냥, 움직임에 경쾌함이 감도는 에너지이다냥, 어둠 속에서도 빛나는 침착함이 있는 기운이다냥], personalityTraits=[활발하고 긍정적인 기운이다냥, 세심하고 관찰력이 뛰어난 기운이다냥, 낯선 환경에도 잘 적응하는 유연한 기운이다냥, 혼자 있는 시간을 소중히 여기는 기운이다냥, 사랑스러운 애교를 곧잘 부리는 기운이다냥], petMessage=나랑 놀자! 너랑 같이 있으면 너무 좋아!, loveSignal=양송이는 마음이 통하면 볼에 살짝 비비는 작은 애정 신호를 보내는 냥냥이다냥<br>눈을 천천히 감고 부드럽게 바라보는 모습이 사랑을 전하는 기운이다냥<br>그리고 기분 좋을 때 꼬리를 살짝 흔드는 것 또한 신호다냥, toyRecommendations=[EmojiCardDto(emoji=🌿, name=나뭇잎 흔드는 장난감, description=부드러운 나무기운과 잘 맞아 활발한 움직임을 자극하는 장난감이다냥), EmojiCardDto(emoji=💧, name=흐르는 물 소리 장난감, description=맑고 부드러운 물기운을 자극해 편안함과 호기심을 동시에 만족시키는 장난감이다냥), EmojiCardDto(emoji=⚡, name=반짝이는 빛난 구슬, description=명랑한 금기운을 깨워서 경쾌하고 밝은 놀이 시간을 만들어 주는 장난감이다냥)], shareId=null)

    insert 
    into
        request_log
        (created_date, device_id, device_type, endpoint, ip_address, last_modified_date, request_params, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        pet_saju
        (birth_date, created_date, daily_habit, favorite_place, fortune_message, ideal_owner, is_active, last_modified_date, love_signal, pet_emoji, pet_message, pet_name, request_id, species, toy_recommendations_id, view_count, share_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)
==================== END ======================
===============================================
Starting Application using Java 17 with PID 39548 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists pet_saju_characteristics 
       drop constraint if exists FK8fbmtsxa5up3h98qbeklf88mc

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK474uhpeam7tije8l83brqv32c

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists pet_saju_characteristics cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table pet_saju_characteristics (
        characteristic TEXT,
        share_id varchar(255) not null
    )

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists pet_saju_characteristics 
       add constraint FK8fbmtsxa5up3h98qbeklf88mc 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK474uhpeam7tije8l83brqv32c 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.556 seconds (process running for 5.078)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 102
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetSajuRequest(petName=양송이, birthDate=2022-02-10, species=고양이, gender=여)
getAllStemBranch - birthDate: 2022-02-10
LLM 호출 소요 시간: 15871ms (15.87초)
PetSajuResponse(requestLog=RequestLogDto(endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={"petName":"양송이","birthDate":"2022-02-10","species":"고양이","gender":"여"}), fortuneMessage=양송이의 기운은 맑은 봄비처럼 부드럽고 맑은 기운이다냥.<br>맹렬한 임인과 경자의 조합이 섬세한 용맹함을 품었으니, 소중한 균형의 느낌이다냥.<br>따뜻한 햇살과 다가오는 봄바람처럼 모든 이를 포근히 감싸는 기운이다냥., petEmoji=🐱, petName=양송이, birthDate=2022년 02월 10일, idealOwner=나랑 같이 놀아주고 따뜻하게 안아주는 사람이 좋아! 좋아하는 사람이 옆에 있으면 자꾸 다가가고 싶어져요., favoritePlace=포근한 담요 위랑 햇살 가득한 창가가 제일 좋아요, 거기 있으면 기분이 좋아지고 행복해져요!, dailyHabit=낮에는 여기저기 탐험하고 밤에는 꼭 주인 옆에서 졸린 눈 비비며 쪽쪽거리기 좋아해요!, characteristics=[맑고 청아한 기운을 지녔으며 부드러운 용맹함이 있다냥, 순수한 호기심과 밝은 활력을 품은 기운이다냥, 내면에 따뜻한 보호 본능이 흐른다냥, 철저하게 감각을 살피는 섬세함이 있다냥, 변화에 대한 유연한 태도로 조화로운 움직임을 지녔구나냥], personalityTraits=[밝고 생기 넘치는 기운이다냥, 부드럽지만 강한 끈기를 지녔다냥, 온화한 마음씨가 느껴지는 냥이다냥, 주위를 살피며 조심스럽고 신중하다냥, 애교 많고 사근사근한 품성이 흐른다냥], petMessage=나랑 놀아줘! 오늘은 특별히 더 재밌게 놀고 싶어!, loveSignal=양송이는 다가와서 살짝 스치며 고개를 기울이는 귀여운 신호를 보내는 냥이다냥.<br>깊은 눈빛과 몸을 부드럽게 문지르는 행동으로 따뜻한 마음을 전하는 냥이다냥.<br>사랑할 때는 조용히 눈을 감고 곁에 꼭 붙어 있는 기운이 강하다냥., toyRecommendations=[EmojiCardDto(emoji=🍃, name=깃털 장난감, description=활기찬 임묘 기운과 어우러지는 가벼운 움직임이 좋은 냥이다냥.), EmojiCardDto(emoji=🎯, name=작은 공, description=경자의 활동성을 자극하며 놀기 좋은 활력 넘치는 기운이다냥.), EmojiCardDto(emoji=🧸, name=봉제 인형, description=내면의 부드러움과 따뜻함을 더해주는 편안한 기운이다냥.)], shareId=null)

    insert 
    into
        request_log
        (created_date, device_id, device_type, endpoint, ip_address, last_modified_date, request_params, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        pet_saju
        (birth_date, created_date, daily_habit, favorite_place, fortune_message, ideal_owner, is_active, last_modified_date, love_signal, pet_emoji, pet_message, pet_name, request_id, species, toy_recommendations_id, view_count, share_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)
==================== END ======================
===============================================
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 102
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetSajuRequest(petName=양송이, birthDate=2022-02-10, species=고양이, gender=여)
getAllStemBranch - birthDate: 2022-02-10
LLM 호출 소요 시간: 9296ms (9.30초)
PetSajuResponse(requestLog=RequestLogDto(endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={"petName":"양송이","birthDate":"2022-02-10","species":"고양이","gender":"여"}), fortuneMessage=양송이의 기운은 숲 속의 부드러운 바람과 같다냥.<br>임인의 용맹함과 경자의 지혜가 어우러져 신비한 조화의 기운이다냥.<br>마음 깊은 곳에서 평화를 이루는 따스한 에너지이다냥., petEmoji=🐱, petName=양송이, birthDate=2022년 02월 10일, idealOwner=나랑 같이 숲 산책하고 놀아줄 사람을 좋아해! 나랑 부드럽게 놀아줘야 편하고 좋아!, favoritePlace=햇살 비치는 창가가 가장 좋아. 거기서 졸리면 바로 꿀잠 잘 수 있거든!, dailyHabit=내 꼬리가 살랑살랑 움직이면 집중한 거야! 그리고 높은 곳에서 세상을 바라보는 게 제일 좋아!, characteristics=[신선한 숲바람처럼 상쾌한 기운이다냥, 맑은 물처럼 투명하고 깨끗한 에너지이다냥, 차분한 달빛처럼 마음을 안정시키는 힘이다냥, 용맹한 호랑이 기운이 포용하는 느낌이다냥, 부드럽고 따뜻한 햇살 같은 온화함이다냥], personalityTraits=[호기심이 많고 탐험심이 강한 기운이다냥, 사뿐사뿐 조용하지만 날카로운 감각을 지녔음이다냥, 부드럽지만 독립적인 마음을 품고 있음이다냥, 사랑받기 좋아하고 애교가 많은 성향이다냥, 새로운 환경에도 빠르게 적응하는 유연함이다냥], petMessage=여기서 놀자! 나랑 같이 있으면 재밌어!, loveSignal=눈을 살짝 감거나 느긋하게 누우면 사랑하는 신호이다냥.<br>머리를 부드럽게 비비며 친밀함을 나누는 기운이다냥.<br>가만히 옆에 앉아 조용히 있는 것도 깊은 애정의 표시이다냥., toyRecommendations=[EmojiCardDto(emoji=🌿, name=실내잎새 장난감, description=푸르른 임묘의 기운과 맞아 산뜻하고 생기 가득한 놀잇감이다냥), EmojiCardDto(emoji=🌟, name=반짝이는 별 장난감, description=경자의 맑고 빛나는 에너지를 자극하는 신비로운 장난감이다냥), EmojiCardDto(emoji=🐯, name=호랑이 장난감, description=임인의 용맹함을 표현해 활동적인 에너지를 끌어내는 데 효과적이다냥)], shareId=null)

    insert 
    into
        request_log
        (created_date, device_id, device_type, endpoint, ip_address, last_modified_date, request_params, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        pet_saju
        (birth_date, created_date, daily_habit, favorite_place, fortune_message, ideal_owner, is_active, last_modified_date, love_signal, pet_emoji, pet_message, pet_name, request_id, species, toy_recommendations_id, view_count, share_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)
==================== END ======================
===============================================
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 102
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetSajuRequest(petName=양송이, birthDate=2022-02-10, species=고양이, gender=여)
getAllStemBranch - birthDate: 2022-02-10
LLM 호출 소요 시간: 9396ms (9.40초)
PetSajuResponse(requestLog=RequestLogDto(endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={"petName":"양송이","birthDate":"2022-02-10","species":"고양이","gender":"여"}), fortuneMessage=양송이는 부드러운 물기운과 불기운이 어우러진 기운이다냥<br>생명력 넘치는 맑은 기운으로 사람의 마음을 따뜻하게 감싸는 냥냥이다냥<br>매순간 활기차고 다채로운 빛깔로 사랑을 전하는 신비로운 힘이다냥, petEmoji=🐱, petName=양송이, birthDate=2022년 02월 10일, idealOwner=나는요, 언제나 나를 사랑해 주는 포근한 사람과 함께 있고 싶어! 같이 놀아 주면 나 너무 좋아!, favoritePlace=따뜻한 햇살이 가득한 창가가 최고야! 거기서 조용히 쉬면 마음이 편안해져., dailyHabit=낮에는 창문 옆에서 조용히 낮잠 자는 걸 좋아해. 그리고 갑자기 지나가는 무언가를 뒤쫓기도 해!, characteristics=[맑고 생명력 넘치는 물과 불기운의 조화이다냥, 활기차고 표현력이 풍부한 기운이다냥, 따뜻하게 마음을 어루만지는 부드러운 냥기운이다냥, 부드럽지만 때로는 단단한 집중력이 흐르는 냥이다냥, 다채로운 빛깔로 주변을 밝히는 귀여운 힘이다냥], personalityTraits=[따뜻하고 온화한 마음씨이다냥, 호기심이 많아 여기저기 탐험하는 냥이다냥, 사람을 기쁘게 하는 재롱꾸러기 기운이다냥, 가끔은 조용하고 차분하게 혼자만의 시간을 즐기는 냥이다냥, 사랑과 관심을 적극적으로 표현하는 여린 기운이다냥], petMessage=나랑 같이 놀자~ 맛있는 거 줄 거지?, loveSignal=양송이는 다가와서 슬며시 머리를 비비는 신호로 사랑을 전하는 냥이다냥<br>더 가까워지면 손길을 따라와 몸을 맡기며 행복을 표현한다냥<br>부드러운 눈빛과 살짝 내는 야옹 소리는 진심 어린 애정의 표현이다냥, toyRecommendations=[EmojiCardDto(emoji=🧶, name=실타래, description=양송이의 부드러운 물기운과 잘 맞아 놀면서 스트레스가 풀리는 냥이다냥), EmojiCardDto(emoji=🐭, name=쟁쟁이 쥐 장난감, description=호기심 많고 활기찬 기운을 자극해 즐거움을 선물하는 냥이다냥), EmojiCardDto(emoji=🌸, name=플라워 캣닢 토이, description=따뜻하고 달콤한 기운을 더해주는 향긋한 장난감이다냥)], shareId=null)

    insert 
    into
        request_log
        (created_date, device_id, device_type, endpoint, ip_address, last_modified_date, request_params, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        pet_saju
        (birth_date, created_date, daily_habit, favorite_place, fortune_message, ideal_owner, is_active, last_modified_date, love_signal, pet_emoji, pet_message, pet_name, request_id, species, toy_recommendations_id, view_count, share_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)
==================== END ======================
===============================================
Starting Application using Java 17 with PID 41156 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists pet_saju_characteristics 
       drop constraint if exists FK8fbmtsxa5up3h98qbeklf88mc

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK474uhpeam7tije8l83brqv32c

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists pet_saju_characteristics cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table pet_saju_characteristics (
        characteristic TEXT,
        share_id varchar(255) not null
    )

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists pet_saju_characteristics 
       add constraint FK8fbmtsxa5up3h98qbeklf88mc 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK474uhpeam7tije8l83brqv32c 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.583 seconds (process running for 5.109)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 102
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetSajuRequest(petName=양송이, birthDate=2022-02-10, species=고양이, gender=여)
getAllStemBranch - birthDate: 2022-02-10
User Prompt: {
  "petName" : "양송이",
  "birthDate" : "2022-02-10",
  "species" : "고양이",
  "gender" : "여",
  "year" : "임인",
  "month" : "임묘",
  "day" : "경자"
}
LLM 호출 소요 시간: 10097ms (10.10초)
Response from LLM: {
  "fortune_message": "양송이는 임인 년과 경자 일이 만나 부드럽고 독립적인 기운이다냥<br>맑은 물결 같은 임묘 월이 삶에 청량함과 생동감을 더해준다냥<br>따뜻한 햇살을 닮은 양송이의 에너지가 주위를 행복하게 한다냥",
  "pet_emoji": "🐱",
  "pet_name": "양송이",
  "birth_date": "2022년 02월 10일",
  "ideal_owner": "부드럽게 다가와서 나랑 조용히 놀아주는 사람이 좋아! 낯선 사람도 잘 대해주면 더 좋아!",
  "favorite_place": "창가에 앉아서 햇빛 받으면서 쉴 때가 제일 편해! 푹신한 담요도 좋아!",
  "daily_habit": "아침마다 살짝 이불 속을 헤집는 게 재미있어! 그리고 창밖 구경하는 것도 좋아해!",
  "characteristics": [
    "맑은 물과 강한 불의 조화로운 기운이다냥",
    "자유로움과 집중력이 균형 잡힌 기운이다냥",
    "호기심과 온화함이 함께 어우러진 기운이다냥",
    "내성적이면서도 친근한 느낌을 주는 기운이다냥",
    "부드럽고 은은한 에너지로 주변을 안정시키는 기운이다냥"
  ],
  "personality_traits": [
    "조용하고 차분한 편이다냥",
    "가끔은 혼자만의 시간이 필요하다냥",
    "친밀한 이에게는 애정 표현을 적극적으로 한다냥",
    "주변의 변화를 민감하게 느낀다냥",
    "장난감을 가지고 노는 걸 좋아한다냥"
  ],
  "pet_message": "나랑 같이 창문 밖 구경할래? 난 그게 제일 재밌어!",
  "love_signal": "양송이는 애정 표현을 눈빛으로 자주 한다냥<br>포근하게 몸을 기대며 신뢰를 보여준다냥<br>가까이서 살짝 머리를 비비는 것도 큰 사랑의 표현이다냥",
  "toy_recommendations": [
    {"emoji": "🍃", "name": "바람개비", "description": "신선한 바람 같은 임묘 월의 기운에 잘 맞는 장난감이다냥"},
    {"emoji": "💧", "name": "물방울 장난감", "description": "맑은 물 기운을 자극해서 활기를 불어넣는 장난감이다냥"},
    {"emoji": "🪵", "name": "나무 막대기", "description": "자연 친화적인 감성을 돋우는 따스한 장난감이다냥"}
  ]
}
PetSajuResponse(requestLog=null, fortuneMessage=양송이는 임인 년과 경자 일이 만나 부드럽고 독립적인 기운이다냥<br>맑은 물결 같은 임묘 월이 삶에 청량함과 생동감을 더해준다냥<br>따뜻한 햇살을 닮은 양송이의 에너지가 주위를 행복하게 한다냥, petEmoji=🐱, petName=양송이, birthDate=2022년 02월 10일, idealOwner=부드럽게 다가와서 나랑 조용히 놀아주는 사람이 좋아! 낯선 사람도 잘 대해주면 더 좋아!, favoritePlace=창가에 앉아서 햇빛 받으면서 쉴 때가 제일 편해! 푹신한 담요도 좋아!, dailyHabit=아침마다 살짝 이불 속을 헤집는 게 재미있어! 그리고 창밖 구경하는 것도 좋아해!, characteristics=[맑은 물과 강한 불의 조화로운 기운이다냥, 자유로움과 집중력이 균형 잡힌 기운이다냥, 호기심과 온화함이 함께 어우러진 기운이다냥, 내성적이면서도 친근한 느낌을 주는 기운이다냥, 부드럽고 은은한 에너지로 주변을 안정시키는 기운이다냥], personalityTraits=[조용하고 차분한 편이다냥, 가끔은 혼자만의 시간이 필요하다냥, 친밀한 이에게는 애정 표현을 적극적으로 한다냥, 주변의 변화를 민감하게 느낀다냥, 장난감을 가지고 노는 걸 좋아한다냥], petMessage=나랑 같이 창문 밖 구경할래? 난 그게 제일 재밌어!, loveSignal=양송이는 애정 표현을 눈빛으로 자주 한다냥<br>포근하게 몸을 기대며 신뢰를 보여준다냥<br>가까이서 살짝 머리를 비비는 것도 큰 사랑의 표현이다냥, toyRecommendations=[EmojiCardDto(emoji=🍃, name=바람개비, description=신선한 바람 같은 임묘 월의 기운에 잘 맞는 장난감이다냥), EmojiCardDto(emoji=💧, name=물방울 장난감, description=맑은 물 기운을 자극해서 활기를 불어넣는 장난감이다냥), EmojiCardDto(emoji=🪵, name=나무 막대기, description=자연 친화적인 감성을 돋우는 따스한 장난감이다냥)], shareId=null)
PetSajuResponse(requestLog=RequestLogDto(endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={"petName":"양송이","birthDate":"2022-02-10","species":"고양이","gender":"여"}), fortuneMessage=양송이는 임인 년과 경자 일이 만나 부드럽고 독립적인 기운이다냥<br>맑은 물결 같은 임묘 월이 삶에 청량함과 생동감을 더해준다냥<br>따뜻한 햇살을 닮은 양송이의 에너지가 주위를 행복하게 한다냥, petEmoji=🐱, petName=양송이, birthDate=2022년 02월 10일, idealOwner=부드럽게 다가와서 나랑 조용히 놀아주는 사람이 좋아! 낯선 사람도 잘 대해주면 더 좋아!, favoritePlace=창가에 앉아서 햇빛 받으면서 쉴 때가 제일 편해! 푹신한 담요도 좋아!, dailyHabit=아침마다 살짝 이불 속을 헤집는 게 재미있어! 그리고 창밖 구경하는 것도 좋아해!, characteristics=[맑은 물과 강한 불의 조화로운 기운이다냥, 자유로움과 집중력이 균형 잡힌 기운이다냥, 호기심과 온화함이 함께 어우러진 기운이다냥, 내성적이면서도 친근한 느낌을 주는 기운이다냥, 부드럽고 은은한 에너지로 주변을 안정시키는 기운이다냥], personalityTraits=[조용하고 차분한 편이다냥, 가끔은 혼자만의 시간이 필요하다냥, 친밀한 이에게는 애정 표현을 적극적으로 한다냥, 주변의 변화를 민감하게 느낀다냥, 장난감을 가지고 노는 걸 좋아한다냥], petMessage=나랑 같이 창문 밖 구경할래? 난 그게 제일 재밌어!, loveSignal=양송이는 애정 표현을 눈빛으로 자주 한다냥<br>포근하게 몸을 기대며 신뢰를 보여준다냥<br>가까이서 살짝 머리를 비비는 것도 큰 사랑의 표현이다냥, toyRecommendations=[EmojiCardDto(emoji=🍃, name=바람개비, description=신선한 바람 같은 임묘 월의 기운에 잘 맞는 장난감이다냥), EmojiCardDto(emoji=💧, name=물방울 장난감, description=맑은 물 기운을 자극해서 활기를 불어넣는 장난감이다냥), EmojiCardDto(emoji=🪵, name=나무 막대기, description=자연 친화적인 감성을 돋우는 따스한 장난감이다냥)], shareId=null)

    insert 
    into
        request_log
        (created_date, device_id, device_type, endpoint, ip_address, last_modified_date, request_params, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        pet_saju
        (birth_date, created_date, daily_habit, favorite_place, fortune_message, ideal_owner, is_active, last_modified_date, love_signal, pet_emoji, pet_message, pet_name, request_id, species, toy_recommendations_id, view_count, share_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)
==================== END ======================
===============================================
Starting Application using Java 17 with PID 64712 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists pet_saju_characteristics 
       drop constraint if exists FK8fbmtsxa5up3h98qbeklf88mc

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK474uhpeam7tije8l83brqv32c

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists pet_saju_characteristics cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table pet_saju_characteristics (
        characteristic TEXT,
        share_id varchar(255) not null
    )

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists pet_saju_characteristics 
       add constraint FK8fbmtsxa5up3h98qbeklf88mc 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK474uhpeam7tije8l83brqv32c 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.62 seconds (process running for 5.19)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 102
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetSajuRequest(petName=양송이, birthDate=2022-02-10, species=고양이, gender=여)
getAllStemBranch - birthDate: 2022-02-10
User Prompt: 양송이, 2022-02-10, 임인, 임묘, 경자, 음력, 고양이, 여
LLM 호출 소요 시간: 9192ms (9.19초)
Response from LLM: {
"fortune_message": "양송이는 따뜻한 봄바람 같은 생기와 깊은 감성의 기운이 어우러진다냥.<br>활발하면서도 신중한 면모가 공존하는 신비로운 성격이다냥.<br조화로운 기운 덕분에 주변에 평화를 불러오는 힘이 큰 아이이다냥.",
"pet_emoji": "🐱",
"pet_name": "양송이",
"birth_date": "2022년 02월 10일",
"ideal_owner": "나랑 놀아주고 부드럽게 안아주는 사람이 좋아요! 가끔 조용히 이야기해주면 더 좋아요.",
"favorite_place": "높은 책장이나 창문턱 위에 올라가서 바람구경하는 게 좋아요.",
"daily_habit": "낮잠 자다가 갑자기 쏜살같이 돌아다니는 게 습관이에요.",
"characteristics": ["봄바람처럼 생기 가득한 기운이다냥","깊은 관찰력과 부드러운 감성을 품고 있다냥","활발하면서도 신중한 절제된 외향성이다냥","따뜻하고 안정된 포용의 에너지가 흐른다냥","주변의 기운과 잘 조화되며 평화를 만든다냥"],
"personality_traits": ["구석에 장난감을 숨기는 습관이다냥","갑자기 빠르게 뛰어다니는 타입이다냥","낮에 햇볕 아래에서 느긋하게 쉬는 걸 좋아한다냥","새로운 물건이나 냄새에 호기심을 보인다냥","사람 품에 파고들어 편안함을 찾는다냥"],
"pet_message": "나랑 같이 놀면 정말 재미있어요!",
"love_signal": "양송이는 살짝 고개를 숙이며 부드럽게 눈을 감는다냥.<br>조용히 다가와 몸을 살짝 비비는 것이 사랑의 신호이다냥.<br>손길을 좋아하지만 강한 접촉은 조심스러워하는 다정한 마음이다냥.",
"toy_recommendations": [
{"emoji": "🧶", "name": "털실 공", "description": "부드러운 질감과 따뜻한 느낌이 양송이의 포용 에너지와 잘 맞는다냥."},
{"emoji": "🐭", "name": "작은 쥐 인형", "description": "활발한 탐색 본능을 자극하는 생생한 움직임의 장난감이다냥."},
{"emoji": "🌿", "name": "캣닢 쿠션", "description": "감성을 일깨우는 은은한 향기로 편안함을 더해주는 아이템이다냥."}
]
}
PetSajuResponse(requestLog=null, fortuneMessage=양송이는 따뜻한 봄바람 같은 생기와 깊은 감성의 기운이 어우러진다냥.<br>활발하면서도 신중한 면모가 공존하는 신비로운 성격이다냥.<br조화로운 기운 덕분에 주변에 평화를 불러오는 힘이 큰 아이이다냥., petEmoji=🐱, petName=양송이, birthDate=2022년 02월 10일, idealOwner=나랑 놀아주고 부드럽게 안아주는 사람이 좋아요! 가끔 조용히 이야기해주면 더 좋아요., favoritePlace=높은 책장이나 창문턱 위에 올라가서 바람구경하는 게 좋아요., dailyHabit=낮잠 자다가 갑자기 쏜살같이 돌아다니는 게 습관이에요., characteristics=[봄바람처럼 생기 가득한 기운이다냥, 깊은 관찰력과 부드러운 감성을 품고 있다냥, 활발하면서도 신중한 절제된 외향성이다냥, 따뜻하고 안정된 포용의 에너지가 흐른다냥, 주변의 기운과 잘 조화되며 평화를 만든다냥], personalityTraits=[구석에 장난감을 숨기는 습관이다냥, 갑자기 빠르게 뛰어다니는 타입이다냥, 낮에 햇볕 아래에서 느긋하게 쉬는 걸 좋아한다냥, 새로운 물건이나 냄새에 호기심을 보인다냥, 사람 품에 파고들어 편안함을 찾는다냥], petMessage=나랑 같이 놀면 정말 재미있어요!, loveSignal=양송이는 살짝 고개를 숙이며 부드럽게 눈을 감는다냥.<br>조용히 다가와 몸을 살짝 비비는 것이 사랑의 신호이다냥.<br>손길을 좋아하지만 강한 접촉은 조심스러워하는 다정한 마음이다냥., toyRecommendations=[EmojiCardDto(emoji=🧶, name=털실 공, description=부드러운 질감과 따뜻한 느낌이 양송이의 포용 에너지와 잘 맞는다냥.), EmojiCardDto(emoji=🐭, name=작은 쥐 인형, description=활발한 탐색 본능을 자극하는 생생한 움직임의 장난감이다냥.), EmojiCardDto(emoji=🌿, name=캣닢 쿠션, description=감성을 일깨우는 은은한 향기로 편안함을 더해주는 아이템이다냥.)], shareId=null)
PetSajuResponse(requestLog=RequestLogDto(endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={"petName":"양송이","birthDate":"2022-02-10","species":"고양이","gender":"여"}), fortuneMessage=양송이는 따뜻한 봄바람 같은 생기와 깊은 감성의 기운이 어우러진다냥.<br>활발하면서도 신중한 면모가 공존하는 신비로운 성격이다냥.<br조화로운 기운 덕분에 주변에 평화를 불러오는 힘이 큰 아이이다냥., petEmoji=🐱, petName=양송이, birthDate=2022년 02월 10일, idealOwner=나랑 놀아주고 부드럽게 안아주는 사람이 좋아요! 가끔 조용히 이야기해주면 더 좋아요., favoritePlace=높은 책장이나 창문턱 위에 올라가서 바람구경하는 게 좋아요., dailyHabit=낮잠 자다가 갑자기 쏜살같이 돌아다니는 게 습관이에요., characteristics=[봄바람처럼 생기 가득한 기운이다냥, 깊은 관찰력과 부드러운 감성을 품고 있다냥, 활발하면서도 신중한 절제된 외향성이다냥, 따뜻하고 안정된 포용의 에너지가 흐른다냥, 주변의 기운과 잘 조화되며 평화를 만든다냥], personalityTraits=[구석에 장난감을 숨기는 습관이다냥, 갑자기 빠르게 뛰어다니는 타입이다냥, 낮에 햇볕 아래에서 느긋하게 쉬는 걸 좋아한다냥, 새로운 물건이나 냄새에 호기심을 보인다냥, 사람 품에 파고들어 편안함을 찾는다냥], petMessage=나랑 같이 놀면 정말 재미있어요!, loveSignal=양송이는 살짝 고개를 숙이며 부드럽게 눈을 감는다냥.<br>조용히 다가와 몸을 살짝 비비는 것이 사랑의 신호이다냥.<br>손길을 좋아하지만 강한 접촉은 조심스러워하는 다정한 마음이다냥., toyRecommendations=[EmojiCardDto(emoji=🧶, name=털실 공, description=부드러운 질감과 따뜻한 느낌이 양송이의 포용 에너지와 잘 맞는다냥.), EmojiCardDto(emoji=🐭, name=작은 쥐 인형, description=활발한 탐색 본능을 자극하는 생생한 움직임의 장난감이다냥.), EmojiCardDto(emoji=🌿, name=캣닢 쿠션, description=감성을 일깨우는 은은한 향기로 편안함을 더해주는 아이템이다냥.)], shareId=null)

    insert 
    into
        request_log
        (created_date, device_id, device_type, endpoint, ip_address, last_modified_date, request_params, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        pet_saju
        (birth_date, created_date, daily_habit, favorite_place, fortune_message, ideal_owner, is_active, last_modified_date, love_signal, pet_emoji, pet_message, pet_name, request_id, species, toy_recommendations_id, view_count, share_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)
==================== END ======================
===============================================
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 102
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetSajuRequest(petName=양송이, birthDate=2022-02-10, species=고양이, gender=여)
getAllStemBranch - birthDate: 2022-02-10
User Prompt: 양송이, 2022-02-10, 임인, 임묘, 경자, 음력, 고양이, 여
LLM 호출 소요 시간: 8795ms (8.80초)
Response from LLM: {
"fortune_message": "양송이는 따뜻한 봄바람 같은 기운을 타고났다냥<br>부드러운 물결과 밝은 빛이 조화를 이루는 묘한 매력이다냥<br>모든 기운이 유연하게 흘러 안온한 기품을 지녔구나냥",
"pet_emoji": "🐱",
"pet_name": "양송이",
"birth_date": "2022년 02월 10일",
"ideal_owner": "나는 다정하고 조용하게 나를 보살펴주는 주인이 좋아요. 같이 있는 시간이 많으면 더 행복해요.",
"favorite_place": "높은 선반이나 창문턱 위에서 바깥 구경하는 게 좋아요. 따뜻한 이불도 내 자리예요.",
"daily_habit": "낮에는 주로 햇살 아래서 졸다가 갑자기 창밖을 바라보고 뛰어놀아요.",
"characteristics": ["봄바람처럼 부드럽고 활기찬 기운이다냥", "맑은 물 흐르듯 감성이 깊다냥", "밝고 따스한 빛과 부드러운 바람이 함께하는 조화로운 기운이다냥", "내면에 안정과 포용이 깃든 기운이다냥", "자연스러운 탐색 본능과 온화함이 어우러진다냥"],
"personality_traits": ["햇살 아래서 느긋하게 낮잠 자는 타입이다냥", "갑자기 활발히 뛰며 사냥감을 쫓는 본능이다냥", "낯선 소리에 민감하게 반응하는 예민함이다냥", "주인에게 애교를 부려 마음을 여는 성향이다냥", "조용한 때와 활발한 때를 자연스럽게 오가는 균형점이다냥"],
"pet_message": "이불 속에서 쏙 들어가는 거 정말 좋아해요.",
"love_signal": "양송이는 사랑을 부드럽게 속삭인다냥<br>손길을 느끼면 살짝 머리를 내민다냥<br>조용한 관심으로 마음을 전하는 따뜻한 신호이다냥",
"toy_recommendations": [
{"emoji": "🐭", "name": "털실 공", "description": "부드럽고 가벼운 소재가 양송이의 부드러운 기운과 잘 맞는다냥"},
{"emoji": "🪶", "name": "깃털 낚싯대", "description": "활발하게 움직이며 탐험심을 자극하는 놀이이다냥"},
{"emoji": "🧸", "name": "포근한 인형", "description": "편안함과 안정감 주는 장난감이라 정신적 포용에 좋다냥"}
]
}
PetSajuResponse(requestLog=null, fortuneMessage=양송이는 따뜻한 봄바람 같은 기운을 타고났다냥<br>부드러운 물결과 밝은 빛이 조화를 이루는 묘한 매력이다냥<br>모든 기운이 유연하게 흘러 안온한 기품을 지녔구나냥, petEmoji=🐱, petName=양송이, birthDate=2022년 02월 10일, idealOwner=나는 다정하고 조용하게 나를 보살펴주는 주인이 좋아요. 같이 있는 시간이 많으면 더 행복해요., favoritePlace=높은 선반이나 창문턱 위에서 바깥 구경하는 게 좋아요. 따뜻한 이불도 내 자리예요., dailyHabit=낮에는 주로 햇살 아래서 졸다가 갑자기 창밖을 바라보고 뛰어놀아요., characteristics=[봄바람처럼 부드럽고 활기찬 기운이다냥, 맑은 물 흐르듯 감성이 깊다냥, 밝고 따스한 빛과 부드러운 바람이 함께하는 조화로운 기운이다냥, 내면에 안정과 포용이 깃든 기운이다냥, 자연스러운 탐색 본능과 온화함이 어우러진다냥], personalityTraits=[햇살 아래서 느긋하게 낮잠 자는 타입이다냥, 갑자기 활발히 뛰며 사냥감을 쫓는 본능이다냥, 낯선 소리에 민감하게 반응하는 예민함이다냥, 주인에게 애교를 부려 마음을 여는 성향이다냥, 조용한 때와 활발한 때를 자연스럽게 오가는 균형점이다냥], petMessage=이불 속에서 쏙 들어가는 거 정말 좋아해요., loveSignal=양송이는 사랑을 부드럽게 속삭인다냥<br>손길을 느끼면 살짝 머리를 내민다냥<br>조용한 관심으로 마음을 전하는 따뜻한 신호이다냥, toyRecommendations=[EmojiCardDto(emoji=🐭, name=털실 공, description=부드럽고 가벼운 소재가 양송이의 부드러운 기운과 잘 맞는다냥), EmojiCardDto(emoji=🪶, name=깃털 낚싯대, description=활발하게 움직이며 탐험심을 자극하는 놀이이다냥), EmojiCardDto(emoji=🧸, name=포근한 인형, description=편안함과 안정감 주는 장난감이라 정신적 포용에 좋다냥)], shareId=null)
PetSajuResponse(requestLog=RequestLogDto(endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={"petName":"양송이","birthDate":"2022-02-10","species":"고양이","gender":"여"}), fortuneMessage=양송이는 따뜻한 봄바람 같은 기운을 타고났다냥<br>부드러운 물결과 밝은 빛이 조화를 이루는 묘한 매력이다냥<br>모든 기운이 유연하게 흘러 안온한 기품을 지녔구나냥, petEmoji=🐱, petName=양송이, birthDate=2022년 02월 10일, idealOwner=나는 다정하고 조용하게 나를 보살펴주는 주인이 좋아요. 같이 있는 시간이 많으면 더 행복해요., favoritePlace=높은 선반이나 창문턱 위에서 바깥 구경하는 게 좋아요. 따뜻한 이불도 내 자리예요., dailyHabit=낮에는 주로 햇살 아래서 졸다가 갑자기 창밖을 바라보고 뛰어놀아요., characteristics=[봄바람처럼 부드럽고 활기찬 기운이다냥, 맑은 물 흐르듯 감성이 깊다냥, 밝고 따스한 빛과 부드러운 바람이 함께하는 조화로운 기운이다냥, 내면에 안정과 포용이 깃든 기운이다냥, 자연스러운 탐색 본능과 온화함이 어우러진다냥], personalityTraits=[햇살 아래서 느긋하게 낮잠 자는 타입이다냥, 갑자기 활발히 뛰며 사냥감을 쫓는 본능이다냥, 낯선 소리에 민감하게 반응하는 예민함이다냥, 주인에게 애교를 부려 마음을 여는 성향이다냥, 조용한 때와 활발한 때를 자연스럽게 오가는 균형점이다냥], petMessage=이불 속에서 쏙 들어가는 거 정말 좋아해요., loveSignal=양송이는 사랑을 부드럽게 속삭인다냥<br>손길을 느끼면 살짝 머리를 내민다냥<br>조용한 관심으로 마음을 전하는 따뜻한 신호이다냥, toyRecommendations=[EmojiCardDto(emoji=🐭, name=털실 공, description=부드럽고 가벼운 소재가 양송이의 부드러운 기운과 잘 맞는다냥), EmojiCardDto(emoji=🪶, name=깃털 낚싯대, description=활발하게 움직이며 탐험심을 자극하는 놀이이다냥), EmojiCardDto(emoji=🧸, name=포근한 인형, description=편안함과 안정감 주는 장난감이라 정신적 포용에 좋다냥)], shareId=null)

    insert 
    into
        request_log
        (created_date, device_id, device_type, endpoint, ip_address, last_modified_date, request_params, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        pet_saju
        (birth_date, created_date, daily_habit, favorite_place, fortune_message, ideal_owner, is_active, last_modified_date, love_signal, pet_emoji, pet_message, pet_name, request_id, species, toy_recommendations_id, view_count, share_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_characteristics
        (share_id, characteristic) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)
==================== END ======================
===============================================
Starting Application using Java 17 with PID 2288 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "deploy"

    alter table if exists pet_saju 
       add column request_id varchar(255)

    create table request_log (
        id varchar(255) not null,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        device_id varchar(100),
        device_type varchar(20),
        endpoint varchar(100),
        ip_address varchar(50),
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.id is
        'ID'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.request_params is
        '요청 파라미터'

    alter table if exists pet_saju 
       drop constraint if exists UK_1dhqaeqwi5tq3750sgbryefc7

    alter table if exists pet_saju 
       add constraint UK_1dhqaeqwi5tq3750sgbryefc7 unique (request_id)

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_saju 
       add constraint FK474uhpeam7tije8l83brqv32c 
       foreign key (request_id) 
       references request_log
Initializing Eureka in region us-east-1
Resolving eureka endpoints via configuration
The availability zone for the given region us-east-1 are [defaultZone]
Config resolved to [AwsEndpoint{ serviceUrl='http://jaebum7396.iptime.org:9999/eureka/', region='us-east-1', zone='defaultZone'}]
Local zone=defaultZone; resolved to: [AwsEndpoint{ serviceUrl='http://jaebum7396.iptime.org:9999/eureka/', region='us-east-1', zone='defaultZone'}]
Disable delta property : false
Single vip registry refresh property : null
Force full registry fetch : false
Application is null : false
Registered Applications size is zero : true
Application version is -1: true
Getting all instance registry info from the eureka server
Ending a session and starting anew
Pinning to endpoint null
The response status is 200
Got full registry with apps hashcode UP_8_
The total number of all instances in the client now is 8
Starting heartbeat executor: renew interval is: 30
InstanceInfoReplicator onDemand update allowed rate per min is 4
Discovery Client initialized at timestamp 1746560919150 with initial instances count: 8
Saw local status change event StatusChangeEvent [timestamp=1746560919154, current=UP, previous=STARTING]
Executing on-demand update of local InstanceInfo
Canceling the latest scheduled update, it will be rescheduled at the end of on demand update
DiscoveryClient_PET-FORTUNE/jaebeom:pet-fortune:8004: registering service...
Ending a session and starting anew
Pinning to endpoint null
DiscoveryClient_PET-FORTUNE/jaebeom:pet-fortune:8004 - registration status: 204
Started Application in 4.858 seconds (process running for 5.384)
Got delta update with apps hashcode UP_9_
Added instance jaebeom:pet-fortune:8004 to the existing apps in region null
The total number of instances fetched by the delta processor : 1
The total number of all instances in the client now is 9
Completed cache refresh task for discovery. All Apps hash code is Local region apps hashcode: UP_9_, is fetching remote regions? false 
DiscoveryClient_PET-FORTUNE/jaebeom:pet-fortune:8004 - Heartbeat status: 200
Saw local status change event StatusChangeEvent [timestamp=1746560953361, current=DOWN, previous=UP]
Executing on-demand update of local InstanceInfo
Canceling the latest scheduled update, it will be rescheduled at the end of on demand update
DiscoveryClient_PET-FORTUNE/jaebeom:pet-fortune:8004: registering service...
DiscoveryClient_PET-FORTUNE/jaebeom:pet-fortune:8004 - registration status: 204
Shutting down DiscoveryClient ...
Unregistering ...
DiscoveryClient_PET-FORTUNE/jaebeom:pet-fortune:8004 - deregister  status: 200
Completed shut down of DiscoveryClient
Starting Application using Java 17 with PID 70480 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "deploy"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists pet_saju_characteristics 
       drop constraint if exists FK8fbmtsxa5up3h98qbeklf88mc

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK474uhpeam7tije8l83brqv32c

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists pet_saju_characteristics cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table pet_saju_characteristics (
        characteristic TEXT,
        share_id varchar(255) not null
    )

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists pet_saju_characteristics 
       add constraint FK8fbmtsxa5up3h98qbeklf88mc 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK474uhpeam7tije8l83brqv32c 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Initializing Eureka in region us-east-1
Resolving eureka endpoints via configuration
The availability zone for the given region us-east-1 are [defaultZone]
Config resolved to [AwsEndpoint{ serviceUrl='http://jaebum7396.iptime.org:9999/eureka/', region='us-east-1', zone='defaultZone'}]
Local zone=defaultZone; resolved to: [AwsEndpoint{ serviceUrl='http://jaebum7396.iptime.org:9999/eureka/', region='us-east-1', zone='defaultZone'}]
Disable delta property : false
Single vip registry refresh property : null
Force full registry fetch : false
Application is null : false
Registered Applications size is zero : true
Application version is -1: true
Getting all instance registry info from the eureka server
Ending a session and starting anew
Pinning to endpoint null
The response status is 200
Got full registry with apps hashcode UP_9_
The total number of all instances in the client now is 9
Starting heartbeat executor: renew interval is: 30
InstanceInfoReplicator onDemand update allowed rate per min is 4
Discovery Client initialized at timestamp 1746560963022 with initial instances count: 9
Saw local status change event StatusChangeEvent [timestamp=1746560963025, current=UP, previous=STARTING]
Executing on-demand update of local InstanceInfo
Canceling the latest scheduled update, it will be rescheduled at the end of on demand update
DiscoveryClient_PET-FORTUNE/jaebeom:pet-fortune:8004: registering service...
Ending a session and starting anew
Pinning to endpoint null
DiscoveryClient_PET-FORTUNE/jaebeom:pet-fortune:8004 - registration status: 204
Started Application in 4.992 seconds (process running for 5.518)
Saw local status change event StatusChangeEvent [timestamp=1746560987173, current=DOWN, previous=UP]
Executing on-demand update of local InstanceInfo
Canceling the latest scheduled update, it will be rescheduled at the end of on demand update
DiscoveryClient_PET-FORTUNE/jaebeom:pet-fortune:8004: registering service...
DiscoveryClient_PET-FORTUNE/jaebeom:pet-fortune:8004 - registration status: 204
Shutting down DiscoveryClient ...
Starting Application using Java 17 with PID 40852 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists keyword 
       drop constraint if exists FKqfx3nkhhtjpj873oh4mpvpufp

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK5m212pmtdgce0fme2c0if8uxy

    alter table if exists pet_saju 
       drop constraint if exists FK474uhpeam7tije8l83brqv32c

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists keyword cascade

    drop table if exists mbtistyle_card cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table keyword (
        keyword TEXT,
        share_id varchar(255) not null
    )

    create table mbtistyle_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        type varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table mbtistyle_card is
        'Summary&설명 카드'

    comment on column mbtistyle_card.created_date is
        '생성 일시'

    comment on column mbtistyle_card.last_modified_date is
        '수정 일시'

    comment on column mbtistyle_card.description is
        'description'

    comment on column mbtistyle_card.type is
        'summary'

    comment on column mbtistyle_card.id is
        'ID'

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        mbti_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        method varchar(10),
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        referer varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.method is
        'HTTP 메소드'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.referer is
        'referer'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists keyword 
       add constraint FKqfx3nkhhtjpj873oh4mpvpufp 
       foreign key (share_id) 
       references mbtistyle_card

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK5m212pmtdgce0fme2c0if8uxy 
       foreign key (mbti_id) 
       references mbtistyle_card

    alter table if exists pet_saju 
       add constraint FK474uhpeam7tije8l83brqv32c 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 5.173 seconds (process running for 5.79)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 102
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(method=POST, referer=http://localhost:8004/swagger-ui/index.html, endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetSajuRequest(petName=양송이, birthDate=2022-02-10, species=고양이, gender=여)
getAllStemBranch - birthDate: 2022-02-10
LLM 호출 소요 시간: 13076ms (13.08초)
handleRuntimeException
java.lang.NullPointerException: Cannot invoke "com.codism.domain.saju.model.dto.response.pet.MBTIStyleCardDto.toEntity()" because "this.mbtiStyle" is null
	at com.codism.domain.saju.model.dto.response.pet.PetSajuResponse.toEntity(PetSajuResponse.java:53)
	at com.codism.service.pet.PetSajuService.saveSaju(PetSajuService.java:90)
	at com.codism.service.pet.PetSajuService.generateSaju(PetSajuService.java:83)
	at com.codism.controller.pet.PetSajuController.generateSaju(PetSajuController.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.codism.config.ContentCachingFilter.doFilterInternal(ContentCachingFilter.java:27)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
Starting Application using Java 17 with PID 75124 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists keyword 
       drop constraint if exists FKqfx3nkhhtjpj873oh4mpvpufp

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK5m212pmtdgce0fme2c0if8uxy

    alter table if exists pet_saju 
       drop constraint if exists FK474uhpeam7tije8l83brqv32c

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists keyword cascade

    drop table if exists mbtistyle_card cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table keyword (
        keyword TEXT,
        share_id varchar(255) not null
    )

    create table mbtistyle_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        type varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table mbtistyle_card is
        'Summary&설명 카드'

    comment on column mbtistyle_card.created_date is
        '생성 일시'

    comment on column mbtistyle_card.last_modified_date is
        '수정 일시'

    comment on column mbtistyle_card.description is
        'description'

    comment on column mbtistyle_card.type is
        'summary'

    comment on column mbtistyle_card.id is
        'ID'

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        mbti_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        method varchar(10),
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        referer varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.method is
        'HTTP 메소드'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.referer is
        'referer'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists keyword 
       add constraint FKqfx3nkhhtjpj873oh4mpvpufp 
       foreign key (share_id) 
       references mbtistyle_card

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK5m212pmtdgce0fme2c0if8uxy 
       foreign key (mbti_id) 
       references mbtistyle_card

    alter table if exists pet_saju 
       add constraint FK474uhpeam7tije8l83brqv32c 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.858 seconds (process running for 5.452)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 102
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(method=POST, referer=http://localhost:8004/swagger-ui/index.html, endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetSajuRequest(petName=양송이, birthDate=2022-02-10, species=고양이, gender=여)
getAllStemBranch - birthDate: 2022-02-10
LLM 호출 소요 시간: 12242ms (12.24초)
Response from LLM: {
"fortune_message": "양송이는 생기 가득한 봄바람처럼 활기를 품었지만, 깊은 물결 같은 감성도 함께하는 아이이다냥.<br>따뜻한 햇살과 차가운 달빛이 조화롭게 어우러져 어느 순간에도 균형 잡힌 기운이다냥.<br>사냥 본능과 탐색 욕구가 뛰어나면서도 포근한 안정감을 주는 복합적인 성격이다냥.",
"pet_emoji": "🐱",
"pet_name": "양송이",
"birth_date": "2022년 02월 10일",
"ideal_owner": "나랑 같이 놀아주고 부드럽게 쓰다듬어 주는 사람이 좋아요. 갑자기 까칠해질 때도 이해해 주는 그런 주인이 최고예요.",
"favorite_place": "따뜻한 담요 위나 높은 선반 위에 올라가 있는 게 제일 마음 편해요. 햇빛이 잘 드는 창가도 좋아요.",
"daily_habit": "낮에는 꼭 한참 자고 오후에는 갑자기 쏜살같이 달리기도 해요. 장난감 보면 눈이 반짝거려요.",
"personality_traits": [
"생기 가득한 활력과 부드러운 감성의 조화이다냥",
"탐색 본능이 강해 새로운 곳을 좋아하는 기질이다냥",
"갑작스러운 에너지 발산이 특징인 활발한 면이다냥",
"때로는 차분하고 신중한 면모도 보여 균형감이 뛰어나다냥",
"사랑을 표현할 때 살포시 다가와 몸을 비비는 애교가 있다냥"
],
"mbtiStyle": [
{
"type": "ENFP",
"keywords": ["활기찬", "호기심 많은", "에너지 넘치는"],
"description": "양송이는 생기 넘치는 봄바람처럼 새로운 것을 탐색하는 본능이 강하다냥. 고양이답게 자유로운 영혼이지만 가끔은 포근한 안식처도 찾는다냥."
}
],
"pet_message": "나는 높은 곳 올라가는 거랑 깜짝 놀랄 때 뛰는 게 좋아요!",
"love_signal": "사랑을 줄 때 살짝 몸을 비비며 다가오는 게 양송이의 표시이다냥.<br>꼬리를 부드럽게 흔들거나 눈을 느리게 감는 것도 깊은 애정의 신호이다냥.<br>가끔은 머리를 내밀어 애교를 부리는 게 진심 어린 마음이다냥.",
"toy_recommendations": [
{"emoji": "🐭", "name": "깃털 달린 쥐 장난감", "reason": "생기와 탐색 본능이 강한 양송이에게 날카로운 깃털이 달린 쥐는 최고의 도전이다냥."},
{"emoji": "🪀", "name": "작은 공", "reason": "갑작스러운 에너지 발산 때 쫓고 잡으며 스트레스 해소에 좋은 놀잇감이다냥."},
{"emoji": "🧸", "name": "폭신한 인형", "reason": "안정과 포근함을 주는 폭신한 재질이 양송이의 부드러운 감성에 딱 맞다냥."}
]
}
handleRuntimeException
java.lang.NullPointerException: Cannot invoke "com.codism.domain.saju.model.dto.response.pet.MBTIStyleCardDto.toEntity()" because "this.mbtiStyle" is null
	at com.codism.domain.saju.model.dto.response.pet.PetSajuResponse.toEntity(PetSajuResponse.java:53)
	at com.codism.service.pet.PetSajuService.saveSaju(PetSajuService.java:90)
	at com.codism.service.pet.PetSajuService.generateSaju(PetSajuService.java:83)
	at com.codism.controller.pet.PetSajuController.generateSaju(PetSajuController.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.codism.config.ContentCachingFilter.doFilterInternal(ContentCachingFilter.java:27)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
Starting Application using Java 17 with PID 69044 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists keyword 
       drop constraint if exists FKqfx3nkhhtjpj873oh4mpvpufp

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK5m212pmtdgce0fme2c0if8uxy

    alter table if exists pet_saju 
       drop constraint if exists FK474uhpeam7tije8l83brqv32c

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists keyword cascade

    drop table if exists mbtistyle_card cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table keyword (
        keyword TEXT,
        share_id varchar(255) not null
    )

    create table mbtistyle_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        type varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table mbtistyle_card is
        'Summary&설명 카드'

    comment on column mbtistyle_card.created_date is
        '생성 일시'

    comment on column mbtistyle_card.last_modified_date is
        '수정 일시'

    comment on column mbtistyle_card.description is
        'description'

    comment on column mbtistyle_card.type is
        'summary'

    comment on column mbtistyle_card.id is
        'ID'

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        mbti_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        method varchar(10),
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        referer varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.method is
        'HTTP 메소드'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.referer is
        'referer'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists keyword 
       add constraint FKqfx3nkhhtjpj873oh4mpvpufp 
       foreign key (share_id) 
       references mbtistyle_card

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK5m212pmtdgce0fme2c0if8uxy 
       foreign key (mbti_id) 
       references mbtistyle_card

    alter table if exists pet_saju 
       add constraint FK474uhpeam7tije8l83brqv32c 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.865 seconds (process running for 5.53)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 102
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(method=POST, referer=http://localhost:8004/swagger-ui/index.html, endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetSajuRequest(petName=양송이, birthDate=2022-02-10, species=고양이, gender=여)
getAllStemBranch - birthDate: 2022-02-10
LLM 호출 소요 시간: 12212ms (12.21초)
Response from LLM: {
  "fortune_message": "양송이는 부드러운 봄바람과 같은 온화함과 활발한 탐색의 기운이 어우러진다냥.<br>이런 조화는 긴장 속에서도 깊은 관찰력과 날카로운 판단을 동시에 발휘하게 만든다냥.<br>그래서 따뜻하면서도 조심스러운 모습을 보여주는 특별한 아이이다냥.",
  "pet_emoji": "🐱",
  "pet_name": "양송이",
  "birth_date": "2022년 02월 10일",
  "ideal_owner": "저는 얌전히 놀아주면서도 때로는 같이 숨바꼭질 하는 분을 좋아해요.",
  "favorite_place": "높은 캣타워랑 따뜻한 전자기기 위가 참 좋아요.",
  "daily_habit": "숨은 곳에서 갑자기 튀어나와서 장난치는 걸 좋아해요.",
  "personality_traits": [
    "호기심 가득한 눈빛으로 주변을 탐험한다냥",
    "갑작스러운 에너지 폭발로 활발히 뛰어노는 타입이다냥",
    "새로운 소리를 예민하게 감지하는 민감함이다냥",
    "편안할 때는 조용히 무릎에 앉아있는 포근함이다냥",
    "놀잇감을 구석에 숨겨 자신의 공간을 지키는 독립성이다냥"
  ],
  "mbtiStyle": {
    "type": "ENFP",
    "keywords": ["호기심 많은", "활발한 놀이", "숨바꼭질 루틴"],
    "description": "양송이는 활발한 탐색 본능과 부드러운 감성을 함께 가진 냥이이다냥. 신중하되 외향적인 에너지로 상황을 즐기는 스타일이다냥."
  },
  "pet_message": "냥냥~ 여기서 놀면 너무 재미있어요!",
  "love_signal": "양송이는 기분 좋을 때 살며시 몸을 비비면서 애정을 표현한다냥.<br>조심스러운 접촉과 부드러운 몸놀림으로 마음을 전한다냥.<br>그리고 졸릴 때 살며시 다가와 곁에 머무는 것이 사랑의 표시이다냥.",
  "toy_recommendations": [
    {
      "emoji": "🎋",
      "name": "대나무 낚싯대",
      "reason": "생기 넘치는 탐색 본능을 자극하는 장난감이다냥. 움직임이 자연스럽고 가벼워서 뛰어노는데 잘 맞는다냥."
    },
    {
      "emoji": "🧶",
      "name": "부드러운 털실볼",
      "reason": "따뜻한 감성을 품은 양송이에게 포근한 촉감으로 안정을 주는 장난감이다냥."
    },
    {
      "emoji": "🎵",
      "name": "작은 종소리 장난감",
      "reason": "예민함을 살려주는 소리가 있어 놀 때 집중력을 높이는 재미난 아이템이다냥."
    }
  ]
}
handleRuntimeException
java.lang.NullPointerException: Cannot invoke "com.codism.domain.saju.model.dto.response.pet.MBTIStyleCardDto.toEntity()" because "this.mbtiStyle" is null
	at com.codism.domain.saju.model.dto.response.pet.PetSajuResponse.toEntity(PetSajuResponse.java:53)
	at com.codism.service.pet.PetSajuService.saveSaju(PetSajuService.java:90)
	at com.codism.service.pet.PetSajuService.generateSaju(PetSajuService.java:83)
	at com.codism.controller.pet.PetSajuController.generateSaju(PetSajuController.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.codism.config.ContentCachingFilter.doFilterInternal(ContentCachingFilter.java:27)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
Starting Application using Java 17 with PID 33848 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists keyword 
       drop constraint if exists FKqfx3nkhhtjpj873oh4mpvpufp

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK5m212pmtdgce0fme2c0if8uxy

    alter table if exists pet_saju 
       drop constraint if exists FK474uhpeam7tije8l83brqv32c

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists keyword cascade

    drop table if exists mbtistyle_card cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table keyword (
        keyword TEXT,
        share_id varchar(255) not null
    )

    create table mbtistyle_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        type varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table mbtistyle_card is
        'Summary&설명 카드'

    comment on column mbtistyle_card.created_date is
        '생성 일시'

    comment on column mbtistyle_card.last_modified_date is
        '수정 일시'

    comment on column mbtistyle_card.description is
        'description'

    comment on column mbtistyle_card.type is
        'summary'

    comment on column mbtistyle_card.id is
        'ID'

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        mbti_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        method varchar(10),
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        referer varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.method is
        'HTTP 메소드'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.referer is
        'referer'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists keyword 
       add constraint FKqfx3nkhhtjpj873oh4mpvpufp 
       foreign key (share_id) 
       references mbtistyle_card

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK5m212pmtdgce0fme2c0if8uxy 
       foreign key (mbti_id) 
       references mbtistyle_card

    alter table if exists pet_saju 
       add constraint FK474uhpeam7tije8l83brqv32c 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.766 seconds (process running for 5.365)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 102
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(method=POST, referer=http://localhost:8004/swagger-ui/index.html, endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetSajuRequest(petName=양송이, birthDate=2022-02-10, species=고양이, gender=여)
getAllStemBranch - birthDate: 2022-02-10
LLM 호출 소요 시간: 13330ms (13.33초)
Response from LLM: {
  "fortune_message": "양송이는 봄바람과 같은 생기로운 기운이 가득한 냥이다냥.<br>온화한 햇살과 물결이 조화롭게 흐르는 듯한 감성이다냥.<br>신중하면서도 탐색 본능이 강한 복합적인 성향이다냥.",
  "pet_emoji": "🐱",
  "pet_name": "양송이",
  "birth_date": "2022년 02월 10일",
  "ideal_owner": "나랑 같이 조용히 놀고 부드럽게 다가와주는 사람이 좋아요. 가끔씩 다정한 말도 해주면 정말 기분 좋아요.",
  "favorite_place": "높은 곳에 올라가서 밖을 바라보는 게 좋아요. 따뜻한 담요 위에서 낮잠 자는 것도 최고예요.",
  "daily_habit": "장난감 있으면 혼자 조용히 갖고 놀기도 하고, 갑자기 뛰면서 놀다가 또 잠깐 쉬어 가요. 그리고 손길 좋아해서 자주 다가가요.",
  "personality_traits": [
    "생기 발랄하지만 때로는 느긋하고 탐색하는 기운이다냥",
    "조용한 순간에도 예민한 관찰력이 빛나는 타입이다냥",
    "갑자기 활발히 움직였다가도 금세 차분해지는 기질이다냥",
    "부드러운 손길을 좋아하며 순응적인 태도를 보이는 냥이다냥",
    "낮에도 밤에도 균형 잡힌 에너지 흐름을 가진 냥이다냥"
  ],
  "mbtiStyle": {
    "type": "ISFP",
    "keywords": ["감성적 탐색", "부드러운 관찰", "균형 잡힌 에너지"],
    "description": "양송이는 부드러운 감성과 적절한 활력이 조화를 이룬 냥이다냥. 주변을 세심히 느끼면서도 조용한 탐색을 즐긴다냥."
  },
  "pet_message": "나랑 놀아줘! 높은 데 올라가면 기분 좋아요.",
  "love_signal": "조용한 다가옴으로 사랑을 전하는 냥이다냥.<br>부드러운 눈빛과 낮은 울음으로 마음을 표현한다냥.<br>가끔 다가와 손길을 기다리는 신호를 보여줌이다냥.",
  "toy_recommendations": [
    {"emoji": "🐭", "name": "부드러운 마우스 인형", "reason": "양송이의 탐색 본능을 만족시키는 생기로운 감각의 장난감이다냥."},
    {"emoji": "🧶", "name": "가벼운 실타래", "reason": "움직임과 조용한 순간의 균형을 잡아주는 완벽한 놀잇감이다냥."},
    {"emoji": "🌿", "name": "자연 소재 캣닢 토이", "reason": "부드러운 에너지와 향긋함이 어우러져 스트레스 해소에 도움이다냥."}
  ]
}
PetSajuResponse(requestLog=null, fortuneMessage=양송이는 봄바람과 같은 생기로운 기운이 가득한 냥이다냥.<br>온화한 햇살과 물결이 조화롭게 흐르는 듯한 감성이다냥.<br>신중하면서도 탐색 본능이 강한 복합적인 성향이다냥., petEmoji=🐱, petName=양송이, birthDate=2022년 02월 10일, idealOwner=나랑 같이 조용히 놀고 부드럽게 다가와주는 사람이 좋아요. 가끔씩 다정한 말도 해주면 정말 기분 좋아요., favoritePlace=높은 곳에 올라가서 밖을 바라보는 게 좋아요. 따뜻한 담요 위에서 낮잠 자는 것도 최고예요., dailyHabit=장난감 있으면 혼자 조용히 갖고 놀기도 하고, 갑자기 뛰면서 놀다가 또 잠깐 쉬어 가요. 그리고 손길 좋아해서 자주 다가가요., mbtiStyle=null, personalityTraits=[생기 발랄하지만 때로는 느긋하고 탐색하는 기운이다냥, 조용한 순간에도 예민한 관찰력이 빛나는 타입이다냥, 갑자기 활발히 움직였다가도 금세 차분해지는 기질이다냥, 부드러운 손길을 좋아하며 순응적인 태도를 보이는 냥이다냥, 낮에도 밤에도 균형 잡힌 에너지 흐름을 가진 냥이다냥], petMessage=나랑 놀아줘! 높은 데 올라가면 기분 좋아요., loveSignal=조용한 다가옴으로 사랑을 전하는 냥이다냥.<br>부드러운 눈빛과 낮은 울음으로 마음을 표현한다냥.<br>가끔 다가와 손길을 기다리는 신호를 보여줌이다냥., toyRecommendations=[EmojiCardDto(emoji=🐭, name=부드러운 마우스 인형, description=null), EmojiCardDto(emoji=🧶, name=가벼운 실타래, description=null), EmojiCardDto(emoji=🌿, name=자연 소재 캣닢 토이, description=null)], shareId=null)
handleRuntimeException
java.lang.NullPointerException: Cannot invoke "com.codism.domain.saju.model.dto.response.pet.MBTIStyleCardDto.toEntity()" because "this.mbtiStyle" is null
	at com.codism.domain.saju.model.dto.response.pet.PetSajuResponse.toEntity(PetSajuResponse.java:53)
	at com.codism.service.pet.PetSajuService.saveSaju(PetSajuService.java:90)
	at com.codism.service.pet.PetSajuService.generateSaju(PetSajuService.java:83)
	at com.codism.controller.pet.PetSajuController.generateSaju(PetSajuController.java:31)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.codism.config.ContentCachingFilter.doFilterInternal(ContentCachingFilter.java:27)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
Starting Application using Java 17 with PID 59252 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists keyword 
       drop constraint if exists FKqfx3nkhhtjpj873oh4mpvpufp

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK5m212pmtdgce0fme2c0if8uxy

    alter table if exists pet_saju 
       drop constraint if exists FK474uhpeam7tije8l83brqv32c

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists keyword cascade

    drop table if exists mbtistyle_card cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table keyword (
        keyword TEXT,
        share_id varchar(255) not null
    )

    create table mbtistyle_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        type varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table mbtistyle_card is
        'Summary&설명 카드'

    comment on column mbtistyle_card.created_date is
        '생성 일시'

    comment on column mbtistyle_card.last_modified_date is
        '수정 일시'

    comment on column mbtistyle_card.description is
        'description'

    comment on column mbtistyle_card.type is
        'summary'

    comment on column mbtistyle_card.id is
        'ID'

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        mbti_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        method varchar(10),
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        referer varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.method is
        'HTTP 메소드'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.referer is
        'referer'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists keyword 
       add constraint FKqfx3nkhhtjpj873oh4mpvpufp 
       foreign key (share_id) 
       references mbtistyle_card

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK5m212pmtdgce0fme2c0if8uxy 
       foreign key (mbti_id) 
       references mbtistyle_card

    alter table if exists pet_saju 
       add constraint FK474uhpeam7tije8l83brqv32c 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.834 seconds (process running for 5.439)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 102
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(method=POST, referer=http://localhost:8004/swagger-ui/index.html, endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetSajuRequest(petName=양송이, birthDate=2022-02-10, species=고양이, gender=여)
getAllStemBranch - birthDate: 2022-02-10
LLM 호출 소요 시간: 13087ms (13.09초)
Response from LLM: {
  "fortuneMessage": "양송이의 기운은 부드러운 봄바람과 깊은 강물이 만나 조화를 이루는 느낌이다냥<br>활동적이면서도 신중한 면모가 공존해 균형 잡힌 에너지가 흐르는 고양이다냥<br>따뜻한 햇살 아래서도 조심스러운 발걸음을 내딛는 모습이 인상적인 고양이다냥",
  "petEmoji": "🐱",
  "petName": "양송이",
  "birthDate": "2022년 02월 10일",
  "idealOwner": "나랑 같이 천천히 놀아주고 따뜻하게 안아주는 사람이 좋아요. 편안한 분위기에서 같이 쉬는 걸 좋아해요.",
  "favoritePlace": "난 높은 곳에 앉아 주변을 살피는 게 좋아요. 따뜻한 이불이나 컴퓨터 위도 정말 좋아요.",
  "dailyHabit": "낮에 조용히 햇볕 쬐면서 쏙 숨어있는 걸 좋아해요. 가끔 갑자기 씽 달려 다녀요.",
  "personalityTraits": [
    "호기심과 신중함이 공존하는 기운이다냥",
    "숨바꼭질을 자주 즐기는 성향이다냥",
    "풍부한 감성을 가진 탐색 본능이다냥",
    "갑작스러운 활동으로 주위 사람을 놀라게 하는 면모이다냥",
    "안정감을 추구하며 따뜻한 휴식 시간을 소중히 여기는 타입이다냥"
  ],
  "mbtiStyle": {
    "type": "ISFP",
    "keywords": ["신중함", "감성적인 탐색", "따뜻한 휴식"],
    "description": "양송이는 조심스럽게 세상을 탐험하는 감성적인 고양이다냥. 만족스러운 휴식을 중요하게 여기는 타입이다냥."
  },
  "petMessage": "나랑 같이 편안하게 놀아주면 정말 좋아요!",
  "loveSignal": "조용히 옆에 앉아 있는 시간이 늘어난다냥<br>부드럽게 몸을 비비거나 머리를 대는 행동이 많아진다냥<br>가끔은 살짝 졸린 척하면서도 주위를 살피는 모습이다냥",
  "toyRecommendations": [
    {
      "emoji": "🐭",
      "name": "부드러운 쥐 인형",
      "reason": "감성적인 양송이 기운에 잘 맞는 부드러운 질감이라냥"
    },
    {
      "emoji": "🌿",
      "name": "캣닢 장난감",
      "reason": "생기 넘치는 목의 기운을 자극해주는 아이이다냥"
    },
    {
      "emoji": "🪶",
      "name": "깃털 막대 장난감",
      "reason": "활동성을 살려주고 신중함과 균형을 맞춰주는 장난감이다냥"
    }
  ]
}
PetSajuResponse(requestLog=null, fortuneMessage=양송이의 기운은 부드러운 봄바람과 깊은 강물이 만나 조화를 이루는 느낌이다냥<br>활동적이면서도 신중한 면모가 공존해 균형 잡힌 에너지가 흐르는 고양이다냥<br>따뜻한 햇살 아래서도 조심스러운 발걸음을 내딛는 모습이 인상적인 고양이다냥, petEmoji=🐱, petName=양송이, birthDate=2022년 02월 10일, idealOwner=나랑 같이 천천히 놀아주고 따뜻하게 안아주는 사람이 좋아요. 편안한 분위기에서 같이 쉬는 걸 좋아해요., favoritePlace=난 높은 곳에 앉아 주변을 살피는 게 좋아요. 따뜻한 이불이나 컴퓨터 위도 정말 좋아요., dailyHabit=낮에 조용히 햇볕 쬐면서 쏙 숨어있는 걸 좋아해요. 가끔 갑자기 씽 달려 다녀요., mbtiStyle=MBTIStyleCardDto(type=ISFP, keywords=[신중함, 감성적인 탐색, 따뜻한 휴식], description=양송이는 조심스럽게 세상을 탐험하는 감성적인 고양이다냥. 만족스러운 휴식을 중요하게 여기는 타입이다냥.), personalityTraits=[호기심과 신중함이 공존하는 기운이다냥, 숨바꼭질을 자주 즐기는 성향이다냥, 풍부한 감성을 가진 탐색 본능이다냥, 갑작스러운 활동으로 주위 사람을 놀라게 하는 면모이다냥, 안정감을 추구하며 따뜻한 휴식 시간을 소중히 여기는 타입이다냥], petMessage=나랑 같이 편안하게 놀아주면 정말 좋아요!, loveSignal=조용히 옆에 앉아 있는 시간이 늘어난다냥<br>부드럽게 몸을 비비거나 머리를 대는 행동이 많아진다냥<br>가끔은 살짝 졸린 척하면서도 주위를 살피는 모습이다냥, toyRecommendations=[EmojiCardDto(emoji=🐭, name=부드러운 쥐 인형, description=null), EmojiCardDto(emoji=🌿, name=캣닢 장난감, description=null), EmojiCardDto(emoji=🪶, name=깃털 막대 장난감, description=null)], shareId=null)

    insert 
    into
        mbtistyle_card
        (created_date, description, last_modified_date, type, id) 
    values
        (?, ?, ?, ?, ?)

    insert 
    into
        request_log
        (created_date, device_id, device_type, endpoint, ip_address, last_modified_date, method, referer, request_params, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        pet_saju
        (birth_date, created_date, daily_habit, favorite_place, fortune_message, ideal_owner, is_active, last_modified_date, love_signal, mbti_id, pet_emoji, pet_message, pet_name, request_id, species, toy_recommendations_id, view_count, share_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        keyword
        (share_id, keyword) 
    values
        (?, ?)

    insert 
    into
        keyword
        (share_id, keyword) 
    values
        (?, ?)

    insert 
    into
        keyword
        (share_id, keyword) 
    values
        (?, ?)

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)
==================== END ======================
===============================================
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 102
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(method=POST, referer=http://localhost:8004/swagger-ui/index.html, endpoint=/pet/saju, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetSajuRequest(petName=양송이, birthDate=2022-02-10, species=고양이, gender=여)
getAllStemBranch - birthDate: 2022-02-10
LLM 호출 소요 시간: 14491ms (14.49초)
Response from LLM: {
  "fortuneMessage": "양송이의 기운은 부드러운 숲속의 봄바람과 같아 냥.<br>곳곳을 호기심 가득 두리번거리는 탐색 본능과 따뜻한 감성이 조화를 이루는구나 냥.<br>약간 예민한 면과 포용력 있어 균형 잡힌 기운이다냥.",
  "petEmoji": "🐱",
  "petName": "양송이",
  "birthDate": "2022년 02월 10일",
  "idealOwner": "조용하고 부드러운 목소리로 다가와주는 사람이 좋아요. 놀이할 때 집중해주면 더 좋아해요.",
  "favoritePlace": "높은 선반이나 창문 가까이 햇볕이 잘 드는 곳에서 쉬는 게 좋아요.",
  "dailyHabit": "낮에는 햇살 아래서 졸린 눈으로 쫑알쫑알 거리다 가끔씩 뛰어다녀요.",
  "personalityTraits": [
    "탐색심이 왕성해 새로운 공간을 좋아한다냥",
    "부드럽고 감성적인 반응을 보인다냥",
    "때때로 내성적이고 조심스러운 면이 있다냥",
    "상황에 따라 예민하게 반응하지만 포용하려 한다냥",
    "맑은 눈으로 주변 변화를 잘 관찰한다냥"
  ],
  "mbtiStyle": {
    "type": "ISFP",
    "keywords": ["감각적", "조용한 탐험가", "규칙적인 휴식"],
    "description": "온화하면서도 날카로운 감각으로 세상을 탐험하는 스타일이다냥<br>느긋한 순간과 활발한 놀이가 조화를 이루는 냥이이다냥"
  },
  "petMessage": "난 여기 햇살 좋은 곳에서 뒹굴거리는 게 좋아요!",
  "loveSignal": "조용히 네 앞에 기대앉아 신뢰를 나타내는구나 냥.<br>가만히 눈을 맞추며 살짝 꼬리를 흔드는 모습은 사랑의 속삭임이다냥.<br>장난감이나 작은 손길에 호응하며 애정을 표현하는구나 냥.",
  "toyRecommendations": [
    {
      "emoji": "🌿",
      "name": "캣닢 인형",
      "reason": "부드럽고 자연스러운 감각을 자극해 균형 잡힌 에너지에 잘 맞는 장난감이다냥"
    },
    {
      "emoji": "🧶",
      "name": "실타래",
      "reason": "탐색 본능을 살려주어 활동적이면서도 차분한 균형을 유지하는 데 도움이 된다냥"
    },
    {
      "emoji": "🪶",
      "name": "깃털 장난감",
      "reason": "감성과 예민함을 갖춘 양송이의 사냥 본능을 부드럽게 자극하는 최고의 놀잇감이다냥"
    }
  ]
}
PetSajuResponse(requestLog=null, fortuneMessage=양송이의 기운은 부드러운 숲속의 봄바람과 같아 냥.<br>곳곳을 호기심 가득 두리번거리는 탐색 본능과 따뜻한 감성이 조화를 이루는구나 냥.<br>약간 예민한 면과 포용력 있어 균형 잡힌 기운이다냥., petEmoji=🐱, petName=양송이, birthDate=2022년 02월 10일, idealOwner=조용하고 부드러운 목소리로 다가와주는 사람이 좋아요. 놀이할 때 집중해주면 더 좋아해요., favoritePlace=높은 선반이나 창문 가까이 햇볕이 잘 드는 곳에서 쉬는 게 좋아요., dailyHabit=낮에는 햇살 아래서 졸린 눈으로 쫑알쫑알 거리다 가끔씩 뛰어다녀요., mbtiStyle=MBTIStyleCardDto(type=ISFP, keywords=[감각적, 조용한 탐험가, 규칙적인 휴식], description=온화하면서도 날카로운 감각으로 세상을 탐험하는 스타일이다냥<br>느긋한 순간과 활발한 놀이가 조화를 이루는 냥이이다냥), personalityTraits=[탐색심이 왕성해 새로운 공간을 좋아한다냥, 부드럽고 감성적인 반응을 보인다냥, 때때로 내성적이고 조심스러운 면이 있다냥, 상황에 따라 예민하게 반응하지만 포용하려 한다냥, 맑은 눈으로 주변 변화를 잘 관찰한다냥], petMessage=난 여기 햇살 좋은 곳에서 뒹굴거리는 게 좋아요!, loveSignal=조용히 네 앞에 기대앉아 신뢰를 나타내는구나 냥.<br>가만히 눈을 맞추며 살짝 꼬리를 흔드는 모습은 사랑의 속삭임이다냥.<br>장난감이나 작은 손길에 호응하며 애정을 표현하는구나 냥., toyRecommendations=[EmojiCardDto(emoji=🌿, name=캣닢 인형, description=null), EmojiCardDto(emoji=🧶, name=실타래, description=null), EmojiCardDto(emoji=🪶, name=깃털 장난감, description=null)], shareId=null)

    insert 
    into
        mbtistyle_card
        (created_date, description, last_modified_date, type, id) 
    values
        (?, ?, ?, ?, ?)

    insert 
    into
        request_log
        (created_date, device_id, device_type, endpoint, ip_address, last_modified_date, method, referer, request_params, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        pet_saju
        (birth_date, created_date, daily_habit, favorite_place, fortune_message, ideal_owner, is_active, last_modified_date, love_signal, mbti_id, pet_emoji, pet_message, pet_name, request_id, species, toy_recommendations_id, view_count, share_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        keyword
        (share_id, keyword) 
    values
        (?, ?)

    insert 
    into
        keyword
        (share_id, keyword) 
    values
        (?, ?)

    insert 
    into
        keyword
        (share_id, keyword) 
    values
        (?, ?)

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)

    insert 
    into
        pet_saju_personality_traits
        (share_id, trait) 
    values
        (?, ?)
==================== END ======================
===============================================
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : sec-ch-ua-mobile ===> value : ?0
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(method=GET, referer=http://localhost:8004/swagger-ui/index.html, endpoint=/pet/saju/1496d221-8ab9-458e-a99f-228cbbe9da7e, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})

    select
        ps1_0.share_id,
        ps1_0.birth_date,
        ps1_0.created_date,
        ps1_0.daily_habit,
        ps1_0.favorite_place,
        ps1_0.fortune_message,
        ps1_0.ideal_owner,
        ps1_0.is_active,
        ps1_0.last_modified_date,
        ps1_0.love_signal,
        ps1_0.mbti_id,
        ps1_0.pet_emoji,
        ps1_0.pet_message,
        ps1_0.pet_name,
        ps1_0.request_id,
        ps1_0.species,
        ps1_0.toy_recommendations_id,
        ps1_0.view_count 
    from
        pet_saju ps1_0 
    where
        ps1_0.share_id=?

    select
        mc1_0.id,
        mc1_0.created_date,
        mc1_0.description,
        mc1_0.last_modified_date,
        mc1_0.type 
    from
        mbtistyle_card mc1_0 
    where
        mc1_0.id=?

    select
        rl1_0.id,
        rl1_0.created_date,
        rl1_0.device_id,
        rl1_0.device_type,
        rl1_0.endpoint,
        rl1_0.ip_address,
        rl1_0.last_modified_date,
        rl1_0.method,
        rl1_0.referer,
        rl1_0.request_params 
    from
        request_log rl1_0 
    where
        rl1_0.id=?

    select
        ecr1_0.id,
        ecr1_0.created_date,
        ecr1_0.last_modified_date 
    from
        emoji_card_relation ecr1_0 
    where
        ecr1_0.id=?

    select
        k1_0.share_id,
        k1_0.keyword 
    from
        keyword k1_0 
    where
        k1_0.share_id=?

    select
        pt1_0.share_id,
        pt1_0.trait 
    from
        pet_saju_personality_traits pt1_0 
    where
        pt1_0.share_id=?

    select
        c1_0.relation_id,
        c1_0.id,
        c1_0.created_date,
        c1_0.description,
        c1_0.emoji,
        c1_0.last_modified_date,
        c1_0.name 
    from
        emoji_card c1_0 
    where
        c1_0.relation_id=?
PetSaju(shareId=1496d221-8ab9-458e-a99f-228cbbe9da7e, requestLog=id : 0910f901-416c-494f-8024-4fb56d6d1a58, endpoint : /pet/saju, ipAddress : 0:0:0:0:0:0:0:1, deviceType : WEB, deviceId : UNKNOWN, requestParams : {"gender":"여","petName":"양송이","species":"고양이","birthDate":"2022-02-10"}, fortuneMessage=양송이의 기운은 부드러운 숲속의 봄바람과 같아 냥.<br>곳곳을 호기심 가득 두리번거리는 탐색 본능과 따뜻한 감성이 조화를 이루는구나 냥.<br>약간 예민한 면과 포용력 있어 균형 잡힌 기운이다냥., petEmoji=🐱, petName=양송이, birthDate=2022년 02월 10일, idealOwner=조용하고 부드러운 목소리로 다가와주는 사람이 좋아요. 놀이할 때 집중해주면 더 좋아해요., favoritePlace=높은 선반이나 창문 가까이 햇볕이 잘 드는 곳에서 쉬는 게 좋아요., dailyHabit=낮에는 햇살 아래서 졸린 눈으로 쫑알쫑알 거리다 가끔씩 뛰어다녀요., mbtiStyle=id : c71b027d-99e9-4a47-81f1-3df8a15524f4, type : ISFP, keywords : [감각적, 조용한 탐험가, 규칙적인 휴식], description : 온화하면서도 날카로운 감각으로 세상을 탐험하는 스타일이다냥<br>느긋한 순간과 활발한 놀이가 조화를 이루는 냥이이다냥, personalityTraits=[탐색심이 왕성해 새로운 공간을 좋아한다냥, 부드럽고 감성적인 반응을 보인다냥, 때때로 내성적이고 조심스러운 면이 있다냥, 상황에 따라 예민하게 반응하지만 포용하려 한다냥, 맑은 눈으로 주변 변화를 잘 관찰한다냥], toyRecommendationsRelation=EmojiCardRelation(id=3e42cca0-bdde-43b7-927d-3e7bd5c6658f, childs=[id : 5fc5feb7-1093-4228-b4e5-56e8da000873, emoji : 🌿, name : 캣닢 인형, reason : null, id : aa4dcc0b-210b-4c18-9531-93afd811db87, emoji : 🧶, name : 실타래, reason : null, id : deaa55c1-0140-498d-8a16-65e721968249, emoji : 🪶, name : 깃털 장난감, reason : null]), petMessage=난 여기 햇살 좋은 곳에서 뒹굴거리는 게 좋아요!, loveSignal=조용히 네 앞에 기대앉아 신뢰를 나타내는구나 냥.<br>가만히 눈을 맞추며 살짝 꼬리를 흔드는 모습은 사랑의 속삭임이다냥.<br>장난감이나 작은 손길에 호응하며 애정을 표현하는구나 냥., species=null, viewCount=null, isActive=null)
==================== END ======================
===============================================
Starting Application using Java 17 with PID 83288 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "deploy"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists keyword 
       drop constraint if exists FKqfx3nkhhtjpj873oh4mpvpufp

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK5m212pmtdgce0fme2c0if8uxy

    alter table if exists pet_saju 
       drop constraint if exists FK474uhpeam7tije8l83brqv32c

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists keyword cascade

    drop table if exists mbtistyle_card cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table keyword (
        keyword TEXT,
        share_id varchar(255) not null
    )

    create table mbtistyle_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        type varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table mbtistyle_card is
        'Summary&설명 카드'

    comment on column mbtistyle_card.created_date is
        '생성 일시'

    comment on column mbtistyle_card.last_modified_date is
        '수정 일시'

    comment on column mbtistyle_card.description is
        'description'

    comment on column mbtistyle_card.type is
        'summary'

    comment on column mbtistyle_card.id is
        'ID'

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        mbti_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        method varchar(10),
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        referer varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.method is
        'HTTP 메소드'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.referer is
        'referer'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists keyword 
       add constraint FKqfx3nkhhtjpj873oh4mpvpufp 
       foreign key (share_id) 
       references mbtistyle_card

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK5m212pmtdgce0fme2c0if8uxy 
       foreign key (mbti_id) 
       references mbtistyle_card

    alter table if exists pet_saju 
       add constraint FK474uhpeam7tije8l83brqv32c 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 5.081 seconds (process running for 5.714)
Starting Application using Java 17 with PID 33532 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "deploy"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists mbti_keyword 
       drop constraint if exists FK20as81cwnem47g0rau7dgvlhv

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_saju 
       drop constraint if exists FK5m212pmtdgce0fme2c0if8uxy

    alter table if exists pet_saju 
       drop constraint if exists FK474uhpeam7tije8l83brqv32c

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists mbti_keyword cascade

    drop table if exists mbtistyle_card cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table mbti_keyword (
        keyword TEXT,
        share_id varchar(255) not null
    )

    create table mbtistyle_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        type varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table mbtistyle_card is
        'mbti 카드'

    comment on column mbtistyle_card.created_date is
        '생성 일시'

    comment on column mbtistyle_card.last_modified_date is
        '수정 일시'

    comment on column mbtistyle_card.description is
        'description'

    comment on column mbtistyle_card.type is
        'summary'

    comment on column mbtistyle_card.id is
        'ID'

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        mbti_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        method varchar(10),
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        referer varchar(100),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.method is
        'HTTP 메소드'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.referer is
        'referer'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists mbti_keyword 
       add constraint FK20as81cwnem47g0rau7dgvlhv 
       foreign key (share_id) 
       references mbtistyle_card

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_saju 
       add constraint FK5m212pmtdgce0fme2c0if8uxy 
       foreign key (mbti_id) 
       references mbtistyle_card

    alter table if exists pet_saju 
       add constraint FK474uhpeam7tije8l83brqv32c 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 5.116 seconds (process running for 5.685)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 197
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Google Chrome";v="135", "Not-A.Brand";v="8", "Chromium";v="135"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : JSESSIONID=8F8A0470E538C6333B2346FFA2519C5D; _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746490028$o9$g1$t1746490028$j0$l0$h0
ACTIVE_PROFILE : deploy
GATEWAY_URI : jaebum7396.iptime.org:8000
요청 로그 객체 생성: RequestLogDto(method=POST, referer=http://localhost:8004/swagger-ui/index.html, endpoint=/pet-owner/compatibility, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetOwnerCompatibilityRequest(ownerName=홍길동, ownerBirthDate=1989-06-05, ownerGender=남, petName=양송이, petBirthDate=2022-02-10, petSpecies=고양이, petGender=여)
getAllStemBranch - birthDate: 1989-06-05
getAllStemBranch - birthDate: 2022-02-10
userPrompt : 주인: 홍길동, 1989-06-05, 음력, 기사, 기오, 임인, 남 
 반려동물: 양송이, 2022-02-10, 음력, 임인, 임묘, 경자, 여, 고양이 
LLM 호출 소요 시간: 12639ms (12.64초)
content : {
  "fortuneMessage": "양송이 고양이는 홍길동의 기운에 상냥하게 반응하는구나냥.<br>따뜻한 기운의 조화 속에서 편안함을 느끼며 쫀득한 교감을 보여준다냥.<br>서로 다른 물결이 만나 새로운 감각을 불러일으키는 하루이다냥.",
  "compatibility": {
    "tags": ["서로존중", "온화한반응", "충분한거리", "자유로운놀이", "꾸준한관찰"],
    "description": "양송이와 홍길동은 서로의 공간을 존중하며 부드러운 거리를 유지하는 냥이 케미이다냥.<br>양송이는 주인의 움직임에 민감하게 반응하며 천천히 다가가는 놀이 방식을 선호한다냥.<br>일상 루틴 속에서 안정적인 감정 흐름을 유지하며 자연스러운 교감이 이루어진다냥."
  },
  "dailyLife": [
    {
      "emoji": "🐾",
      "name": "슬금슬금 다가가기",
      "description": "양송이가 살짝살짝 주인 주변을 탐색하며 발끝을 어루만지는 듯한 귀여운 행동이다냥."
    },
    {
      "emoji": "🧶",
      "name": "실타래 홀릭",
      "description": "빠른 손놀림에 민감하게 반응하며 실타래를 쫓는 모습에서 반짝이는 본능이 드러난다냥."
    },
    {
      "emoji": "🛋️",
      "name": "편안한 쉼터 찾기",
      "description": "주인이 움직이지 않을 때 은밀히 옆구리에 기대어 조용한 휴식을 즐기는 휴식 스타일이다냥."
    }
  ],
  "todayVibe": {
    "summary": "천천히 밀당하며 깊어지는 유대감",
    "description": "오늘은 양송이가 주인의 부드러운 움직임에 호기심을 느껴 살짝 접근하는 날이다냥.<br>가벼운 손길과 조용한 목소리에 집중하며 천천히 놀이를 권해보길 추천한다냥.<br>실타래 같은 자극적인 장난감보다 감촉 좋은 담요 위에서 함께 쉼을 즐기면 자연스러운 교감이 배가될 거다냥."
  },
  "littleTips": [
    {
      "emoji": "👀",
      "name": "눈맞춤",
      "description": "천천히 부드러운 눈맞춤으로 신뢰를 쌓는다냥."
    },
    {
      "emoji": "🖐️",
      "name": "손길조절",
      "description": "과하지 않은 살짝 쓰다듬기로 안정감을 준다냥."
    },
    {
      "emoji": "🎾",
      "name": "장난감선택",
      "description": "눅눅하지 않은 자연 소재 공이 좋다냥."
    },
    {
      "emoji": "🕰️",
      "name": "규칙적시간",
      "description": "매일 일정한 시간에 교감하면 편안해한다냥."
    }
  ]
}
PetOwnerCompatibilityResponse.toEntity() called : PetOwnerCompatibilityResponse(requestLog=RequestLogDto(method=POST, referer=http://localhost:8004/swagger-ui/index.html, endpoint=/pet-owner/compatibility, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={"ownerName":"홍길동","ownerBirthDate":"1989-06-05","ownerGender":"남","petName":"양송이","petBirthDate":"2022-02-10","petSpecies":"고양이","petGender":"여"}), fortuneMessage=양송이 고양이는 홍길동의 기운에 상냥하게 반응하는구나냥.<br>따뜻한 기운의 조화 속에서 편안함을 느끼며 쫀득한 교감을 보여준다냥.<br>서로 다른 물결이 만나 새로운 감각을 불러일으키는 하루이다냥., compatibility=TagsDescriptionDto(tags=[서로존중, 온화한반응, 충분한거리, 자유로운놀이, 꾸준한관찰], description=양송이와 홍길동은 서로의 공간을 존중하며 부드러운 거리를 유지하는 냥이 케미이다냥.<br>양송이는 주인의 움직임에 민감하게 반응하며 천천히 다가가는 놀이 방식을 선호한다냥.<br>일상 루틴 속에서 안정적인 감정 흐름을 유지하며 자연스러운 교감이 이루어진다냥.), dailyLife=[EmojiCardDto(emoji=🐾, name=슬금슬금 다가가기, description=양송이가 살짝살짝 주인 주변을 탐색하며 발끝을 어루만지는 듯한 귀여운 행동이다냥.), EmojiCardDto(emoji=🧶, name=실타래 홀릭, description=빠른 손놀림에 민감하게 반응하며 실타래를 쫓는 모습에서 반짝이는 본능이 드러난다냥.), EmojiCardDto(emoji=🛋️, name=편안한 쉼터 찾기, description=주인이 움직이지 않을 때 은밀히 옆구리에 기대어 조용한 휴식을 즐기는 휴식 스타일이다냥.)], todayVibe=SummaryDescriptionDto(summary=천천히 밀당하며 깊어지는 유대감, description=오늘은 양송이가 주인의 부드러운 움직임에 호기심을 느껴 살짝 접근하는 날이다냥.<br>가벼운 손길과 조용한 목소리에 집중하며 천천히 놀이를 권해보길 추천한다냥.<br>실타래 같은 자극적인 장난감보다 감촉 좋은 담요 위에서 함께 쉼을 즐기면 자연스러운 교감이 배가될 거다냥.), littleTips=[EmojiCardDto(emoji=👀, name=눈맞춤, description=천천히 부드러운 눈맞춤으로 신뢰를 쌓는다냥.), EmojiCardDto(emoji=🖐️, name=손길조절, description=과하지 않은 살짝 쓰다듬기로 안정감을 준다냥.), EmojiCardDto(emoji=🎾, name=장난감선택, description=눅눅하지 않은 자연 소재 공이 좋다냥.), EmojiCardDto(emoji=🕰️, name=규칙적시간, description=매일 일정한 시간에 교감하면 편안해한다냥.)], shareId=null)

    insert 
    into
        tags_description_card
        (created_date, description, last_modified_date, id) 
    values
        (?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        request_log
        (created_date, device_id, device_type, endpoint, ip_address, last_modified_date, method, referer, request_params, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        summary_description_card
        (created_date, description, last_modified_date, summary, id) 
    values
        (?, ?, ?, ?, ?)

    insert 
    into
        pet_owner_compatibility
        (compatibility_id, created_date, daily_life_id, fortune_message, last_modified_date, little_tips_id, owner_name, pet_name, request_id, today_vibe_id, share_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    insert 
    into
        tags
        (id, tag) 
    values
        (?, ?)

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?
PetOwnerCompatibilityResponse(requestLog=RequestLogDto(method=POST, referer=http://localhost:8004/swagger-ui/index.html, endpoint=/pet-owner/compatibility, ipAddress=0:0:0:0:0:0:0:1, deviceType=WEB, deviceId=UNKNOWN, requestParams={"ownerName":"홍길동","ownerBirthDate":"1989-06-05","ownerGender":"남","petName":"양송이","petBirthDate":"2022-02-10","petSpecies":"고양이","petGender":"여"}), fortuneMessage=양송이 고양이는 홍길동의 기운에 상냥하게 반응하는구나냥.<br>따뜻한 기운의 조화 속에서 편안함을 느끼며 쫀득한 교감을 보여준다냥.<br>서로 다른 물결이 만나 새로운 감각을 불러일으키는 하루이다냥., compatibility=TagsDescriptionDto(tags=[서로존중, 온화한반응, 충분한거리, 자유로운놀이, 꾸준한관찰], description=양송이와 홍길동은 서로의 공간을 존중하며 부드러운 거리를 유지하는 냥이 케미이다냥.<br>양송이는 주인의 움직임에 민감하게 반응하며 천천히 다가가는 놀이 방식을 선호한다냥.<br>일상 루틴 속에서 안정적인 감정 흐름을 유지하며 자연스러운 교감이 이루어진다냥.), dailyLife=[EmojiCardDto(emoji=🐾, name=슬금슬금 다가가기, description=양송이가 살짝살짝 주인 주변을 탐색하며 발끝을 어루만지는 듯한 귀여운 행동이다냥.), EmojiCardDto(emoji=🧶, name=실타래 홀릭, description=빠른 손놀림에 민감하게 반응하며 실타래를 쫓는 모습에서 반짝이는 본능이 드러난다냥.), EmojiCardDto(emoji=🛋️, name=편안한 쉼터 찾기, description=주인이 움직이지 않을 때 은밀히 옆구리에 기대어 조용한 휴식을 즐기는 휴식 스타일이다냥.)], todayVibe=SummaryDescriptionDto(summary=천천히 밀당하며 깊어지는 유대감, description=오늘은 양송이가 주인의 부드러운 움직임에 호기심을 느껴 살짝 접근하는 날이다냥.<br>가벼운 손길과 조용한 목소리에 집중하며 천천히 놀이를 권해보길 추천한다냥.<br>실타래 같은 자극적인 장난감보다 감촉 좋은 담요 위에서 함께 쉼을 즐기면 자연스러운 교감이 배가될 거다냥.), littleTips=[EmojiCardDto(emoji=👀, name=눈맞춤, description=천천히 부드러운 눈맞춤으로 신뢰를 쌓는다냥.), EmojiCardDto(emoji=🖐️, name=손길조절, description=과하지 않은 살짝 쓰다듬기로 안정감을 준다냥.), EmojiCardDto(emoji=🎾, name=장난감선택, description=눅눅하지 않은 자연 소재 공이 좋다냥.), EmojiCardDto(emoji=🕰️, name=규칙적시간, description=매일 일정한 시간에 교감하면 편안해한다냥.)], shareId=a2f1d948-a5c4-4160-832d-532d064604d8)
==================== END ======================
===============================================
