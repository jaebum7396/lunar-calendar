Starting Application using Java 17 with PID 24004 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists mbti_keyword 
       drop constraint if exists FK20as81cwnem47g0rau7dgvlhv

    alter table if exists message 
       drop constraint if exists FKfjvvb779vlbr90hpers8sx2lw

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_past_life 
       drop constraint if exists FKkbw4vnayl68fdb8fnawkxc013

    alter table if exists pet_past_life 
       drop constraint if exists FKngucndu7ybr8xr8ae0k24v1ww

    alter table if exists pet_past_life 
       drop constraint if exists FKa0hsi5ocu5283di2q5p7yjjjx

    alter table if exists pet_past_life 
       drop constraint if exists FK1vxpfpyn8nctuxo1u1iy6nejk

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKr7ba5thyautqvj318xyda0oi0

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKevkvo9tc8ilvfr9kvksaiq57p

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKcv2kbfi4jyt6mpow5107cijb6

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKn2952viym3qnsuelmwwff81xj

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKb8klw60ogg69suq94v82aesmv

    alter table if exists pet_saju 
       drop constraint if exists FK5m212pmtdgce0fme2c0if8uxy

    alter table if exists pet_saju 
       drop constraint if exists FK474uhpeam7tije8l83brqv32c

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists mbti_keyword cascade

    drop table if exists mbtistyle_card cascade

    drop table if exists message cascade

    drop table if exists mock_entity cascade

    drop table if exists name_description_card cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_past_life cascade

    drop table if exists pet_pet_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists signal_card cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table mbti_keyword (
        keyword TEXT,
        share_id varchar(255) not null
    )

    create table mbtistyle_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        type varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table mbtistyle_card is
        'mbti 카드'

    comment on column mbtistyle_card.created_date is
        '생성 일시'

    comment on column mbtistyle_card.last_modified_date is
        '수정 일시'

    comment on column mbtistyle_card.description is
        'description'

    comment on column mbtistyle_card.type is
        'summary'

    comment on column mbtistyle_card.id is
        'ID'

    create table message (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        sender varchar(100),
        id varchar(255) not null,
        message TEXT,
        signal_id varchar(255),
        primary key (id)
    )

    comment on table message is
        '이모지 카드'

    comment on column message.created_date is
        '생성 일시'

    comment on column message.last_modified_date is
        '수정 일시'

    comment on column message.sender is
        'sender'

    comment on column message.id is
        'ID'

    comment on column message.message is
        'message'

    create table mock_entity (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        share_id varchar(255) not null,
        primary key (share_id)
    )

    comment on table mock_entity is
        '테스트엔터티'

    comment on column mock_entity.created_date is
        '생성 일시'

    comment on column mock_entity.last_modified_date is
        '수정 일시'

    comment on column mock_entity.share_id is
        'UUID (링크에 사용)'

    create table name_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        name varchar(100),
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table name_description_card is
        'Name&설명 카드'

    comment on column name_description_card.created_date is
        '생성 일시'

    comment on column name_description_card.last_modified_date is
        '수정 일시'

    comment on column name_description_card.name is
        'name'

    comment on column name_description_card.description is
        'description'

    comment on column name_description_card.id is
        'ID'

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_past_life (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        habit_now varchar(1000),
        habitat varchar(1000),
        instinct_link varchar(1000),
        last_memory varchar(1000),
        fortune_message TEXT,
        nick_name_id varchar(255) unique,
        past_life_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        symbol_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_past_life is
        '반려동물 전생 결과'

    comment on column pet_past_life.created_date is
        '생성 일시'

    comment on column pet_past_life.last_modified_date is
        '수정 일시'

    comment on column pet_past_life.habit_now is
        '지금 보이는 행동'

    comment on column pet_past_life.habitat is
        '머물던 공간이나 환경'

    comment on column pet_past_life.instinct_link is
        '전생에서의 성격'

    comment on column pet_past_life.last_memory is
        '마지막 기억'

    comment on column pet_past_life.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_past_life.share_id is
        'UUID (링크에 사용)'

    create table pet_pet_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        signal_id varchar(255) unique,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_pet_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_pet_compatibility.created_date is
        '생성 일시'

    comment on column pet_pet_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_pet_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_pet_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        mbti_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        method varchar(10),
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        referer varchar(100),
        user_agent varchar(300),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.method is
        'HTTP 메소드'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.referer is
        'referer'

    comment on column request_log.user_agent is
        'User-Agent'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table signal_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table signal_card is
        'signal 카드'

    comment on column signal_card.created_date is
        '생성 일시'

    comment on column signal_card.last_modified_date is
        '수정 일시'

    comment on column signal_card.description is
        'description'

    comment on column signal_card.id is
        'ID'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists mbti_keyword 
       add constraint FK20as81cwnem47g0rau7dgvlhv 
       foreign key (share_id) 
       references mbtistyle_card

    alter table if exists message 
       add constraint FKfjvvb779vlbr90hpers8sx2lw 
       foreign key (signal_id) 
       references signal_card

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_past_life 
       add constraint FKkbw4vnayl68fdb8fnawkxc013 
       foreign key (nick_name_id) 
       references name_description_card

    alter table if exists pet_past_life 
       add constraint FKngucndu7ybr8xr8ae0k24v1ww 
       foreign key (past_life_id) 
       references emoji_card_relation

    alter table if exists pet_past_life 
       add constraint FKa0hsi5ocu5283di2q5p7yjjjx 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_past_life 
       add constraint FK1vxpfpyn8nctuxo1u1iy6nejk 
       foreign key (symbol_id) 
       references emoji_card_relation

    alter table if exists pet_pet_compatibility 
       add constraint FKr7ba5thyautqvj318xyda0oi0 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_pet_compatibility 
       add constraint FKevkvo9tc8ilvfr9kvksaiq57p 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_pet_compatibility 
       add constraint FKcv2kbfi4jyt6mpow5107cijb6 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_pet_compatibility 
       add constraint FKn2952viym3qnsuelmwwff81xj 
       foreign key (signal_id) 
       references signal_card

    alter table if exists pet_pet_compatibility 
       add constraint FKb8klw60ogg69suq94v82aesmv 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists pet_saju 
       add constraint FK5m212pmtdgce0fme2c0if8uxy 
       foreign key (mbti_id) 
       references mbtistyle_card

    alter table if exists pet_saju 
       add constraint FK474uhpeam7tije8l83brqv32c 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 5.618 seconds (process running for 6.524)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 102
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Chromium";v="136", "Google Chrome";v="136", "Not.A/Brand";v="99"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746864930$o24$g1$t1746864931$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(method=POST, referer=http://localhost:8004/swagger-ui/index.html, endpoint=/pet/past-life, ipAddress=0:0:0:0:0:0:0:1, userAgent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating Saju for PetSajuRequest(petName=양송이, birthDate=2022-02-10, species=고양이, gender=여)
getAllStemBranch - birthDate: 2022-02-10
userPrompt : 양송이, 2022-02-10, 임인, 임묘, 경자, 음력, 고양이, 여
LLM 호출 소요 시간: 9080ms (9.08초)
content : {
  "fortuneMessage": "양송이는 옛날에 바람결 따라 은은한 숲속을 누비던 흰색 미소의 요정이었다냥.<br>그 미소는 지금도 가끔씩 눈동자에 반짝임으로 담겨 있구나냥.<br>그래서 지금의 양송이는 세상을 부드럽게 감싸는 따뜻한 기운을 지닌 아이이다냥.",
  "pastLife": {
    "emoji": "🦋",
    "name": "푸른 날개를 가진 작은 나비",
    "description": "가볍고 섬세한 몸짓으로 꽃과 바람 사이를 춤추던 존재였어. 꽃잎 위에서 쉬거나 해질 무렵 빛나는 햇살에 날개를 반짝이며 하루를 보내곤 했지."
  },
  "nickname": {
    "name": "살랑이",
    "description": "가볍고 부드러운 움직임 때문에, 바람결에 살랑이는 잎처럼 불렸단다냥."
  },
  "habitat": "달빛 가득한 풀밭 위, 살랑살랑 흔들리는 꽃잎 사이 따뜻한 햇살이 스며드는 곳이었어.",
  "instinctLink": "양송이의 부드럽고 살랑거리는 움직임은 나비 시절의 바람을 타던 습관이 계속 이어진 기운이다냥.",
  "habitNow": "장난감이나 빛을 쫓아 뛰어노는 걸 정말 좋아해. 그리고 갑자기 달려가서 숨고, 또 나와서 노는 게 제일 재밌어!",
  "lastMemory": "마지막으로 느꼈던 건 해질 녘에 살며시 다가온 바람의 포근함이었지냥. 그 느낌이 아직도 가슴 속에 따뜻하게 남아 있다냥.",
  "symbol": {
    "emoji": "🍃",
    "name": "떨어진 작은 잎사귀",
    "description": "가볍게 흔들리며 날아다니던 기억을 담은 아이템이란다냥."
  }
}
PetOwnerCompatibilityResponse.toEntity() called : PetPastLifeResponse(requestLog=RequestLogDto(method=POST, referer=http://localhost:8004/swagger-ui/index.html, endpoint=/pet/past-life, ipAddress=0:0:0:0:0:0:0:1, userAgent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36, deviceType=WEB, deviceId=UNKNOWN, requestParams={"petName":"양송이","birthDate":"2022-02-10","species":"고양이","gender":"여"}), fortuneMessage=양송이는 옛날에 바람결 따라 은은한 숲속을 누비던 흰색 미소의 요정이었다냥.<br>그 미소는 지금도 가끔씩 눈동자에 반짝임으로 담겨 있구나냥.<br>그래서 지금의 양송이는 세상을 부드럽게 감싸는 따뜻한 기운을 지닌 아이이다냥., pastLife=EmojiCardDto(emoji=🦋, name=푸른 날개를 가진 작은 나비, description=가볍고 섬세한 몸짓으로 꽃과 바람 사이를 춤추던 존재였어. 꽃잎 위에서 쉬거나 해질 무렵 빛나는 햇살에 날개를 반짝이며 하루를 보내곤 했지.), nickName=null, habitat=달빛 가득한 풀밭 위, 살랑살랑 흔들리는 꽃잎 사이 따뜻한 햇살이 스며드는 곳이었어., instinctLink=양송이의 부드럽고 살랑거리는 움직임은 나비 시절의 바람을 타던 습관이 계속 이어진 기운이다냥., habitNow=장난감이나 빛을 쫓아 뛰어노는 걸 정말 좋아해. 그리고 갑자기 달려가서 숨고, 또 나와서 노는 게 제일 재밌어!, lastMemory=마지막으로 느꼈던 건 해질 녘에 살며시 다가온 바람의 포근함이었지냥. 그 느낌이 아직도 가슴 속에 따뜻하게 남아 있다냥., symbol=EmojiCardDto(emoji=🍃, name=떨어진 작은 잎사귀, description=가볍게 흔들리며 날아다니던 기억을 담은 아이템이란다냥.), shareId=null)
handleRuntimeException
java.lang.NullPointerException: Cannot invoke "com.codism.domain.saju.model.dto.response.pet.NameDescriptionDto.toEntity()" because "this.nickName" is null
	at com.codism.domain.saju.model.dto.response.pet.PetPastLifeResponse.toEntity(PetPastLifeResponse.java:55)
	at com.codism.service.pet.PetPastLifeService.savePetPastLife(PetPastLifeService.java:92)
	at com.codism.service.pet.PetPastLifeService.generatePastLife(PetPastLifeService.java:84)
	at com.codism.controller.pet.PetPastLifeController.generateCompatibility(PetPastLifeController.java:28)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:259)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:192)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:920)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:830)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.codism.config.ContentCachingFilter.doFilterInternal(ContentCachingFilter.java:27)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:833)
Starting Application using Java 17 with PID 8140 (D:\workspace\pet-fortune-api\build\classes\java\main started by jaebu in D:\workspace\pet-fortune-api)
The following 1 profile is active: "local"

    alter table if exists emoji_card 
       drop constraint if exists FK5q7ceduaffjnfnfrt06pvidgj

    alter table if exists mbti_keyword 
       drop constraint if exists FK20as81cwnem47g0rau7dgvlhv

    alter table if exists message 
       drop constraint if exists FKfjvvb779vlbr90hpers8sx2lw

    alter table if exists pet_saju_personality_traits 
       drop constraint if exists FKoaxchgtc0kr4wf70ojf3c0uh4

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpgdkjvu9ulxln0a2qvpo9hq0w

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKnchpiw63mjo88tyi5o6c607db

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKpn51gxt26839trgjgvd84k8fj

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKppfpgj35l7y3cjclpi1o02ekt

    alter table if exists pet_owner_compatibility 
       drop constraint if exists FKjejomrwphogh5g2a80q6paorv

    alter table if exists pet_past_life 
       drop constraint if exists FKkbw4vnayl68fdb8fnawkxc013

    alter table if exists pet_past_life 
       drop constraint if exists FKngucndu7ybr8xr8ae0k24v1ww

    alter table if exists pet_past_life 
       drop constraint if exists FKa0hsi5ocu5283di2q5p7yjjjx

    alter table if exists pet_past_life 
       drop constraint if exists FK1vxpfpyn8nctuxo1u1iy6nejk

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKr7ba5thyautqvj318xyda0oi0

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKevkvo9tc8ilvfr9kvksaiq57p

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKcv2kbfi4jyt6mpow5107cijb6

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKn2952viym3qnsuelmwwff81xj

    alter table if exists pet_pet_compatibility 
       drop constraint if exists FKb8klw60ogg69suq94v82aesmv

    alter table if exists pet_saju 
       drop constraint if exists FK5m212pmtdgce0fme2c0if8uxy

    alter table if exists pet_saju 
       drop constraint if exists FK474uhpeam7tije8l83brqv32c

    alter table if exists pet_saju 
       drop constraint if exists FK3bt7jihiqtmndxuektt74913m

    alter table if exists tags 
       drop constraint if exists FKlq7m1l83f8w8ipdc5r8di0dak

    drop table if exists emoji_card cascade

    drop table if exists emoji_card_relation cascade

    drop table if exists mbti_keyword cascade

    drop table if exists mbtistyle_card cascade

    drop table if exists message cascade

    drop table if exists mock_entity cascade

    drop table if exists name_description_card cascade

    drop table if exists pet_saju_personality_traits cascade

    drop table if exists pet_owner_compatibility cascade

    drop table if exists pet_past_life cascade

    drop table if exists pet_pet_compatibility cascade

    drop table if exists pet_saju cascade

    drop table if exists request_log cascade

    drop table if exists signal_card cascade

    drop table if exists summary_description_card cascade

    drop table if exists tags cascade

    drop table if exists tags_description_card cascade

    create table emoji_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        emoji varchar(10),
        name varchar(100),
        description TEXT,
        id varchar(255) not null,
        relation_id varchar(255),
        primary key (id)
    )

    comment on table emoji_card is
        '이모지 카드'

    comment on column emoji_card.created_date is
        '생성 일시'

    comment on column emoji_card.last_modified_date is
        '수정 일시'

    comment on column emoji_card.emoji is
        '이모지'

    comment on column emoji_card.name is
        '이름'

    comment on column emoji_card.description is
        '설명'

    comment on column emoji_card.id is
        'ID'

    comment on column emoji_card.relation_id is
        '연관된 공유 운세 ID'

    create table emoji_card_relation (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        id varchar(255) not null,
        primary key (id)
    )

    comment on table emoji_card_relation is
        '이모지 카드 연관 테이블'

    comment on column emoji_card_relation.created_date is
        '생성 일시'

    comment on column emoji_card_relation.last_modified_date is
        '수정 일시'

    comment on column emoji_card_relation.id is
        'ID'

    create table mbti_keyword (
        keyword TEXT,
        share_id varchar(255) not null
    )

    create table mbtistyle_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        type varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table mbtistyle_card is
        'mbti 카드'

    comment on column mbtistyle_card.created_date is
        '생성 일시'

    comment on column mbtistyle_card.last_modified_date is
        '수정 일시'

    comment on column mbtistyle_card.description is
        'description'

    comment on column mbtistyle_card.type is
        'summary'

    comment on column mbtistyle_card.id is
        'ID'

    create table message (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        sender varchar(100),
        id varchar(255) not null,
        message TEXT,
        signal_id varchar(255),
        primary key (id)
    )

    comment on table message is
        '이모지 카드'

    comment on column message.created_date is
        '생성 일시'

    comment on column message.last_modified_date is
        '수정 일시'

    comment on column message.sender is
        'sender'

    comment on column message.id is
        'ID'

    comment on column message.message is
        'message'

    create table mock_entity (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        share_id varchar(255) not null,
        primary key (share_id)
    )

    comment on table mock_entity is
        '테스트엔터티'

    comment on column mock_entity.created_date is
        '생성 일시'

    comment on column mock_entity.last_modified_date is
        '수정 일시'

    comment on column mock_entity.share_id is
        'UUID (링크에 사용)'

    create table name_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        name varchar(100),
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table name_description_card is
        'Name&설명 카드'

    comment on column name_description_card.created_date is
        '생성 일시'

    comment on column name_description_card.last_modified_date is
        '수정 일시'

    comment on column name_description_card.name is
        'name'

    comment on column name_description_card.description is
        'description'

    comment on column name_description_card.id is
        'ID'

    create table pet_saju_personality_traits (
        share_id varchar(255) not null,
        trait TEXT
    )

    create table pet_owner_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        owner_name varchar(10),
        pet_name varchar(10),
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        little_tips_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        today_vibe_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_owner_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_owner_compatibility.created_date is
        '생성 일시'

    comment on column pet_owner_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_owner_compatibility.owner_name is
        '주인 이름'

    comment on column pet_owner_compatibility.pet_name is
        '반려동물 이름'

    comment on column pet_owner_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_owner_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_past_life (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        habit_now varchar(1000),
        habitat varchar(1000),
        instinct_link varchar(1000),
        last_memory varchar(1000),
        fortune_message TEXT,
        nick_name_id varchar(255) unique,
        past_life_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        symbol_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_past_life is
        '반려동물 전생 결과'

    comment on column pet_past_life.created_date is
        '생성 일시'

    comment on column pet_past_life.last_modified_date is
        '수정 일시'

    comment on column pet_past_life.habit_now is
        '지금 보이는 행동'

    comment on column pet_past_life.habitat is
        '머물던 공간이나 환경'

    comment on column pet_past_life.instinct_link is
        '전생에서의 성격'

    comment on column pet_past_life.last_memory is
        '마지막 기억'

    comment on column pet_past_life.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_past_life.share_id is
        'UUID (링크에 사용)'

    create table pet_pet_compatibility (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        compatibility_id varchar(255) unique,
        daily_life_id varchar(255) unique,
        fortune_message TEXT,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        signal_id varchar(255) unique,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_pet_compatibility is
        '반려동물 사주/운세 결과'

    comment on column pet_pet_compatibility.created_date is
        '생성 일시'

    comment on column pet_pet_compatibility.last_modified_date is
        '수정 일시'

    comment on column pet_pet_compatibility.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_pet_compatibility.share_id is
        'UUID (링크에 사용)'

    create table pet_saju (
        is_active boolean,
        view_count integer,
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        pet_emoji varchar(10),
        birth_date varchar(50),
        species varchar(50),
        pet_name varchar(100),
        love_signal varchar(500),
        daily_habit varchar(1000),
        favorite_place varchar(1000),
        ideal_owner varchar(1000),
        pet_message varchar(1000),
        fortune_message TEXT,
        mbti_id varchar(255) unique,
        request_id varchar(255) unique,
        share_id varchar(255) not null,
        toy_recommendations_id varchar(255) unique,
        primary key (share_id)
    )

    comment on table pet_saju is
        '반려동물 사주/운세 결과'

    comment on column pet_saju.is_active is
        '활성화 여부'

    comment on column pet_saju.view_count is
        '조회수'

    comment on column pet_saju.created_date is
        '생성 일시'

    comment on column pet_saju.last_modified_date is
        '수정 일시'

    comment on column pet_saju.pet_emoji is
        '반려동물 이모지'

    comment on column pet_saju.birth_date is
        '반려동물 생년월일'

    comment on column pet_saju.species is
        '반려동물 종류 (고양이/강아지 등)'

    comment on column pet_saju.pet_name is
        '반려동물 이름'

    comment on column pet_saju.love_signal is
        '러브 시그널'

    comment on column pet_saju.daily_habit is
        '오늘의 습관'

    comment on column pet_saju.favorite_place is
        '좋아하는 장소'

    comment on column pet_saju.ideal_owner is
        '선호하는 주인'

    comment on column pet_saju.pet_message is
        '반려동물 코멘트'

    comment on column pet_saju.fortune_message is
        '복슬 신령님의 한마디 메시지'

    comment on column pet_saju.share_id is
        'UUID (링크에 사용)'

    create table request_log (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        method varchar(10),
        device_type varchar(20),
        ip_address varchar(50),
        device_id varchar(100),
        endpoint varchar(100),
        referer varchar(100),
        user_agent varchar(300),
        id varchar(255) not null,
        request_params jsonb,
        primary key (id)
    )

    comment on table request_log is
        '요청 로그'

    comment on column request_log.created_date is
        '생성 일시'

    comment on column request_log.last_modified_date is
        '수정 일시'

    comment on column request_log.method is
        'HTTP 메소드'

    comment on column request_log.device_type is
        '디바이스 타입 (MOBILE, WEB, APP)'

    comment on column request_log.ip_address is
        'IP 주소'

    comment on column request_log.device_id is
        '디바이스 ID'

    comment on column request_log.endpoint is
        'endpoint'

    comment on column request_log.referer is
        'referer'

    comment on column request_log.user_agent is
        'User-Agent'

    comment on column request_log.id is
        'ID'

    comment on column request_log.request_params is
        '요청 파라미터'

    create table signal_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table signal_card is
        'signal 카드'

    comment on column signal_card.created_date is
        '생성 일시'

    comment on column signal_card.last_modified_date is
        '수정 일시'

    comment on column signal_card.description is
        'description'

    comment on column signal_card.id is
        'ID'

    create table summary_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        summary varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table summary_description_card is
        'Summary&설명 카드'

    comment on column summary_description_card.created_date is
        '생성 일시'

    comment on column summary_description_card.last_modified_date is
        '수정 일시'

    comment on column summary_description_card.description is
        'description'

    comment on column summary_description_card.summary is
        'summary'

    comment on column summary_description_card.id is
        'ID'

    create table tags (
        id varchar(255) not null,
        tag TEXT
    )

    create table tags_description_card (
        created_date timestamp(6) not null,
        last_modified_date timestamp(6) not null,
        description varchar(1000),
        id varchar(255) not null,
        primary key (id)
    )

    comment on table tags_description_card is
        '태그&설명 카드'

    comment on column tags_description_card.created_date is
        '생성 일시'

    comment on column tags_description_card.last_modified_date is
        '수정 일시'

    comment on column tags_description_card.description is
        'description'

    comment on column tags_description_card.id is
        'id'

    alter table if exists emoji_card 
       add constraint FK5q7ceduaffjnfnfrt06pvidgj 
       foreign key (relation_id) 
       references emoji_card_relation

    alter table if exists mbti_keyword 
       add constraint FK20as81cwnem47g0rau7dgvlhv 
       foreign key (share_id) 
       references mbtistyle_card

    alter table if exists message 
       add constraint FKfjvvb779vlbr90hpers8sx2lw 
       foreign key (signal_id) 
       references signal_card

    alter table if exists pet_saju_personality_traits 
       add constraint FKoaxchgtc0kr4wf70ojf3c0uh4 
       foreign key (share_id) 
       references pet_saju

    alter table if exists pet_owner_compatibility 
       add constraint FKpgdkjvu9ulxln0a2qvpo9hq0w 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_owner_compatibility 
       add constraint FKnchpiw63mjo88tyi5o6c607db 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKpn51gxt26839trgjgvd84k8fj 
       foreign key (little_tips_id) 
       references emoji_card_relation

    alter table if exists pet_owner_compatibility 
       add constraint FKppfpgj35l7y3cjclpi1o02ekt 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_owner_compatibility 
       add constraint FKjejomrwphogh5g2a80q6paorv 
       foreign key (today_vibe_id) 
       references summary_description_card

    alter table if exists pet_past_life 
       add constraint FKkbw4vnayl68fdb8fnawkxc013 
       foreign key (nick_name_id) 
       references name_description_card

    alter table if exists pet_past_life 
       add constraint FKngucndu7ybr8xr8ae0k24v1ww 
       foreign key (past_life_id) 
       references emoji_card_relation

    alter table if exists pet_past_life 
       add constraint FKa0hsi5ocu5283di2q5p7yjjjx 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_past_life 
       add constraint FK1vxpfpyn8nctuxo1u1iy6nejk 
       foreign key (symbol_id) 
       references emoji_card_relation

    alter table if exists pet_pet_compatibility 
       add constraint FKr7ba5thyautqvj318xyda0oi0 
       foreign key (compatibility_id) 
       references tags_description_card

    alter table if exists pet_pet_compatibility 
       add constraint FKevkvo9tc8ilvfr9kvksaiq57p 
       foreign key (daily_life_id) 
       references emoji_card_relation

    alter table if exists pet_pet_compatibility 
       add constraint FKcv2kbfi4jyt6mpow5107cijb6 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_pet_compatibility 
       add constraint FKn2952viym3qnsuelmwwff81xj 
       foreign key (signal_id) 
       references signal_card

    alter table if exists pet_pet_compatibility 
       add constraint FKb8klw60ogg69suq94v82aesmv 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists pet_saju 
       add constraint FK5m212pmtdgce0fme2c0if8uxy 
       foreign key (mbti_id) 
       references mbtistyle_card

    alter table if exists pet_saju 
       add constraint FK474uhpeam7tije8l83brqv32c 
       foreign key (request_id) 
       references request_log

    alter table if exists pet_saju 
       add constraint FK3bt7jihiqtmndxuektt74913m 
       foreign key (toy_recommendations_id) 
       references emoji_card_relation

    alter table if exists tags 
       add constraint FKlq7m1l83f8w8ipdc5r8di0dak 
       foreign key (id) 
       references tags_description_card
Started Application in 4.989 seconds (process running for 5.576)
===============================================
==================== BEGIN ====================
key : host ===> value : localhost:8004
key : connection ===> value : keep-alive
key : content-length ===> value : 102
key : sec-ch-ua-platform ===> value : "Windows"
key : user-agent ===> value : Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
key : accept ===> value : */*
key : sec-ch-ua ===> value : "Chromium";v="136", "Google Chrome";v="136", "Not.A/Brand";v="99"
key : content-type ===> value : application/json
key : sec-ch-ua-mobile ===> value : ?0
key : origin ===> value : http://localhost:8004
key : sec-fetch-site ===> value : same-origin
key : sec-fetch-mode ===> value : cors
key : sec-fetch-dest ===> value : empty
key : referer ===> value : http://localhost:8004/swagger-ui/index.html
key : accept-encoding ===> value : gzip, deflate, br, zstd
key : accept-language ===> value : ko-KR,ko;q=0.9,en-US;q=0.8,en;q=0.7
key : cookie ===> value : _ga=GA1.1.378288131.1746222543; adfit_sdk_id=8b7fbad8-dea0-4472-9403-bd92c8626fd9; _ga_C3THCFMQEN=GS2.1.s1746864930$o24$g1$t1746864931$j0$l0$h0
ACTIVE_PROFILE : local
GATEWAY_URI : http://localhost
로컬에서 실행중입니다.
요청 로그 객체 생성: RequestLogDto(method=POST, referer=http://localhost:8004/swagger-ui/index.html, endpoint=/pet/past-life, ipAddress=0:0:0:0:0:0:0:1, userAgent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36, deviceType=WEB, deviceId=UNKNOWN, requestParams={})
Generating PastLife for PetSajuRequest(petName=양송이, birthDate=2022-02-10, species=고양이, gender=여)
getAllStemBranch - birthDate: 2022-02-10
userPrompt : 양송이, 2022-02-10, 임인, 임묘, 경자, 음력, 고양이, 여
LLM 호출 소요 시간: 8081ms (8.08초)
content : {
  "fortuneMessage": "양송이는 전생에 자유로운 영혼이었다냥~<br>자유롭게 숲속을 누비며 빛나는 순간들을 즐겼다냥~<br>그 기운이 지금에도 몸과 마음에 흐르는구나냥.",
  "pastLife": {
    "emoji": "🦌",
    "name": "숲의 사슴 요정",
    "description": "양송이는 전생에 숲속을 가로질러 다니던 작은 사슴 요정이었냥. 부드러운 햇살이 내려앉는 풀밭에서 조심스레 뛰노는 모습이 그려진다냥."
  },
  "nickname": {
    "name": "말랑이",
    "description": "부드럽고 포근한 느낌이 가득해 언제나 만지고 싶은 말랑말랑한 존재라서 말랑이라 불렸던 거냥."
  },
  "habitat": "초록의 나뭇잎 사이 햇살이 반짝이는 숲속 은신처, 고요한 바람이 속삭이는 공간이었냥.",
  "instinctLink": "양송이의 숲속 날렵함이 현재에도 고양이 특유의 빠른 움직임과 연관된다냥, 모험심 가득한 기운이다냥.",
  "habitNow": "장난감 쥐를 한참 물고 다니면서 노는 게 제일 신나! 좋아하는 사람에게 쪼르르 달려갈 때가 최고야!",
  "lastMemory": "햇살 속에서 자유롭게 달리던 마지막 그 순간, 마음속 깊이 따뜻함이 남아 있다냥.",
  "symbol": {
    "emoji": "🍂",
    "name": "반쪽짜리 나뭇잎",
    "description": "숲의 변화를 담아내며 생명의 순환을 상징하는 나뭇잎은 양송이의 전생 이야기를 깊게 비춘다냥."
  }
}
PetOwnerCompatibilityResponse.toEntity() called : PetPastLifeResponse(requestLog=RequestLogDto(method=POST, referer=http://localhost:8004/swagger-ui/index.html, endpoint=/pet/past-life, ipAddress=0:0:0:0:0:0:0:1, userAgent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36, deviceType=WEB, deviceId=UNKNOWN, requestParams={"petName":"양송이","birthDate":"2022-02-10","species":"고양이","gender":"여"}), fortuneMessage=양송이는 전생에 자유로운 영혼이었다냥~<br>자유롭게 숲속을 누비며 빛나는 순간들을 즐겼다냥~<br>그 기운이 지금에도 몸과 마음에 흐르는구나냥., pastLife=EmojiCardDto(emoji=🦌, name=숲의 사슴 요정, description=양송이는 전생에 숲속을 가로질러 다니던 작은 사슴 요정이었냥. 부드러운 햇살이 내려앉는 풀밭에서 조심스레 뛰노는 모습이 그려진다냥.), nickname=NameDescriptionDto(name=말랑이, description=부드럽고 포근한 느낌이 가득해 언제나 만지고 싶은 말랑말랑한 존재라서 말랑이라 불렸던 거냥.), habitat=초록의 나뭇잎 사이 햇살이 반짝이는 숲속 은신처, 고요한 바람이 속삭이는 공간이었냥., instinctLink=양송이의 숲속 날렵함이 현재에도 고양이 특유의 빠른 움직임과 연관된다냥, 모험심 가득한 기운이다냥., habitNow=장난감 쥐를 한참 물고 다니면서 노는 게 제일 신나! 좋아하는 사람에게 쪼르르 달려갈 때가 최고야!, lastMemory=햇살 속에서 자유롭게 달리던 마지막 그 순간, 마음속 깊이 따뜻함이 남아 있다냥., symbol=EmojiCardDto(emoji=🍂, name=반쪽짜리 나뭇잎, description=숲의 변화를 담아내며 생명의 순환을 상징하는 나뭇잎은 양송이의 전생 이야기를 깊게 비춘다냥.), shareId=null)

    insert 
    into
        name_description_card
        (created_date, description, last_modified_date, name, id) 
    values
        (?, ?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        request_log
        (created_date, device_id, device_type, endpoint, ip_address, last_modified_date, method, referer, request_params, user_agent, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        emoji_card_relation
        (created_date, last_modified_date, id) 
    values
        (?, ?, ?)

    insert 
    into
        emoji_card
        (created_date, description, emoji, last_modified_date, name, relation_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?)

    insert 
    into
        pet_past_life
        (created_date, fortune_message, habit_now, habitat, instinct_link, last_memory, last_modified_date, nick_name_id, past_life_id, request_id, symbol_id, share_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?

    update
        emoji_card 
    set
        relation_id=? 
    where
        id=?
PetPastLifeResponse(requestLog=RequestLogDto(method=POST, referer=http://localhost:8004/swagger-ui/index.html, endpoint=/pet/past-life, ipAddress=0:0:0:0:0:0:0:1, userAgent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36, deviceType=WEB, deviceId=UNKNOWN, requestParams={"petName":"양송이","birthDate":"2022-02-10","species":"고양이","gender":"여"}), fortuneMessage=양송이는 전생에 자유로운 영혼이었다냥~<br>자유롭게 숲속을 누비며 빛나는 순간들을 즐겼다냥~<br>그 기운이 지금에도 몸과 마음에 흐르는구나냥., pastLife=EmojiCardDto(emoji=🦌, name=숲의 사슴 요정, description=양송이는 전생에 숲속을 가로질러 다니던 작은 사슴 요정이었냥. 부드러운 햇살이 내려앉는 풀밭에서 조심스레 뛰노는 모습이 그려진다냥.), nickname=NameDescriptionDto(name=말랑이, description=부드럽고 포근한 느낌이 가득해 언제나 만지고 싶은 말랑말랑한 존재라서 말랑이라 불렸던 거냥.), habitat=초록의 나뭇잎 사이 햇살이 반짝이는 숲속 은신처, 고요한 바람이 속삭이는 공간이었냥., instinctLink=양송이의 숲속 날렵함이 현재에도 고양이 특유의 빠른 움직임과 연관된다냥, 모험심 가득한 기운이다냥., habitNow=장난감 쥐를 한참 물고 다니면서 노는 게 제일 신나! 좋아하는 사람에게 쪼르르 달려갈 때가 최고야!, lastMemory=햇살 속에서 자유롭게 달리던 마지막 그 순간, 마음속 깊이 따뜻함이 남아 있다냥., symbol=EmojiCardDto(emoji=🍂, name=반쪽짜리 나뭇잎, description=숲의 변화를 담아내며 생명의 순환을 상징하는 나뭇잎은 양송이의 전생 이야기를 깊게 비춘다냥.), shareId=4c121293-05a8-49b2-bc9d-e5673112d9d6)
==================== END ======================
===============================================
